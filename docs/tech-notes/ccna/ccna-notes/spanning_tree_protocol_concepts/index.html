<!doctype html>
<html
  lang="en"
  dir="ltr"
  class="scroll-smooth"
  data-default-appearance="dark"
  data-auto-appearance="false"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
  
    <meta http-equiv="content-language" content="en">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="theme-color">

  
  
    <title> &middot; David Thomas</title>
    <meta name="title" content=" &middot; David Thomas">
  

  
  
  
  
  
  <link rel="canonical" href="http://localhost:1313/tech-notes/ccna/ccna-notes/spanning_tree_protocol_concepts/">
  

  
  
    <meta name="author" content="David Thomas">
  
  

  
  <meta property="og:url" content="http://localhost:1313/tech-notes/ccna/ccna-notes/spanning_tree_protocol_concepts/">
  <meta property="og:site_name" content="David Thomas">
  <meta property="og:title" content="David Thomas">
  <meta property="og:description" content="RSTP is the most common spanning tree protocol. And Cisco devices default to using RSTP.
MAC table instability
The switches MAC address tables keep changing because frames with the same source MAC arrive on different ports. Broadcast storms">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="tech-notes">

  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="David Thomas">
  <meta name="twitter:description" content="RSTP is the most common spanning tree protocol. And Cisco devices default to using RSTP.
MAC table instability
The switches MAC address tables keep changing because frames with the same source MAC arrive on different ports. Broadcast storms">

  
  
  
  
    
      
    
  
    
      
    
  
    
      
    
  
  
    
  

  
  
  
  
  
  

  

  
  
  
  
  
  
  
    
  
  
    
  
  
  <link
    type="text/css"
    rel="stylesheet"
    href="/css/main.bundle.min.c5c4ab59b36e3a06d6dff38478af5d2c18b2d7a3603611d7fc5647b02111f989bd5957610b6bed4d10718428186bc7c38590e84c77c0d50f401da78f4fbb5384.css"
    integrity="sha512-xcSrWbNuOgbW3/OEeK9dLBiy16NgNhHX/FZHsCER&#43;Ym9WVdhC2vtTRBxhCgYa8fDhZDoTHfA1Q9AHaePT7tThA==">

  
  
  <script
    type="text/javascript"
    src="/js/appearance.min.6f41174b3a05b680820fe08cadbfa5fb7a7ca347b76a0955cdc68b9d8aca1ce24f0547e138cea33bcc7904d551a90afcb1cc7f2d9fe8557075d501419046c08c.js"
    integrity="sha512-b0EXSzoFtoCCD&#43;CMrb&#43;l&#43;3p8o0e3aglVzcaLnYrKHOJPBUfhOM6jO8x5BNVRqQr8scx/LZ/oVXB11QFBkEbAjA=="></script>
  
  
  
  
  
  
    
    <script src="/lib/zoom/zoom.min.umd.a527109b68c082a70f3697716dd72a9d5aa8b545cf800cecbbc7399f2ca6f6e0ce3e431f2062b48bbfa47c9ea42822714060bef309be073f49b9c0e30d318d7b.js" integrity="sha512-pScQm2jAgqcPNpdxbdcqnVqotUXPgAzsu8c5nyym9uDOPkMfIGK0i7&#43;kfJ6kKCJxQGC&#43;8wm&#43;Bz9JucDjDTGNew=="></script>
  

  
  
  
    
  
  
    
  
  
    
  
  
  
  
  
  
    
    <script
      defer
      type="text/javascript"
      id="script-bundle"
      src="/js/main.bundle.min.9cc802d09f28c6af56ceee7bc6e320a39251fdae98243f2a9942f221ac57a9f49c51609699a91794a7b2580ee1deaa8e4d794a68ffa94aa317c66e893ce51e02.js"
      integrity="sha512-nMgC0J8oxq9Wzu57xuMgo5JR/a6YJD8qmULyIaxXqfScUWCWmakXlKeyWA7h3qqOTXlKaP&#43;pSqMXxm6JPOUeAg=="
      data-copy="Copy"
      data-copied="Copied"></script>
  

  
  

<script src="/lib/jquery/jquery.slim.min.b0dca576e87d7eaa5850ae4e61759c065786cdb6489d68fcc82240539eebd5da522bdb4fda085ffd245808c8fe2acb2516408eb774ef26b5f6015fc6737c0ea8.js" integrity="sha512-sNylduh9fqpYUK5OYXWcBleGzbZInWj8yCJAU57r1dpSK9tP2ghf/SRYCMj&#43;KsslFkCOt3TvJrX2AV/Gc3wOqA=="></script>


























  

  

  

  

  





  
  
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
  

  
  <script type="application/ld+json">
  [{
    "@context": "https://schema.org",
    "@type": "Article",
    "articleSection": "",
    "name": "",
    "headline": "",
    
    "abstract": "\u003cp\u003eRSTP is the most common spanning tree protocol. And Cisco devices default to using RSTP.\u003c\/p\u003e\n\u003cp\u003eMAC table instability\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003eThe switches MAC address tables keep changing because frames with the same source MAC arrive on different ports.\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003eBroadcast storms\u003c\/p\u003e",
    "inLanguage": "en",
    "url" : "http://localhost:1313/tech-notes/ccna/ccna-notes/spanning_tree_protocol_concepts/",
    "author" : {
      "@type": "Person",
      "name": "David Thomas"
    },
    
    
    
    
    
    
    
    
    "mainEntityOfPage": "true",
    "wordCount": "2878"
  }]
  </script>



  
  

  
  

  
  

  
  
    
      <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
      <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
      <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
      <script>

    const firebaseConfig = {
      apiKey: "AIzaSyApsKLCbGb5fkkrzxABOtl3-OUuBcRPVsc",
      authDomain: "davidwrites-89dd7.firebaseapp.com",
      projectId: "davidwrites-89dd7",
      storageBucket: "davidwrites-89dd7.firebasestorage.app",
      messagingSenderId: "433139099634",
      appId: "1:433139099634:web:c14275555bd7171e6c6d6b",
      measurementId: "G-XX5507B82W"
    };

        var app = firebase.initializeApp(firebaseConfig);
        var db = firebase.firestore();
        var auth = firebase.auth();

      </script>
    
  

  
  
</head>







  
    
  







  
    
  






  
  
  <body class="flex flex-col h-screen m-auto leading-7 max-w-7xl px-6 sm:px-14 md:px-24 lg:px-32 text-lg bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600">
    <div id="the-top" class="absolute flex self-center">
      <a
        class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600"
        href="#main-content">
        <span class="font-bold text-primary-600 pe-2 dark:text-primary-400">&darr;</span>
        Skip to main content
      </a>
    </div>
    
    
      













<div
  class="main-menu flex items-center justify-between py-6 md:justify-start gap-x-3 pt-[2px] pr-2 md:pr-4 pb-[3px] pl-0">
  
  
    
    

  <div class="flex flex-1 items-center justify-between">
    <nav class="flex space-x-3">
      
        <a href="/" class="text-base font-medium">
          David Thomas
        </a>
      
    </nav>
    
  <nav class="hidden md:flex items-center gap-x-5 md:ml-12 h-12">
    
      
        
  <a
  href="/tech-notes/"
  
  class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
  aria-label="Tech Notes"
  title="">
  
  
    <p class="text-base font-medium">
      Tech Notes
    </p>
  
</a>



      
        
  <a
  href="/notes/"
  
  class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
  aria-label="Notes"
  title="Book Notes &amp; Reviews">
  
  
    <p class="text-base font-medium">
      Notes
    </p>
  
</a>



      
        
  <a
  href="/articles/"
  
  class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
  aria-label="Articles"
  title="Articles">
  
  
    <p class="text-base font-medium">
      Articles
    </p>
  
</a>



      
        
  <a
  href="/now/"
  
  class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
  aria-label="Now"
  title="Now">
  
  
    <p class="text-base font-medium">
      Now
    </p>
  
</a>



      
        
  <a
  href=""
  
  class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
  
  title="">
  
  
</a>



      
    

    

    

    
      <button
        id="search-button"
        aria-label="Search"
        class="text-base hover:text-primary-600 dark:hover:text-primary-400"
        title="Search (/)">
        <span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span>
      </button>
    

    
  </nav>

    
  <div class="flex md:hidden items-center gap-x-5 md:ml-12 h-12">
    <span></span>

    

    

    
      <button
        id="search-button-mobile"
        aria-label="Search"
        class="text-base hover:text-primary-600 dark:hover:text-primary-400"
        title="Search (/)">
        <span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span>
      </button>
    

    
  </div>

  </div>
  
  <div class="-my-2 md:hidden">
    <div id="menu-button" class="block">
      
        <div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400">
          <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"/></svg>
</span>
        </div>
        <div
          id="menu-wrapper"
          class="fixed inset-0 z-30 invisible w-screen h-screen m-0 overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50 pt-[5px]">
          <ul
            class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none text-end max-w-7xl">
            <li id="menu-close-button">
              <span
                class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400">
                <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>
</span>
              </span>
            </li>

            
              
  <li class="mt-1">
  <a
    href="/tech-notes/"
    
    class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
    aria-label="Tech Notes"
    title="">
    
    
      <p class="text-bg font-bg">
        Tech Notes
      </p>
    
  </a>
</li>



            
              
  <li class="mt-1">
  <a
    href="/notes/"
    
    class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
    aria-label="Notes"
    title="Book Notes &amp; Reviews">
    
    
      <p class="text-bg font-bg">
        Notes
      </p>
    
  </a>
</li>



            
              
  <li class="mt-1">
  <a
    href="/articles/"
    
    class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
    aria-label="Articles"
    title="Articles">
    
    
      <p class="text-bg font-bg">
        Articles
      </p>
    
  </a>
</li>



            
              
  <li class="mt-1">
  <a
    href="/now/"
    
    class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
    aria-label="Now"
    title="Now">
    
    
      <p class="text-bg font-bg">
        Now
      </p>
    
  </a>
</li>



            
              
  <li class="mt-1">
  <a
    href=""
    
    class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
    
    title="">
    
    
  </a>
</li>



            

          </ul>
          
        </div>
      
    </div>
  </div>

</div>




  <script>
    (function () {
      var $mainmenu = $(".main-menu");
      var path = window.location.pathname;
      $mainmenu.find('a[href="' + path + '"]').each(function (i, e) {
        $(e).children("p").addClass("active");
      });
    })();
  </script>


    
    <div class="relative flex flex-col grow">
      <main id="main-content" class="grow">
        
  
  <article>
    
    

    
    <header id="single_header" class="mt-5 max-w-prose">
      
      <h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
        
      </h1>
      <div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden">
        





  
  



  

  
  
  
    
  

  

  
    
  

  

  

  

  
    
  

  
    
  

  
    
  

  

  


  <div class="flex flex-row flex-wrap items-center">
    
    
      <time datetime="0001-01-01T00:00:00&#43;00:00">1 January 0001</time><span class="px-2 text-primary-500">&middot;</span><span>
  
  
    
    
      
      
        
        
      
      
    
  
  <span
    id="views_tech notes/CCNA/CCNA Notes/spanning_tree_protocol_concepts.md"
    class="animate-pulse inline-block text-transparent max-h-3 rounded-full -mt-[2px] align-middle bg-neutral-300 dark:bg-neutral-400"
    title="views"
    >loading</span
  >
  <span class="inline-block align-text-bottom"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
<path fill="currentColor" d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></span>
</span>
<span class="px-2 text-primary-500">&middot;</span><span>
  
  
    
    
      
      
        
        
      
      
    
  
  <span
    id="likes_tech notes/CCNA/CCNA Notes/spanning_tree_protocol_concepts.md"
    class="animate-pulse inline-block text-transparent max-h-3 rounded-full -mt-[2px] align-middle bg-neutral-300 dark:bg-neutral-400"
    title="likes"
    >loading</span
  >
  <span class="inline-block align-text-bottom"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
<path fill="currentColor" d="M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"/></svg></span></span>
</span>
<span class="px-2 text-primary-500">&middot;</span><span>
  <button
    id="button_likes"
    class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    <span id="button_likes_heart" class="inline-block align-text-bottom hidden"
      ><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
<path fill="currentColor" d="M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"/></svg></span>
    </span>
    <span id="button_likes_emtpty_heart" class="inline-block align-text-bottom"
      ><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
<path fill="currentColor" d="M244 84L255.1 96L267.1 84.02C300.6 51.37 347 36.51 392.6 44.1C461.5 55.58 512 115.2 512 185.1V190.9C512 232.4 494.8 272.1 464.4 300.4L283.7 469.1C276.2 476.1 266.3 480 256 480C245.7 480 235.8 476.1 228.3 469.1L47.59 300.4C17.23 272.1 0 232.4 0 190.9V185.1C0 115.2 50.52 55.58 119.4 44.1C164.1 36.51 211.4 51.37 244 84C243.1 84 244 84.01 244 84L244 84zM255.1 163.9L210.1 117.1C188.4 96.28 157.6 86.4 127.3 91.44C81.55 99.07 48 138.7 48 185.1V190.9C48 219.1 59.71 246.1 80.34 265.3L256 429.3L431.7 265.3C452.3 246.1 464 219.1 464 190.9V185.1C464 138.7 430.4 99.07 384.7 91.44C354.4 86.4 323.6 96.28 301.9 117.1L255.1 163.9z"/></svg></span></span
    >
    <span id="button_likes_text">&nbsp;Like</span>
  </button>
</span>
    

    
    
  </div>

  

  
  

  
  



      </div>
      
        
  
  
  
  
  
  

  

  

  

  

      
    </header>

    
    <section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row">
      
      
      
      
      
        <div class="order-first lg:ml-auto px-0 lg:order-last lg:ps-8 lg:max-w-2xs">
          <div class="toc ps-5 print:hidden lg:sticky lg:top-10">
            
              <details
  open
  id="TOCView"
  class="toc-right mt-0 overflow-y-auto overscroll-contain scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600 rounded-lg -ms-5 ps-5 pe-2 hidden lg:block">
  <summary
    class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 -ms-5 ps-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    Table of Contents
  </summary>
  <div
    class="min-w-[220px] py-2 border-dotted border-s-1 -ms-5 ps-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#etherchannel">Etherchannel</a></li>
    <li><a href="#bpdu-guard">BPDU Guard</a></li>
  </ul>
</nav>
  </div>
</details>
<details class="toc-inside mt-0 overflow-hidden rounded-lg -ms-5 ps-5 lg:hidden">
  <summary
    class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 -ms-5 ps-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    Table of Contents
  </summary>
  <div
    class="py-2 border-dotted border-neutral-300 border-s-1 -ms-5 ps-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#etherchannel">Etherchannel</a></li>
    <li><a href="#bpdu-guard">BPDU Guard</a></li>
  </ul>
</nav>
  </div>
</details>


<script>
  (function () {
    'use strict'

    const SCROLL_OFFSET_RATIO = 0.33
    const TOC_SELECTOR = '#TableOfContents'
    const ANCHOR_SELECTOR = '.anchor'
    const TOC_LINK_SELECTOR = 'a[href^="#"]'
    const NESTED_LIST_SELECTOR = 'li ul'
    const ACTIVE_CLASS = 'active'
    let isJumpingToAnchor = false

    function getActiveAnchorId(anchors, offsetRatio) {
      const threshold = window.scrollY + window.innerHeight * offsetRatio
      const tocLinks = [...document.querySelectorAll('#TableOfContents a[href^="#"]')]
      const tocIds = new Set(tocLinks.map(link => link.getAttribute('href').substring(1)))

      if (isJumpingToAnchor) {
        for (let i = 0; i < anchors.length; i++) {
          const anchor = anchors[i]
          if (!tocIds.has(anchor.id)) continue
          const top = anchor.getBoundingClientRect().top + window.scrollY
          if (Math.abs(window.scrollY - top) < 100) {
            return anchor.id
          }
        }
      }

      for (let i = anchors.length - 1; i >= 0; i--) {
        const top = anchors[i].getBoundingClientRect().top + window.scrollY
        if (top <= threshold && tocIds.has(anchors[i].id)) {
          return anchors[i].id
        }
      }
      return anchors.find(anchor => tocIds.has(anchor.id))?.id || ''
    }

    function updateTOC({ toc, anchors, links, scrollOffset, collapseInactive }) {
      const activeId = getActiveAnchorId(anchors, scrollOffset)
      if (!activeId) return

      links.forEach(link => {
        const isActive = link.getAttribute('href') === `#${activeId}`
        link.classList.toggle(ACTIVE_CLASS, isActive)

        if (collapseInactive) {
          const ul = link.closest('li')?.querySelector('ul')
          if (ul) ul.style.display = isActive ? '' : 'none'
        }
      })

      if (collapseInactive) {
        const activeLink = toc.querySelector(`a[href="#${CSS.escape(activeId)}"]`)
        let el = activeLink
        while (el && el !== toc) {
          if (el.tagName === 'UL') el.style.display = ''
          if (el.tagName === 'LI') el.querySelector('ul')?.style.setProperty('display', '')
          el = el.parentElement
        }
      }
    }

    function initTOC() {
      const toc = document.querySelector(TOC_SELECTOR)
      if (!toc) return

      const collapseInactive = true
      const anchors = [...document.querySelectorAll(ANCHOR_SELECTOR)]
      const links = [...toc.querySelectorAll(TOC_LINK_SELECTOR)]

      if (collapseInactive) {
        toc.querySelectorAll(NESTED_LIST_SELECTOR).forEach(ul => ul.style.display = 'none')
      }

      links.forEach(link => {
        link.addEventListener('click', () => {
          isJumpingToAnchor = true
        })
      })

      const config = {
        toc,
        anchors,
        links,
        scrollOffset: SCROLL_OFFSET_RATIO,
        collapseInactive
      }

      window.addEventListener('scroll', () => updateTOC(config), { passive: true })
      window.addEventListener('hashchange', () => updateTOC(config), { passive: true })

      updateTOC(config)
    }

    document.readyState === 'loading'
      ? document.addEventListener('DOMContentLoaded', initTOC)
      : initTOC()
  })()
</script>


            
          </div>
        </div>
      


      <div class="min-w-0 min-h-0 max-w-fit">
        

        <div class="article-content max-w-prose mb-20">
          <p>RSTP is the most common spanning tree protocol. And Cisco devices default to using RSTP.</p>
<p>MAC table instability</p>
<ul>
<li>The switches MAC address tables keep changing because frames with the same source MAC arrive on different ports.</li>
</ul>
<p>Broadcast storms</p>
<ul>
<li>forwarding of a frame repeatedly on the same links</li>
</ul>
<p>Multiple frame transmission</p>
<ul>
<li>side effect of looping frames</li>
<li>Multiple copies are delivered to a host, confusing the host.</li>
</ul>
<p>What Spanning Tree Does</p>
<ul>
<li>
<p>blocking state</p>
</li>
<li>
<p>interfaces does not process any frames</p>
</li>
<li>
<p>except STP/RSTP messages and some other overhead messages</p>
</li>
</ul>
<p>STP Convergence</p>
<ul>
<li>switches collectively realize that something has changed in the LAN topology</li>
<li>determine whether they need to change which ports block and which port forward</li>
</ul>
<p>How Spanning Tree works</p>
<p>three criteria to choose whether to put and interface in forwarding state:</p>
<p>elect a root switch.</p>
<ul>
<li>STP puts all working interfaces on the root switch in forwarding state</li>
</ul>
<p>nonroot switches</p>
<ul>
<li>
<p>select the port with the least administrative cost (root port)</p>
</li>
<li>
<p>cost between itself and the root switch (root cost) (root cost path)</p>
</li>
<li>
<p>root port (RP) gets put in a forwarding state</p>
</li>
<li>
<p>The switch with the lowest root cost, as compared with the other switches attached to the same link, is placed in forwarding state.</p>
</li>
<li>
<p>That switch is the designated switch, and that switch&rsquo;s interface, attached to that segment, is called the designated port (DP)</p>
</li>
</ul>
<p>STP States</p>
<p>All the root switches ports</p>
<ul>
<li>forwarding</li>
<li>root switch is always the designated switch</li>
</ul>
<p>All nonroot switch&rsquo;s root ports</p>
<ul>
<li>forwarding</li>
<li>port with the least cost to the root switch (lowest root cost)</li>
</ul>
<p>Each LAN&rsquo;s designated port</p>
<ul>
<li>forwarding</li>
<li>switch forwarding the Hello on to the segment with the lowest root cost is the designated switch for the segment</li>
</ul>
<p>All other working ports</p>
<ul>
<li>blocking</li>
<li>Not used for forwarding frames</li>
<li>frames received on these interfaces to not forward</li>
</ul>
<p>The STP Bridge ID and Hello BPDU</p>
<ul>
<li>
<p>bridge ID (BID)</p>
</li>
<li>
<p>8-byte value unique to each switch.</p>
</li>
<li>
<p>2-byte priority field</p>
</li>
<li>
<p>6-byte system ID</p>
</li>
<li>
<p>based on a universal (burned-in) MAC address</p>
</li>
<li>
<p>bridge protocol data units (BPDU)</p>
</li>
<li>
<p>configuration BPDUs, which switches</p>
</li>
<li>
<p>used to exchange information with each other (switches) The most common BPDU, called a</p>
</li>
<li>
<p>hello BPDU,</p>
</li>
<li>
<p>sending switch&rsquo;s BID</p>
</li>
<li>
<p>switches can tell which switch sent which Hello BPDU</p>
</li>
<li>
<p>Root Bridge ID</p>
</li>
<li>
<p>BID the sender currently believes to be the root switch</p>
</li>
<li>
<p>Sender&rsquo;s root cost</p>
</li>
<li>
<p>STP cost between this switch and current root</p>
</li>
<li>
<p>Timer values on the root switch</p>
</li>
<li>
<p>Hello timer, MaxAge timer, and forward delay timer</p>
</li>
</ul>
<p>Electing the Root Switch</p>
<ul>
<li>
<p>based on the BIDs in the BPDUs.</p>
</li>
<li>
<p>root switch is the switch with the lowest numeric value for the BID.</p>
</li>
<li>
<p>Because the two-part BID starts with the priority value,</p>
</li>
<li>
<p>essentially the switch with the lowest priority becomes the root.</p>
</li>
<li>
<p>If a tie occurs based on the priority portion of the BID,</p>
</li>
<li>
<p>the switch with the lowest MAC address portion of the BID is the root.</p>
</li>
<li>
<p>Mac addresses are the second part of the BID</p>
</li>
<li>
<p>all switches claim to be the root by sending Hello BPDUs listing their own BID as the root BID.</p>
</li>
<li>
<p>If a switch hears a Hello that lists a better (lower) BID</p>
</li>
<li>
<p>that switch stops advertising itself as root and starts forwarding the superior Hello.</p>
</li>
<li>
<p>The Hello sent by the better switch lists the better switch’s BID as the root.</p>
</li>
<li>
<p>superior hello (better hello)</p>
</li>
<li>
<p>the listed root’s BID is better (numerically lower),</p>
</li>
<li>
<p>Inferior hello (worse Hello), meaning that</p>
</li>
<li>
<p>the listed root’s BID is not as good (numerically higher)</p>
</li>
<li>
<p>each nonroot switch chooses its one and only root port. A switch’s RP is its interface through which it has the least STP/RSTP cost to reach the root switch (least root cost).</p>
</li>
</ul>
<p>Choosing Each Switch&rsquo;s Root Port</p>
<ul>
<li>
<p>each nonroot switch chooses its one and only root port.</p>
</li>
<li>
<p>its interface through which it has the least STP/RSTP cost to reach the root switch (least root cost).</p>
</li>
<li>
<p>The STP/RSTP port cost is simply an integer value assigned to each interface, per VLAN</p>
</li>
<li>
<p>The switches also look at their neighbor’s root cost, as announced in Hello BPDUs received from each neighbor.</p>
</li>
</ul>
<p>![Root Cost = O
SWI
GO/I
GiO'2
Root Cost = O
RootCostoutGO/1 is 5
Root Cost out GO,&lsquo;2 is 8
0+5=5
cost 5
Cost = 4
GiO,Q
SW3
4
Cost 4
GiO,Q
My Root Cost
Out GOO is 4
sv-V2
GiO'1
Root Cost = 4</p>
<ul>
<li>
<p>SW3 calculates its cost to reach the root over the two possible paths by adding the advertised cost (in Hello messages) to the interface costs listed in the figure.</p>
</li>
<li>
<p>The root switch sends Hellos, with a listed root cost of 0. The idea is that the root’s cost to reach itself is 0.</p>
</li>
<li>
<p>Each switch places its root port into a forwarding state.</p>
</li>
<li>
<p>tiebreaker to use in case the best root cost ties for two or more paths.</p>
</li>
<li>
<p>Choose based on the lowest neighbor bridge ID.</p>
</li>
<li>
<p>Choose based on the lowest neighbor port priority.</p>
</li>
<li>
<p>Choose based on the lowest neighbor internal port number.</p>
</li>
</ul>
<p>Choosing the Designated Port on each LAN Segment</p>
<ul>
<li>
<p>final step to choose the STP/RSTP topology is to choose the designated port on each LAN segment.</p>
</li>
<li>
<p>The designated port (DP) on each LAN segment is the switch port that advertises the lowest-cost Hello onto a LAN segment.</p>
</li>
<li>
<p>When a nonroot switch forwards a Hello, the nonroot switch sets the root cost field in the Hello to that switch’s cost to reach the root. In effect, the switch with the lower cost to reach the root, among all switches connected to a segment, becomes the DP on that segment.</p>
</li>
<li>
<p>All DPs are placed into a forwarding state</p>
</li>
</ul>
<p>Two additional tiebreakers are needed in some cases</p>
<ul>
<li>
<p>these would be unlikely today.</p>
</li>
<li>
<p>A single switch can connect two or more interfaces to the same collision domain by connecting to a hub.</p>
</li>
<li>
<p>In that case, the one switch hears its own BPDUs.</p>
</li>
<li>
<p>So, if a switch ties with itself, two additional tiebreakers are used:</p>
</li>
<li>
<p>the lowest interface STP/RSTP priority and,</p>
</li>
<li>
<p>if that ties, the lowest internal interface number.</p>
</li>
<li>
<p>switch ports connected to endpoint devices should become DPs and settle into a forwarding state.</p>
</li>
</ul>
<p>Configuring to influence the STP Topology</p>
<ul>
<li>
<p>configure the bridge ID and  change STP/RSTP port costs.</p>
</li>
<li>
<p>change the BID, the engineer can</p>
</li>
<li>
<p>set the priority used by the switch, while</p>
</li>
<li>
<p>continues to use the universal MAC address as the final 48 bits of the BID.</p>
</li>
<li>
<p>giving a switch the lowest priority value among all switches will cause that switch to win the root election.</p>
</li>
<li>
<p>to favor one link, give the ports on that link a lower cost, or to avoid a link, give the ports a higher cost.</p>
</li>
</ul>
<p>Link Costs</p>
<p>10 Mbps</p>
<ul>
<li>2,000,000</li>
<li>100 (old)</li>
</ul>
<p>100Mbps</p>
<ul>
<li>200,000</li>
<li>19 (old)</li>
</ul>
<p>1gbps</p>
<ul>
<li>20,000</li>
<li>4 (old)</li>
</ul>
<p>10Gbps</p>
<ul>
<li>2000</li>
<li>2 (old)</li>
</ul>
<p>100Gbps</p>
<ul>
<li>200</li>
<li>N/A (old)</li>
</ul>
<p>1Tbps</p>
<ul>
<li>
<p>20</p>
</li>
<li>
<p>N/A (old)</p>
</li>
<li>
<p>the cost defaults based on the operating speed of the link, not the maximum speed</p>
</li>
<li>
<p>(config) # spanning-tree pathcost method long</p>
</li>
<li>
<p>Cisco Catalyst switches can be configured to use the long values as defaults</p>
</li>
</ul>
<p>Details specific to STP</p>
<p>STP Activity When the Network Remains Stable</p>
<ul>
<li>
<p>An STP root switch sends a new Hello BPDU every 2 seconds by default.</p>
</li>
<li>
<p>Each nonroot switch forwards the Hello on all DPs, but only after changing items listed in the Hello.</p>
</li>
<li>
<p>(As a result, the Hello flows once over every working link in the LAN.)</p>
</li>
<li>
<p>When forwarding the Hello BPDU, each switch sets the root cost to that local switch’s calculated root cost. The switch also sets the “sender’s bridge ID” field to its own bridge ID. (The root’s bridge ID field is not changed.)</p>
</li>
</ul>
<p>Step 1. The root creates and sends a Hello BPDU, with a root cost of 0, out all its working interfaces (those in a forwarding state).</p>
<p>Step 2. The nonroot switches receive the Hello on their root ports. After changing the Hello to list their own BID as the sender’s BID and listing that switch’s root cost, the switch forwards the Hello out all designated ports.</p>
<p>Step 3. Steps 1 and 2 repeat until something changes.</p>
<ul>
<li>When a switch ceases to receive the Hellos, or receives a Hello that lists different details, something has failed, so the switch reacts and starts the process of changing the spanning-tree topology.</li>
</ul>
<p>STP Timers That Manage STP Convergence</p>
<ul>
<li>
<p>STP convergence process requires the use of three timers</p>
</li>
<li>
<p>All switches use the timers as dictated by the root switch, which the root lists in its periodic Hello BPDU messages.</p>
</li>
</ul>
<p>hello</p>
<ul>
<li>2 seconds by default</li>
<li>Period between hellos created by the root</li>
</ul>
<p>MaxAge</p>
<ul>
<li>10 times the hello (20 seconds by default hello)</li>
<li>How long the switch will go without receiving any hellos before it attempts to change the stp topology</li>
</ul>
<p>Forward Delay</p>
<ul>
<li>
<p>15 seconds</p>
</li>
<li>
<p>how long the port stays in listening and learning state</p>
</li>
<li>
<p>After MaxAge expires, the switch essentially makes all its STP choices again, based on any Hellos it receives from other switches.</p>
</li>
</ul>
<p>Changing Interface States with STP</p>
<p>Roles, like root port and designated port, relate to how STP analyzes the LAN topology. States, like forwarding and blocking, tell a switch whether to send or receive frames.</p>
<p>When STP converges, a switch chooses new port roles, and the port roles determine the state (forwarding or blocking).</p>
<p>Switches using STP can simply move immediately from forwarding to blocking state, but they must take extra time to transition from blocking state to forwarding state.</p>
<p>when a port that formerly blocked needs to transition to forwarding, the switch first puts the port through two intermediate interface states.</p>
<p>Listening:</p>
<ul>
<li>interface does not forward frames.</li>
<li>switch removes old stale (unused) MAC table entries for which no frames are received from each MAC address during this period.</li>
<li>These stale MAC table entries could be the cause of the temporary loops.</li>
<li>Transitory</li>
</ul>
<p>Learning:</p>
<ul>
<li>do not forward frames</li>
<li>switch begins to learn the MAC addresses of frames received on the interface.</li>
<li>Transitory</li>
</ul>
<p>Blocking</p>
<ul>
<li>does not forward frames</li>
<li>does not learn mac addresses</li>
<li>stable</li>
</ul>
<p>Forwarding</p>
<ul>
<li>learns mac addresses</li>
<li>forwards frames</li>
<li>stable</li>
</ul>
<p>Disabled</p>
<ul>
<li>does not forward or learn mac addresses</li>
<li>stable</li>
</ul>
<p>blocking &gt; listening, &gt; learning &gt; forwarding.</p>
<p>STP leaves the interface in each interim state for a time equal to the forward delay timer, which defaults to 15 seconds.</p>
<p>a convergence event that causes an interface to change from blocking to forwarding requires 30 seconds to transition from blocking to forwarding.</p>
<p>a switch might have to wait MaxAge seconds (default 20 seconds) before even choosing to move an interface from blocking to forwarding state.</p>
<p>Rapid STP Concepts</p>
<ul>
<li>802.1w</li>
<li>Sits in 802.1q standards document</li>
</ul>
<p>Comparing STP and RSTP</p>
<ul>
<li>
<p>similarities</p>
</li>
<li>
<p>elect the root switch using the same rules and tiebreakers.</p>
</li>
<li>
<p>switches select their root ports with the same rules.</p>
</li>
<li>
<p>elect designated ports on each LAN segment with the same rules and tiebreakers.</p>
</li>
<li>
<p>place each port in either forwarding or blocking state</p>
</li>
<li>
<p>(RSTP calls the blocking state the discarding state.)</p>
</li>
<li>
<p>they can both be used in the same network.</p>
</li>
<li>
<p>RSTP improves network convergence when topology changes occur, usually converging within a few seconds (or in slow conditions, in about 10 seconds).</p>
</li>
</ul>
<p>RSTP defines more cases in which the switch can avoid waiting for a timer to expire, such as the following:</p>
<ul>
<li>
<p>a switch can replace its root port, without any waiting to reach a forwarding state (in some conditions).</p>
</li>
<li>
<p>replace a designated port, without any waiting to reach a forwarding state (in some conditions).</p>
</li>
<li>
<p>lowers waiting times for cases in which RSTP must wait for a timer.</p>
</li>
<li>
<p>MaxAge is only 3 times the hello</p>
</li>
<li>
<p>uses the term alternate port to refer to a switch’s other ports that could be used as the root port if the root port ever fails.</p>
</li>
<li>
<p>The backup port concept provides a backup port on the local switch for a designated port.</p>
</li>
<li>
<p>backup ports apply only to designs that use hubs, so they are unlikely to be useful today.)</p>
</li>
</ul>
<p>RSTP Port roles</p>
<p>Root Port</p>
<ul>
<li>Nonroot switch&rsquo;s port that has the best path to the root</li>
</ul>
<p>Alternate port</p>
<ul>
<li>Replaces the root port when the root port fails</li>
</ul>
<p>Designated port</p>
<ul>
<li>port designated to forward onto a collision domain</li>
</ul>
<p>Backup Port</p>
<ul>
<li>Replaces designated port when designated port fails</li>
</ul>
<p>Disabled ports</p>
<ul>
<li>
<p>administratively disabled</p>
</li>
<li>
<p>each switch independently generates its own Hellos.</p>
</li>
<li>
<p>allows for queries between neighbors</p>
</li>
<li>
<p>(rather than waiting on timers to expire to learn new information)</p>
</li>
</ul>
<p>RSTP and the Alternate (Root) Port Role</p>
<p>alternate port</p>
<ul>
<li>both the RP and the alternate port must receive Hellos that identify the same root switch.</li>
</ul>
<p>the switch changes the former root port’s role and state:</p>
<ul>
<li>
<p>the role from root port to a disabled port, and</p>
</li>
<li>
<p>the state from forwarding to discarding</p>
</li>
<li>
<p>without waiting on any timers, the switch changes roles and state for the alternate port:</p>
</li>
<li>
<p>its role changes to be the root port, with a forwarding state.</p>
</li>
<li>
<p>the new root port also does not need to spend time in other states, such as learning state, instead moving immediately to forwarding state.</p>
</li>
</ul>
<p>Step 1. The link between SW1 and SW3 fails, so SW3’s current root port (Gi0/1) fails.</p>
<p>Step 2. SW3 and SW2 exchange RSTP messages to confirm that SW3 will now transition its former alternate port (Gi0/2) to be the root port. This action causes SW2 to flush the required MAC table entries.</p>
<p>Step 3. SW3 transitions Gi0/1 to the disabled role and Gi0/2 to the root port role.</p>
<p>Step 4. SW3 transitions Gi0/2 to a forwarding state immediately, without using learning state, because this is one case in which RSTP knows the transition will not create a loop.</p>
<p>RSTP States and Processes</p>
<ul>
<li>
<p>RSTP keeps both the learning and forwarding states as compared with STP, for the same purposes</p>
</li>
<li>
<p>RSTP does not even define a listening state,</p>
</li>
<li>
<p>RSTP renames the blocking state to the discarding state and redefines its use slightly.</p>
</li>
<li>
<p>RSTP uses the discarding state for what STP defines as two states: disabled state and blocking state.</p>
</li>
</ul>
<p>![Table 9-10 Port States Compared: STP and RSTP
Function
Port is administratively disabled
Stable state that ignores incoming data frames and is not used to
forward data frames
Interim state without MAC learning and without forwarding
Interim state with MAC learning and without forwarding
Stable state that allows MAC learning and forwarding of data
STP State
Disabled
Blocking
Listening
Learning
Forward-
RSTp
State
Discard-
Discard-
Not used
Learning
Forward</p>
<ul>
<li>
<p>RSTP switches tell each other (using messages) that the topology has changed.</p>
</li>
<li>
<p>Those messages also direct neighboring switches to flush the contents of their MAC tables in a way that removes all the potentially loop-causing entries, without a wait.</p>
</li>
<li>
<p>RSTP backup port role creates a way for RSTP to quickly replace a switch’s designated port on some LAN.</p>
</li>
</ul>
<p>RSTP Port Types</p>
<ul>
<li>several links between two switches. RSTP considers these links to be point-to-point links and the ports connected to them to be point-to-point ports</li>
</ul>
<p>Point-to-point
port
SWI
SW3
Point-to-point
Edge Port
Point-to-point
Port
SW2
swa
Shared
Port
Hub</p>
<ul>
<li>
<p>Ports that instead connect to a single endpoint device at the edge of the network, like a PC or server, are called point-to-point edge ports, or simply edge ports.</p>
</li>
<li>
<p>&ldquo;shared&rdquo; to describe ports connected to a hub.</p>
</li>
<li>
<p>hubs also force the attached switch port to use half-duplex logic. RSTP assumes that all half-duplex ports may be connected to hubs, treating ports that use half duplex as shared ports.</p>
</li>
<li>
<p>RSTP converges more slowly on shared ports as compared to all point-to-point ports.</p>
</li>
</ul>
<p>Optional STP Features</p>

<h2 class="relative group">Etherchannel
    <div id="etherchannel" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#etherchannel" aria-label="Anchor">#</a>
    </span>
    
</h2>
<ul>
<li>The switches treat the EtherChannel as a single interface with regard to STP.</li>
</ul>
<p>Layer 2 EtherChannels combine links that switches use as switch ports, with the switches using Layer 2 switching logic to forward and receive Ethernet frames over the EtherChannels. Layer 3 EtherChannels also combine links, but the switches use Layer 3 routing logic to forward packets over the EtherChannels.</p>
<p>PortFast</p>
<p>PortFast</p>
<ul>
<li>
<p>allows a switch to immediately transition from blocking to forwarding, bypassing listening and learning states.</p>
</li>
<li>
<p>only ports on which you can safely enable PortFast are ports on which you know that no bridges, switches, or other STP-speaking devices are connected.</p>
</li>
<li>
<p>Cisco switches enable RSTP point-to-point edge ports by enabling PortFast on the port.</p>
</li>
</ul>

<h2 class="relative group">BPDU Guard
    <div id="bpdu-guard" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#bpdu-guard" aria-label="Anchor">#</a>
    </span>
    
</h2>
<p>An attacker could connect a switch to a port with a low STP/RSTP priority value. And make itself the root switch. The new STP/RSTP topology could have worse performance than the desired topology.</p>
<ul>
<li>
<p>The attacker could plug into multiple ports, into multiple switches, become root, and actually forward much of the traffic in the LAN. Without the networking staff realizing it, the attacker could use a LAN analyzer to copy large numbers of data frames sent through the LAN.</p>
</li>
<li>
<p>Users could innocently harm the LAN when they buy and connect an inexpensive consumer LAN switch (one that does not use STP/RSTP). Such a switch, without any STP/RSTP function, would not choose to block any ports and could cause a loop.</p>
</li>
<li>
<p>Cisco BPDU Guard feature helps defeat these kinds of problems by disabling a port if any BPDUs are received on the port. So, this feature is particularly useful on ports that should be used only as an access port and never connected to another switch.</p>
</li>
<li>
<p>In addition, the BPDU Guard feature helps prevent problems with PortFast. PortFast should be enabled only on access ports that connect to user devices, not to other LAN switches. Using BPDU Guard on these same ports makes sense because if another switch connects to such a port, the local switch can disable the port before a loop is created.</p>
</li>
</ul>

          
          
          
        </div>
        
        

        

        

      </div>

      
      
        
        
          
          
        
        
        
        <script
          type="text/javascript"
          src="/js/page.min.54b6f4371722649edbe871e431d8670d670878c22be8f36e229fe53cc9b786fe25a834def5e6de621f7a3e37b72bc8cd73839aa5ed907ed6cbd45cd3e1b0fa20.js"
          integrity="sha512-VLb0NxciZJ7b6HHkMdhnDWcIeMIr6PNuIp/lPMm3hv4lqDTe9ebeYh96Pje3K8jNc4Oape2QftbL1FzT4bD6IA=="
          data-oid="views_tech notes/CCNA/CCNA Notes/spanning_tree_protocol_concepts.md"
          data-oid-likes="likes_tech notes/CCNA/CCNA Notes/spanning_tree_protocol_concepts.md"></script>
      
    </section>

    
    <footer class="pt-8 max-w-prose print:hidden">
      

      
    </footer>
  </article>

        


  






<div
  id="scroll-to-top"
  class="fixed bottom-6 end-6 z-50 transform translate-y-4 opacity-0 duration-200">
  <a
    href="#the-top"
    class="pointer-events-auto flex h-12 w-12 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400"
    aria-label="Scroll to top"
    title="Scroll to top">
    &uarr;
  </a>
</div>

      </main><footer id="site-footer" class="py-10 print:hidden">
  
  
    
      
      
        
      
      
      
      
      <nav class="flex flex-row pb-4 text-base font-medium text-neutral-500 dark:text-neutral-400 overflow-x-auto py-2">
        <ul class="flex list-none flex-row">
          
            <li class=" flex mb-1 text-end sm:mb-0 sm:me-7 sm:last:me-0 me-4">
              <a
                class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center"
                href=""
                title="">
                
                
              </a>
            </li>
          
        </ul>
      </nav>
    
  
  <div class="flex items-center justify-between">
    
    
      <p class="text-sm text-neutral-500 dark:text-neutral-400">
          &copy;
          2025
          David Thomas
      </p>
    

    
    
  </div>
  
    <script>
      mediumZoom(document.querySelectorAll("img:not(.nozoom)"), {
        margin: 24,
        background: "rgba(0,0,0,0.5)",
        scrollOffset: 0,
      });
    </script>
  
  
  
  <script
    type="text/javascript"
    src="/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js"
    integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh&#43;sCQ0E53ghYrxgYqw&#43;0GCRyIEpA=="></script>
  
  
</footer>
<div
  id="search-wrapper"
  class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh] z-500"
  data-url="http://localhost:1313/">
  <div
    id="search-modal"
    class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800">
    <header class="relative z-10 flex items-center justify-between flex-none px-2">
      <form class="flex items-center flex-auto min-w-0">
        <div class="flex items-center justify-center w-8 h-8 text-neutral-400">
          <span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span>
        </div>
        <input
          type="search"
          id="search-query"
          class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent"
          placeholder="Search"
          tabindex="0">
      </form>
      <button
        id="close-search-button"
        class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
        title="Close (Esc)">
        <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>
</span>
      </button>
    </header>
    <section class="flex-auto px-2 overflow-auto">
      <ul id="search-results">
        
      </ul>
    </section>
  </div>
</div>

    </div>
  </body>
  
</html>
