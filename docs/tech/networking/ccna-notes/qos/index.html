<!doctype html>
<html
  lang="en"
  dir="ltr"
  class="scroll-smooth"
  data-default-appearance="dark"
  data-auto-appearance="false"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
  
    <meta http-equiv="content-language" content="en">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="theme-color">

  
  
    <title> &middot; David Thomas</title>
    <meta name="title" content=" &middot; David Thomas">
  

  
  
  
  
  
  <link rel="canonical" href="http://localhost:1313/tech/networking/ccna-notes/qos/">
  

  
  
    <meta name="author" content="David Thomas">
  
  

  
  <meta property="og:url" content="http://localhost:1313/tech/networking/ccna-notes/qos/">
  <meta property="og:site_name" content="David Thomas">
  <meta property="og:title" content="David Thomas">
  <meta property="og:description" content="4.0 IP Services
4.7 Explain the forwarding per-hop behavior (PHB) for QoS such as classification, marking, queuing, congestion, policing, shaping
QoS defines these actions as per-hop behaviors (PHBs), which is a formal term to refer to actions other than storing and forwarding a message.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="tech">

  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="David Thomas">
  <meta name="twitter:description" content="4.0 IP Services
4.7 Explain the forwarding per-hop behavior (PHB) for QoS such as classification, marking, queuing, congestion, policing, shaping
QoS defines these actions as per-hop behaviors (PHBs), which is a formal term to refer to actions other than storing and forwarding a message.">

  
  
  
  
    
      
    
  
    
      
    
  
    
      
    
  
  
    
  

  
  
  
  
  
  

  

  
  
  
  
  
  
  
    
  
  
    
  
  
  <link
    type="text/css"
    rel="stylesheet"
    href="/css/main.bundle.min.c5c4ab59b36e3a06d6dff38478af5d2c18b2d7a3603611d7fc5647b02111f989bd5957610b6bed4d10718428186bc7c38590e84c77c0d50f401da78f4fbb5384.css"
    integrity="sha512-xcSrWbNuOgbW3/OEeK9dLBiy16NgNhHX/FZHsCER&#43;Ym9WVdhC2vtTRBxhCgYa8fDhZDoTHfA1Q9AHaePT7tThA==">

  
  
  <script
    type="text/javascript"
    src="/js/appearance.min.6f41174b3a05b680820fe08cadbfa5fb7a7ca347b76a0955cdc68b9d8aca1ce24f0547e138cea33bcc7904d551a90afcb1cc7f2d9fe8557075d501419046c08c.js"
    integrity="sha512-b0EXSzoFtoCCD&#43;CMrb&#43;l&#43;3p8o0e3aglVzcaLnYrKHOJPBUfhOM6jO8x5BNVRqQr8scx/LZ/oVXB11QFBkEbAjA=="></script>
  
  
  
  
  
  
    
    <script src="/lib/zoom/zoom.min.umd.a527109b68c082a70f3697716dd72a9d5aa8b545cf800cecbbc7399f2ca6f6e0ce3e431f2062b48bbfa47c9ea42822714060bef309be073f49b9c0e30d318d7b.js" integrity="sha512-pScQm2jAgqcPNpdxbdcqnVqotUXPgAzsu8c5nyym9uDOPkMfIGK0i7&#43;kfJ6kKCJxQGC&#43;8wm&#43;Bz9JucDjDTGNew=="></script>
  

  
  
  
    
  
  
    
  
  
    
  
  
  
  
  
  
    
    <script
      defer
      type="text/javascript"
      id="script-bundle"
      src="/js/main.bundle.min.9cc802d09f28c6af56ceee7bc6e320a39251fdae98243f2a9942f221ac57a9f49c51609699a91794a7b2580ee1deaa8e4d794a68ffa94aa317c66e893ce51e02.js"
      integrity="sha512-nMgC0J8oxq9Wzu57xuMgo5JR/a6YJD8qmULyIaxXqfScUWCWmakXlKeyWA7h3qqOTXlKaP&#43;pSqMXxm6JPOUeAg=="
      data-copy="Copy"
      data-copied="Copied"></script>
  

  
  

<script src="/lib/jquery/jquery.slim.min.b0dca576e87d7eaa5850ae4e61759c065786cdb6489d68fcc82240539eebd5da522bdb4fda085ffd245808c8fe2acb2516408eb774ef26b5f6015fc6737c0ea8.js" integrity="sha512-sNylduh9fqpYUK5OYXWcBleGzbZInWj8yCJAU57r1dpSK9tP2ghf/SRYCMj&#43;KsslFkCOt3TvJrX2AV/Gc3wOqA=="></script>


























  

  

  

  

  





  
  
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
  

  
  <script type="application/ld+json">
  [{
    "@context": "https://schema.org",
    "@type": "Article",
    "articleSection": "",
    "name": "",
    "headline": "",
    
    "abstract": "\u003cp\u003e4.0 IP Services\u003c\/p\u003e\n\u003cp\u003e4.7 Explain the forwarding per-hop behavior (PHB) for QoS such as classification, marking, queuing, congestion, policing, shaping\u003c\/p\u003e\n\u003cp\u003eQoS defines these actions as per-hop behaviors (PHBs), which is a formal term to refer to actions other than storing and forwarding a message.\u003c\/p\u003e",
    "inLanguage": "en",
    "url" : "http://localhost:1313/tech/networking/ccna-notes/qos/",
    "author" : {
      "@type": "Person",
      "name": "David Thomas"
    },
    
    
    
    
    
    
    
    
    "mainEntityOfPage": "true",
    "wordCount": "3624"
  }]
  </script>



  
  

  
  

  
  

  
  
    
      <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
      <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
      <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
      <script>

    const firebaseConfig = {
      apiKey: "AIzaSyApsKLCbGb5fkkrzxABOtl3-OUuBcRPVsc",
      authDomain: "davidwrites-89dd7.firebaseapp.com",
      projectId: "davidwrites-89dd7",
      storageBucket: "davidwrites-89dd7.firebasestorage.app",
      messagingSenderId: "433139099634",
      appId: "1:433139099634:web:c14275555bd7171e6c6d6b",
      measurementId: "G-XX5507B82W"
    };

        var app = firebase.initializeApp(firebaseConfig);
        var db = firebase.firestore();
        var auth = firebase.auth();

      </script>
    
  

  
  
</head>







  
    
  







  
    
  






  
  
  <body class="flex flex-col h-screen m-auto leading-7 max-w-7xl px-6 sm:px-14 md:px-24 lg:px-32 text-lg bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600">
    <div id="the-top" class="absolute flex self-center">
      <a
        class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600"
        href="#main-content">
        <span class="font-bold text-primary-600 pe-2 dark:text-primary-400">&darr;</span>
        Skip to main content
      </a>
    </div>
    
    
      













<div
  class="main-menu flex items-center justify-between py-6 md:justify-start gap-x-3 pt-[2px] pr-2 md:pr-4 pb-[3px] pl-0">
  
  
    
    

  <div class="flex flex-1 items-center justify-between">
    <nav class="flex space-x-3">
      
        <a href="/" class="text-base font-medium">
          David Thomas
        </a>
      
    </nav>
    
  <nav class="hidden md:flex items-center gap-x-5 md:ml-12 h-12">
    
      
        
  <div>
  <div class="cursor-pointer flex items-center nested-menu">
    
    <a
      
      aria-label="Tech"
      class="text-base font-medium hover:text-primary-600 dark:hover:text-primary-400"
      title="">
      <p>
        Tech
      </p>
    </a>
    <span>
      <span class="relative block icon"><svg
  xmlns="http://www.w3.org/2000/svg"
  viewBox="0 0 20 20"
  fill="currentColor"
  aria-hidden="true"
>
  <path
    fill-rule="evenodd"
    d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
    clip-rule="evenodd"
  />
</svg>
</span>
    </span>
  </div>
  <div class="absolute menuhide">
    <div class="pt-2 p-5 mt-2 rounded-xl backdrop-blur shadow-2xl">
      <div class="flex flex-col space-y-3">
        
          <a
            href="/tech/networking/"
            
            aria-label="Networking"
            class="flex items-center hover:text-primary-600 dark:hover:text-primary-400">
            
            <p class="text-sm font-sm" title="">
              Networking
            </p>
          </a>
        
          <a
            href="/tech/linux/"
            
            aria-label="Linux"
            class="flex items-center hover:text-primary-600 dark:hover:text-primary-400">
            
            <p class="text-sm font-sm" title="">
              Linux
            </p>
          </a>
        
          <a
            href="/tech/ansible/"
            
            aria-label="Ansible"
            class="flex items-center hover:text-primary-600 dark:hover:text-primary-400">
            
            <p class="text-sm font-sm" title="Ansible">
              Ansible
            </p>
          </a>
        
          <a
            href="/tech/podman/"
            
            aria-label="Podman"
            class="flex items-center hover:text-primary-600 dark:hover:text-primary-400">
            
            <p class="text-sm font-sm" title="">
              Podman
            </p>
          </a>
        
      </div>
    </div>
  </div>
</div>



      
        
  <a
  href="/notes/"
  
  class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
  aria-label="Notes"
  title="Book Notes &amp; Reviews">
  
  
    <p class="text-base font-medium">
      Notes
    </p>
  
</a>



      
        
  <a
  href="/articles/"
  
  class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
  aria-label="Articles"
  title="Articles">
  
  
    <p class="text-base font-medium">
      Articles
    </p>
  
</a>



      
        
  <a
  href="/now/"
  
  class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
  aria-label="Now"
  title="Now">
  
  
    <p class="text-base font-medium">
      Now
    </p>
  
</a>



      
        
  <a
  href=""
  
  class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
  
  title="">
  
  
</a>



      
    

    

    

    
      <button
        id="search-button"
        aria-label="Search"
        class="text-base hover:text-primary-600 dark:hover:text-primary-400"
        title="Search (/)">
        <span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span>
      </button>
    

    
  </nav>

    
  <div class="flex md:hidden items-center gap-x-5 md:ml-12 h-12">
    <span></span>

    

    

    
      <button
        id="search-button-mobile"
        aria-label="Search"
        class="text-base hover:text-primary-600 dark:hover:text-primary-400"
        title="Search (/)">
        <span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span>
      </button>
    

    
  </div>

  </div>
  
  <div class="-my-2 md:hidden">
    <div id="menu-button" class="block">
      
        <div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400">
          <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"/></svg>
</span>
        </div>
        <div
          id="menu-wrapper"
          class="fixed inset-0 z-30 invisible w-screen h-screen m-0 overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50 pt-[5px]">
          <ul
            class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none text-end max-w-7xl">
            <li id="menu-close-button">
              <span
                class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400">
                <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>
</span>
              </span>
            </li>

            
              
  <li class="mt-1">
  <a
    href=""
    aria-label="Tech"
    class="flex items-center hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-bg font-bg" title="">
      Tech
    </p>
    <span>
      <span class="relative block icon"><svg
  xmlns="http://www.w3.org/2000/svg"
  viewBox="0 0 20 20"
  fill="currentColor"
  aria-hidden="true"
>
  <path
    fill-rule="evenodd"
    d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
    clip-rule="evenodd"
  />
</svg>
</span>
    </span>
  </a>
</li>

  <li class="mt-1">
    <a
      href="/tech/networking/"
      
      aria-label="Networking"
      class="flex items-center hover:text-primary-600 dark:hover:text-primary-400">
      
      <p class="text-sm font-small" title="">
        Networking
      </p>
    </a>
  </li>

  <li class="mt-1">
    <a
      href="/tech/linux/"
      
      aria-label="Linux"
      class="flex items-center hover:text-primary-600 dark:hover:text-primary-400">
      
      <p class="text-sm font-small" title="">
        Linux
      </p>
    </a>
  </li>

  <li class="mt-1">
    <a
      href="/tech/ansible/"
      
      aria-label="Ansible"
      class="flex items-center hover:text-primary-600 dark:hover:text-primary-400">
      
      <p class="text-sm font-small" title="Ansible">
        Ansible
      </p>
    </a>
  </li>

  <li class="mt-1">
    <a
      href="/tech/podman/"
      
      aria-label="Podman"
      class="flex items-center hover:text-primary-600 dark:hover:text-primary-400">
      
      <p class="text-sm font-small" title="">
        Podman
      </p>
    </a>
  </li>

<li class="mb-2"></li>



            
              
  <li class="mt-1">
  <a
    href="/notes/"
    
    class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
    aria-label="Notes"
    title="Book Notes &amp; Reviews">
    
    
      <p class="text-bg font-bg">
        Notes
      </p>
    
  </a>
</li>



            
              
  <li class="mt-1">
  <a
    href="/articles/"
    
    class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
    aria-label="Articles"
    title="Articles">
    
    
      <p class="text-bg font-bg">
        Articles
      </p>
    
  </a>
</li>



            
              
  <li class="mt-1">
  <a
    href="/now/"
    
    class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
    aria-label="Now"
    title="Now">
    
    
      <p class="text-bg font-bg">
        Now
      </p>
    
  </a>
</li>



            
              
  <li class="mt-1">
  <a
    href=""
    
    class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
    
    title="">
    
    
  </a>
</li>



            

          </ul>
          
        </div>
      
    </div>
  </div>

</div>




  <script>
    (function () {
      var $mainmenu = $(".main-menu");
      var path = window.location.pathname;
      $mainmenu.find('a[href="' + path + '"]').each(function (i, e) {
        $(e).children("p").addClass("active");
      });
    })();
  </script>


    
    <div class="relative flex flex-col grow">
      <main id="main-content" class="grow">
        
  
  <article>
    
    

    
    <header id="single_header" class="mt-5 max-w-prose">
      
      <h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
        
      </h1>
      <div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden">
        





  
  



  

  
  
  
    
  

  

  

  

  

  

  

  

  

  

  


  <div class="flex flex-row flex-wrap items-center">
    
    

    
    
  </div>

  

  
  

  
  



      </div>
      
        
  
  
  
  
  
  

  

  

  

  

      
    </header>

    
    <section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row">
      
      
      
      
      
        <div class="order-first lg:ml-auto px-0 lg:order-last lg:ps-8 lg:max-w-2xs">
          <div class="toc ps-5 print:hidden lg:sticky lg:top-10">
            
              <details
  open
  id="TOCView"
  class="toc-right mt-0 overflow-y-auto overscroll-contain scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600 rounded-lg -ms-5 ps-5 pe-2 hidden lg:block">
  <summary
    class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 -ms-5 ps-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    Table of Contents
  </summary>
  <div
    class="min-w-[220px] py-2 border-dotted border-s-1 -ms-5 ps-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#qos-managing-bandwidth-delay-jitter-and-loss">QoS: Managing Bandwidth, Delay, Jitter, and Loss</a></li>
  </ul>

  <ul>
    <li><a href="#policing">Policing</a></li>
    <li><a href="#shaping">Shaping</a>
      <ul>
        <li><a href="#setting-a-good-shaping-time-interval-for-voice-and-video">Setting a Good Shaping Time Interval for Voice and Video</a></li>
      </ul>
    </li>
    <li><a href="#congestion-avoidance">Congestion Avoidance</a></li>
  </ul>
</nav>
  </div>
</details>
<details class="toc-inside mt-0 overflow-hidden rounded-lg -ms-5 ps-5 lg:hidden">
  <summary
    class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 -ms-5 ps-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    Table of Contents
  </summary>
  <div
    class="py-2 border-dotted border-neutral-300 border-s-1 -ms-5 ps-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#qos-managing-bandwidth-delay-jitter-and-loss">QoS: Managing Bandwidth, Delay, Jitter, and Loss</a></li>
  </ul>

  <ul>
    <li><a href="#policing">Policing</a></li>
    <li><a href="#shaping">Shaping</a>
      <ul>
        <li><a href="#setting-a-good-shaping-time-interval-for-voice-and-video">Setting a Good Shaping Time Interval for Voice and Video</a></li>
      </ul>
    </li>
    <li><a href="#congestion-avoidance">Congestion Avoidance</a></li>
  </ul>
</nav>
  </div>
</details>


<script>
  (function () {
    'use strict'

    const SCROLL_OFFSET_RATIO = 0.33
    const TOC_SELECTOR = '#TableOfContents'
    const ANCHOR_SELECTOR = '.anchor'
    const TOC_LINK_SELECTOR = 'a[href^="#"]'
    const NESTED_LIST_SELECTOR = 'li ul'
    const ACTIVE_CLASS = 'active'
    let isJumpingToAnchor = false

    function getActiveAnchorId(anchors, offsetRatio) {
      const threshold = window.scrollY + window.innerHeight * offsetRatio
      const tocLinks = [...document.querySelectorAll('#TableOfContents a[href^="#"]')]
      const tocIds = new Set(tocLinks.map(link => link.getAttribute('href').substring(1)))

      if (isJumpingToAnchor) {
        for (let i = 0; i < anchors.length; i++) {
          const anchor = anchors[i]
          if (!tocIds.has(anchor.id)) continue
          const top = anchor.getBoundingClientRect().top + window.scrollY
          if (Math.abs(window.scrollY - top) < 100) {
            return anchor.id
          }
        }
      }

      for (let i = anchors.length - 1; i >= 0; i--) {
        const top = anchors[i].getBoundingClientRect().top + window.scrollY
        if (top <= threshold && tocIds.has(anchors[i].id)) {
          return anchors[i].id
        }
      }
      return anchors.find(anchor => tocIds.has(anchor.id))?.id || ''
    }

    function updateTOC({ toc, anchors, links, scrollOffset, collapseInactive }) {
      const activeId = getActiveAnchorId(anchors, scrollOffset)
      if (!activeId) return

      links.forEach(link => {
        const isActive = link.getAttribute('href') === `#${activeId}`
        link.classList.toggle(ACTIVE_CLASS, isActive)

        if (collapseInactive) {
          const ul = link.closest('li')?.querySelector('ul')
          if (ul) ul.style.display = isActive ? '' : 'none'
        }
      })

      if (collapseInactive) {
        const activeLink = toc.querySelector(`a[href="#${CSS.escape(activeId)}"]`)
        let el = activeLink
        while (el && el !== toc) {
          if (el.tagName === 'UL') el.style.display = ''
          if (el.tagName === 'LI') el.querySelector('ul')?.style.setProperty('display', '')
          el = el.parentElement
        }
      }
    }

    function initTOC() {
      const toc = document.querySelector(TOC_SELECTOR)
      if (!toc) return

      const collapseInactive = true
      const anchors = [...document.querySelectorAll(ANCHOR_SELECTOR)]
      const links = [...toc.querySelectorAll(TOC_LINK_SELECTOR)]

      if (collapseInactive) {
        toc.querySelectorAll(NESTED_LIST_SELECTOR).forEach(ul => ul.style.display = 'none')
      }

      links.forEach(link => {
        link.addEventListener('click', () => {
          isJumpingToAnchor = true
        })
      })

      const config = {
        toc,
        anchors,
        links,
        scrollOffset: SCROLL_OFFSET_RATIO,
        collapseInactive
      }

      window.addEventListener('scroll', () => updateTOC(config), { passive: true })
      window.addEventListener('hashchange', () => updateTOC(config), { passive: true })

      updateTOC(config)
    }

    document.readyState === 'loading'
      ? document.addEventListener('DOMContentLoaded', initTOC)
      : initTOC()
  })()
</script>


            
          </div>
        </div>
      


      <div class="min-w-0 min-h-0 max-w-fit">
        

        <div class="article-content max-w-prose mb-20">
          <p>4.0 IP Services</p>
<p>4.7 Explain the forwarding per-hop behavior (PHB) for QoS such as classification, marking, queuing, congestion, policing, shaping</p>
<p>QoS defines these actions as per-hop behaviors (PHBs), which is a formal term to refer to actions other than storing and forwarding a message.</p>

<h2 class="relative group">QoS: Managing Bandwidth, Delay, Jitter, and Loss
    <div id="qos-managing-bandwidth-delay-jitter-and-loss" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#qos-managing-bandwidth-delay-jitter-and-loss" aria-label="Anchor">#</a>
    </span>
    
</h2>
<p>four characteristics of network traffic:</p>
<p>Bandwidth</p>
<p>refers to the speed of a link, in bits per second (bps)</p>
<p>helps to also think of bandwidth as the capacity of the link, in terms of how many bits can be sent over the link per second.</p>
<p>Delay</p>
<p>the time between sending one packet and that same packet arriving at the destination host</p>
<p>Round-trip delay</p>
<p>the time it takes to send one packet between two hosts and receive one back</p>
<p>Jitter</p>
<p>variation in one-way delay between consecutive packets sent by the same application</p>
<p>Loss</p>
<p>the number of lost messages, usually as a percentage of packets sent.</p>
<p>people think of loss as something caused by faulty cabling or poor WAN services. That is one cause. However, more loss happens because of the normal operation of the networking devices, in which the devices’ queues get too full, so the device has nowhere to put new packets, and it discards the packet.</p>
<p>Types of Traffic</p>
<p>Data Applications</p>
<p>HTTP GET
500 Packets
Figure 11-1 Concept of Disproportionate Packet/Byte Volumes with HTTP Traffic &ldquo;&gt;</p>
<p>Quality of Experience (QoE) - users’ perception of their use of the application on the network.</p>
<p>Voice and Video Applications</p>
<p>A flow is all the data moving from one application to another over the network, with one flow for each direction</p>
<p>For example, if you open a website and connect to a web server, the web page content that moves from the server to the client is one flow.</p>
<p>From a voice perspective, a phone call between two IP phones would create a flow for each direction</p>
<p>Step 1. The phone user makes a phone call and begins speaking.</p>
<p>Step 2. A chip called a codec processes (digitizes) the sound to create a binary code (160 bytes with the G.711 codec, for example) for a certain time period (usually 20 ms).</p>
<p>Step 3. The phone places the data into an IP packet.</p>
<p>Step 4. The phone sends the packet to the destination IP phone.</p>
<p>CODEC
Voice Bytes
IP UDP ATP Voice Bytes
Figure 11-2 Creating VolP Packets with an IP Phone and a G.711 Codec &ldquo;&gt;</p>
<p>guidelines for interactive voice:</p>
<p>Delay (one-way): 150 ms or less</p>
<p>Jitter: 30 ms or less</p>
<p>Loss: 1% or less</p>
<p>requirements for video</p>
<p>Bandwidth: 384 Kbps to 20+ Mbps</p>
<p>Delay (one-way): 200–400 ms</p>
<p>Jitter: 30–50 ms</p>
<p>Loss: 0.1%–1%</p>
<p>QoS as Mentioned in This Book</p>
<p>“Classification and Marking” is about the marking of packets and the definition of trust boundaries.</p>
<p>“Queuing” describes the scheduling of packets to give one type of packet priority over another.</p>
<p>“Shaping and Policing” explains these two tools together because they are often used on opposite ends of a link.</p>
<p>“Congestion Avoidance” addresses how to manage the packet loss that occurs when network devices get too busy.</p>
<p>Classification and Marking</p>
<p>a type of QoS tool that classifies packets based on their header contents then marks the message by changing some bits in specific header fields</p>
<p>Classification Basics</p>
<p>QoS tools sit in the path that packets take when being forwarded through a router or switch, much like the positioning of ACLs. Like ACLs, QoS tools are enabled on an interface. Also like ACLs, QoS tools are enabled for a direction: packets entering the interface (before the forwarding decision) or for messages exiting the interface (after the forwarding decision).</p>
<p>classification refers to the process of matching the fields in a message to make a choice to take some QoS action</p>
<p>QoS tools perform classification (matching of header fields) to decide which packets to take certain QoS actions against. Those actions include the other types of QoS tools discussed in this chapter, such as queuing, shaping, policing, and so on.</p>
<p>Forward
RI
Classify
Queue
Scheduling
(Prioritization)
Transmit
Figure 11-3 Big Idea: Classification for Queuing in a Router &ldquo;&gt;</p>
<p>Matching (Classification) Basics</p>
<p>Cisco and by RFCs, suggests doing complex matching early in the life of a packet and then marking the packet. Marking means that the QoS tool changes one or more header fields, setting a value in the header.</p>
<p>Differentiated Services Code Point (DSCP)</p>
<p>a 6-bit field in the IP header meant for QoS marking</p>
<p>Mark DSCP
at Ingress
SWI
Less Complex Matching
DSCP=X? CLASS 1.
DSCP=Y? CLASS 2.
WAN
SW2
F igure 11-4 Systematic Classification and Markingfor the Enterprise &ldquo;&gt;</p>
<p>Classification on Routers with ACLs and NBAR</p>
<p>many QoS tools support the ability to simply refer to an IP ACL, with this kind of logic:</p>
<p>For any packet matched by the ACL with a permit action, consider that packet a match for QoS, so do a particular QoS action.</p>
<p>All these fields are matchable for QoS classification.</p>
<p>IP Header
4
TCP Header
9
Miscellaneous
Header
Fields
4
Variable
2
2
16+
Rest
Protocol Header
6 (TCP) Checksum
6 = TCP
Source IP Destination IP
Address Address
Source Dest.
Options
of
Port Port
TCP
Figure 11-5 Classification with Five Fields Used by Extended ACLs &ldquo;&gt;</p>
<p>not every classification can be easily made by matching with an ACL. In more challenging cases, Cisco Network Based Application Recognition (NBAR) can be used. NBAR is basically in its second major version, called NBAR2, or next-generation NBAR. In short, NBAR2 matches packets for classification in a large variety of ways that are very useful for QoS.</p>
<p>NBAR2 looks far beyond what an ACL can examine in a message</p>
<p>Cisco also organizes what NBAR can match in ways that make it easy to separate the traffic into different classes.</p>
<p>you might classify WebEx traffic and give it a unique DSCP marking. NBAR provides easy built-in matching ability for WebEx, plus more than 1000 different subcategories of applications.</p>
<p>NBAR refers to this idea of defining the characteristics of different applications as application signatures.)</p>
<p>Rl#(config)# class-map matchingexample
RI (config-cmap)# match protocol attribute category voice-and-video ?
! output heavily edited for length
amazon-instant-video
cisco-ip-camera
cisco-phone
espn-video
facetime
! Output snipped.
VOD service by Amazon
Cisco video surveillance camera
Cisco IP Phones and PC-based Unified Com
ESPN related websites and mobile applica
Facetime video calling software &ldquo;&gt;</p>
<p>Marking IP DSCP and Ethernet CoS</p>
<p>example plan</p>
<p>Classify all voice payload traffic that is used for business purposes as IP DSCP EF and CoS 5.</p>
<p>Classify all video conferencing and other interactive video for business purposes as IP DSCP AF41 and CoS 4.</p>
<p>Classify all business-critical data application traffic as IP DSCP AF21 and CoS 2</p>
<p>Marking the IP Header</p>
<p>Marking a QoS field in the IP header works well with QoS because the IP header exists for the entire trip from the source host to the destination host.</p>
<p>IPv4 defines a Type of Service (ToS) byte in the IPv4 header, as shown in Figure 11-6. The original RFC defined a 3-bit IP Precedence (IPP) field for QoS marking. That field gave us eight separate values—binary 000, 001, 010, and so on, through 111—which when converted to decimal are decimals 0 through 7.</p>
<p>IPP
Type of
Service
DSCP
RFC 2474
Unused
ECN
Old Use
IP Header
(Rest of IP Header&hellip;)
Current Use
RFC 3168
Figure 11-6 IP Precedence and Differentiated Services Code Point Fields &ldquo;&gt;</p>
<p>Those last 5 bits of the ToS byte per RFC 791 were mostly defined for some purpose but were not used in practice to any significant extent.</p>
<p>DSCP increased the number of marking bits to 6 bits, allowing for 64 unique values that can be marked. The DiffServ RFCs, which became RFCs back in the late 1990s, have become accepted as the most common method to use when doing QoS, and using the DSCP field for marking has become quite common.</p>
<p>IPv6 has a similar field to mark as well. The 6-bit field also goes by the name DSCP, with the byte in the IPv6 header being called the IPv6 Traffic Class byte.</p>
<p>Marking the Ethernet 802.1Q Header</p>
<p>marking field exists in the 802.1Q header</p>
<p>It goes by two different names: Class of Service, or CoS, and Priority Code Point, or PCP.</p>
<p>sits in the third byte of the 4-byte 802.1Q header, as a 3-bit field, supplying eight possible values to mark (see Figure 11-7). It goes by two different names: Class of Service, or CoS, and Priority Code Point, or PCP.</p>
<p>Ethernet
8021 Q
Type
Data
Trailer
Class of Service (COS) (3 Bits)
Priority Code Point (PCP)
Figure 11-7 Class ofService Field in 802.1Q/p Header &ldquo;&gt;</p>
<p>802.1Q header is not included in all Ethernet frames</p>
<p>only exists when 802.1Q trunking is used on a link</p>
<p>only for QoS features enabled on interfaces that use trunking, as shown</p>
<p>WAN
SWI
Trunk
SW2
can Use COS
Figure 11-8 Useful Life of COS Marking &ldquo;&gt;</p>
<p>Other Marking Fields</p>
<p>Field Name
DSCP
IPP
cos
TID
EXP
Header(s)
IPv4, IPv6
IPv4, IPv6
802.1Q
802.11
MPLS Label
Length (bits)
6
3
3
3
3
Where Used
End-to-end packet
End-to-end packet
Over VLAN trunk
over Wi-Fi
over MPLS WAN &ldquo;&gt;</p>
<p>Defining Trust Boundaries</p>
<p>most voice traffic is marked with a DSCP called Expedited Forwarding (EF), which has a decimal value of 46</p>
<p>trust boundary</p>
<p>the point in the path of a packet flowing through the network at which the networking devices can trust the current QoS markings</p>
<p>Set DSCP and
COS Inbound
SWI
Trust Boundary
WAN
SW2
Figure 11-9 Trusting Devices—PC &ldquo;&gt;</p>
<p>when the access layer includes an IP Phone, the phone is typically the trust boundary</p>
<p>IP Phones can set the CoS and DSCP fields of the messages created by the phone, as well as those forwarded from the PC through the phone. The specific marking values are actually configured on the attached access switch</p>
<p>Set Phone DSCP and COS
SWI
Trust Boundary
WAN
SW2
Figure 11-10 Trusting Devices—IP Phone &ldquo;&gt;</p>
<p>DiffServ Suggested Marking Values</p>
<p>DiffServ architecture as defined originally by RFC 2475</p>
<p>three sets of DSCP values as used in DiffServ.</p>
<p>Expedited Forwarding (EF)</p>
<p>Expedited Forwarding (EF) DSCP value—a single value</p>
<p>use for packets that need low latency (delay), low jitter, and low loss.</p>
<p>decimal 46</p>
<p>Most often QoS plans use EF to mark voice payload packets. With voice calls, some packets carry voice payload, and other packets carry call signaling messages. Call signaling messages set up (create) the voice call between two devices, and they do not require low delay, jitter, and loss.</p>
<p>By default, Cisco IP Phones mark voice pay-load with EF, and mark voice signaling packets sent by the phone with another value called CS3.</p>
<p>Assured Forwarding (AF)</p>
<p>The Assured Forwarding (AF) DiffServ RFC (2597) defines a set of 12 DSCP values meant to be used in concert with each other</p>
<p>defines the concept of four separate queues in a queuing system. Additionally, it defines three levels of drop priority within each queue for use with congestion avoidance tools. With four queues, and three drop priority classes per queue, you need 12 different DSCP markings, one for each combination of queue and drop priority. (Queuing and congestion avoidance mechanisms are discussed later in this chapter.)</p>
<p>The text names follow a format of AFXY, with X referring to the queue (1 through 4) and Y referring to the drop priority (1 through 3).</p>
<p>Best Queue
Worst Queue
AF41
(34)
AF31
(26)
AF21
(18)
AFII
(10)
AF42
(36)
AF32
(28)
AF22
(20)
AF12
(12)
AF43
(38)
AF33
(30)
AF23
(22)
AF13
14)
11-11 Differentiated Services Assured Forwarding Values and Meaning &ldquo;&gt;</p>
<p>Class Selector (CS)</p>
<p>eight DSCP values for backward compatibility with IPP values.</p>
<p>The DSCP values have the same first 3 bits as the IPP field, and with binary 0s for the last 3 bits, as shown on the left side of the figure. CSx represents the text names, where x is the matching IPP value (0 through 7).</p>
<p>o
1
2
3
4
5
6
7
CSO
CSI
CS2
CS3
CS4
CS5
CS6
CS7
Decimal
DSCP
16
24
32
40
56
Figure 11-12 Class Selector &ldquo;&gt;</p>
<p>Guidelines for DSCP Marking Values</p>
<p>how all devices should mark data</p>
<p>DSCP EF: Voice payload</p>
<p>AF4x: Interactive video (for example, videoconferencing)</p>
<p>AF3x: Streaming video</p>
<p>AF2x: High priority (low latency) data</p>
<p>CS0: Standard data</p>
<p>Queuing</p>
<p>the QoS toolset for managing the queues that hold packets while they wait their turn to exit an interface</p>
<p>Router Internals
ingress
services
Output Queue
Forwarding
Transmit
Figure 11-13 Output Queuing in a Router: Last Output Action Before Transmission &ldquo;&gt;</p>
<p>To use multiple queues, the queuing system needs a classifier function to choose which packets are placed into which queue</p>
<p>The queuing system needs a scheduler as well, to decide which message to take next when the interface becomes available</p>
<p>Queues
Scheduler
Transmit
Figure 11-14 Queuing Components &ldquo;&gt;</p>
<p>Prioritization refers to the concept of giving priority to one queue over another</p>
<p>Round-Robin Scheduling (Prioritization) (Two Types)</p>
<p>weighting</p>
<p>the scheduler takes a different number of packets (or bytes) from each queue, giving more preference to one queue over another.</p>
<p>Class-Based Weighted Fair Queuing (CBWFQ)</p>
<p>Each class receives at least the amount of bandwidth configured during times of congestion, but maybe more</p>
<p>Queues
02
03
Scheduler
20%
30%
50%
Round Robin
Transmit
Figure 11-15 CBWFQ Round-Robin Scheduling &ldquo;&gt;</p>
<p>Low Latency Queuing</p>
<p>Bandwidth/call
30-320 Kbps
One-way Delay (max) Jitter (max)
Loss (max)
150 ms
30 ms &ldquo;&gt;</p>
<p>Queues
data 2
default
Scheduler
50%
10%
Round Robin
Transmit
Figure 11-16 Round Robin Not Goodfor Voice Delay (Latency) and Jitter &ldquo;&gt;</p>
<p>tells the scheduler to treat one or more queues as special priority queues</p>
<p>Scheduler
LLQ
voice
data 1
data 2
default
—Always Next
Transmit
Round Robin
Figure 11-17 LLQ Always Schedules Voice Packet Next &ldquo;&gt;</p>
<p>if the speed of the interface is X bits per second, but more than X bits per second come into the voice queue? The scheduler never services the other queues (called queue starvation).</p>
<p>limit the amount of traffic placed into the priority queue, using a feature called policing</p>
<p>a cap on the bandwidth used by the priority queue</p>
<p>Call Admission Control (CAC) tools</p>
<p>Find a way to limit the amount of voice and video that the network routes out this link, so that the policer never discards any of the traffic</p>
<p>CAC tools did not get a mention in the exam topics, so this chapter leaves those tools at a brief mention</p>
<p>A Prioritization Strategy for Data, Voice, and Video</p>
<p>approach queuing in their QoS plans:</p>
<p>Key Topic.</p>
<p>Use a round-robin queuing method like CBWFQ for data classes and for noninteractive voice and video.</p>
<p>If faced with too little bandwidth compared to the typical amount of traffic, give data classes that support business-critical applications much more guaranteed bandwidth than is given to less important data classes.</p>
<p>Use a priority queue with LLQ scheduling for interactive voice and video, to achieve low delay, jitter, and loss.</p>
<p>Put voice in a separate queue from video so that the policing function applies separately to each.</p>
<p>Define enough bandwidth for each priority queue so that the built-in policer should not discard any messages from the priority queues.</p>
<p>Use Call Admission Control (CAC) tools to avoid adding too much voice or video to the network, which would trigger the policer function.</p>

<h1 class="relative group">Shaping and Policing
    <div id="shaping-and-policing" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#shaping-and-policing" aria-label="Anchor">#</a>
    </span>
    
</h1>
<p>not found in as many locations in a typical enterprise</p>
<p>often used at the WAN edge in an enterprise network design.</p>
<p>monitor the bit rate of the combined messages that flow through a device.</p>
<p>notes each packet that passes and measures the number of bits per second over time</p>
<p>attempt to keep the bit rate at or below the configured speed</p>
<p>policers discard packets, and shapers hold packets in queues to delay the packets.</p>
<p>Does this next packet push the measured rate past the configured shaping rate or policing rate?</p>
<p>If no:</p>
<p>Let the packet keep moving through the normal path and do nothing extra to the packet.</p>
<p>If yes:</p>
<p>If shaping, delay the message by queuing it.</p>
<p>If policing, either discard the message or mark it differently.</p>
<p>policing, which discards or re-marks messages that exceed the policing rate, followed by shaping, which slows down messages that exceed the shaping rate.</p>

<h2 class="relative group">Policing
    <div id="policing" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#policing" aria-label="Anchor">#</a>
    </span>
    
</h2>
<p>Traffic Rate
Outgoing Measured
Traffic Rate
Burst
Policing
Rate
Figure 11-18 Effect ofa Policer and Shaper on an Offered Traffic Load &ldquo;&gt;</p>
<p>Policers allow for a burst beyond the policing rate for a short time, after a period of low activity.</p>
<p>Where to Use Policing</p>
<p>Policing makes sense only in certain cases, and as a general tool, it can be best used at the edge between two networks.</p>
<p>200 Mb s CIR
sw
Police to
200 Mbps
GO/2
GO/2
sw
Police to
200 Mbps
Figure 11-19 Ethernet WAN: Link Speed Versus CIR &ldquo;&gt;</p>
<p>a 200-Mbps committed information rate (CIR).</p>
<p>the SP providing the WAN service agrees to allow the enterprise to send 200 Mbps of traffic in each direction. However, remember that the enterprise routers transmit the data at the speed of the access link, or 1 Gbps in this case.</p>
<p>The SP can police incoming packets, setting the policing rate to match the CIR that the customer chooses for that link.</p>
<p>Policers can also re-mark packets.</p>
<p>SP could mark the messages with a new marking value, with this strategy:</p>
<p>Re-mark packets that exceed the policing rate, but let them into the SP’s network.</p>
<p>If other SP network devices are experiencing congestion when they process the packet, the different marking means that device can discard the packet. However…</p>
<p>…if no other SP network devices are experiencing congestion when forwarding that re-marked packet, it gets through the SP network anyway.</p>
<p>SP can treat their customers a little better by discarding less traffic, while still protecting the SP’s network during times of stress.</p>
<p>key features of policing:</p>
<p>Key Topic.</p>
<p>It measures the traffic rate over time for comparison to the configured policing rate.</p>
<p>It allows for a burst of data after a period of inactivity.</p>
<p>It is enabled on an interface, in either direction, but typically at ingress.</p>
<p>It can discard excess messages but can also re-mark the message so that it is a candidate for more aggressive discard later in its journey.</p>

<h2 class="relative group">Shaping
    <div id="shaping" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#shaping" aria-label="Anchor">#</a>
    </span>
    
</h2>
<p>Use a shaper to slow down the traffic</p>
<p>shaping before sending data to an SP that is policing—is one of the typical uses of a shaper</p>
<p>slows messages down by queuing the messages.</p>
<p>then services the shaping queues, but not based on when the physical interface is available</p>
<p>schedules messages from the shaping queues based on the shaping rate</p>
<p>the shaper queues packets so that the sending rate through the shaper does not exceed the shaping rate; and then output queuing works as normal, if needed.</p>
<p>Forwarding
Shaper
LLQ
At
Shape
Rate
Output
Queuing
Transmit
Figure 11-20 Shaping Queues: Scheduling with LLQ and CBWFQ &ldquo;&gt;</p>
<p>apply the round-robin and priority queuing features of CBWFQ and LLQ, respectively, to the shaping queues</p>

<h3 class="relative group">Setting a Good Shaping Time Interval for Voice and Video
    <div id="setting-a-good-shaping-time-interval-for-voice-and-video" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#setting-a-good-shaping-time-interval-for-voice-and-video" aria-label="Anchor">#</a>
    </span>
    
</h3>
<p>you can (and should) configure a shaper’s setting that changes the internal operation of the shaper, which then reduces the delay and jitter caused to voice and video traffic.</p>
<p>A shaper’s time interval refers to its internal logic and how a shaper averages, over time, sending at a particular rate</p>
<p>Because the interface transmits bits at 1 Gbps, it takes just .2 seconds, or 200 ms, to send all 200 million bits. Then the shaper must wait for the rest of the time interval, another 800 ms, before beginning the next time interval.</p>
<p>Send:
200 ms
200
Million
Bits
Sent
wait: 800 ms
1 Second Тле lnterval
Send:
200 ms
200
Million
wait: 800 ms
Bits
Sent
Т: 1 sec
Т: 2 sec
Figure 11-21 Опе Second (1000 ms) Shaping Time Intewal, Shaping at 20 Percent ofLine Rate &ldquo;&gt;</p>
<p>configure a short time interval so there is less wait time</p>
<p>Tc = 1 second (1000 ms): Send at 1 Gbps for 200 ms, rest for 800 ms</p>
<p>Tc = .1 second (100 ms): Send at 1 Gbps for 20 ms, rest for 80 ms</p>
<p>Tc = .01 second (10 ms): Send at 1 Gbps for 2 ms, rest for 8 ms</p>
<p>When shaping, use a short time interval. By recommendation, use a 10-ms time interval to support voice and video.</p>
<p>key features of shapers:</p>
<p>Key Topic.</p>
<p>Shapers measure the traffic rate over time for comparison to the configured shaping rate.</p>
<p>Shapers allow for bursting after a period of inactivity.</p>
<p>Shapers are enabled on an interface for egress (outgoing packets).</p>
<p>Shapers slow down packets by queuing them and over time releasing them from the queue at the shaping rate.</p>
<p>Shapers use queuing tools to create and schedule the shaping queues, which is very important for the same reasons discussed for output queuing.</p>

<h2 class="relative group">Congestion Avoidance
    <div id="congestion-avoidance" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#congestion-avoidance" aria-label="Anchor">#</a>
    </span>
    
</h2>
<p>attempts to reduce overall packet loss by preemptively discarding some packets used in TCP connections</p>
<p>TCP Windowing Basics</p>
<p>tail drop</p>
<p>one queue being totally full. Any new packets that arrive for that queue right now will be dropped because there is no room at the tail of the queue (tail drop).</p>
<p>@Medium Congestion
Tail Drop
Much Congestion
Tail Drop
Figure 11-22 Tail Drop Concepts with Three Different Scenarios &ldquo;&gt;</p>
<p>Congestion Avoidance Tools</p>
<p>discard some TCP segments before the queues fill, hoping that enough TCP connections will slow down, reducing congestion, and avoiding tail drop</p>
<p>monitor the average queue depth over time, triggering more severe actions the deeper the queue</p>
<p>the queue depth passes the maximum threshold, the tool drops all packets, in an action called full drop.</p>
<p>congestion avoidance tools can classify messages to treat some packets better than others</p>
<p>Maximum Threshold
% Drops
Minimum Threshold
NO Drops
Queue Empty
Figure 11-23 Mechanisms ofCongestion Avoidance &ldquo;&gt;</p>

          
          
          
        </div>
        
        

        

        

      </div>

      
      
        
        
          
          
        
        
        
        <script
          type="text/javascript"
          src="/js/page.min.54b6f4371722649edbe871e431d8670d670878c22be8f36e229fe53cc9b786fe25a834def5e6de621f7a3e37b72bc8cd73839aa5ed907ed6cbd45cd3e1b0fa20.js"
          integrity="sha512-VLb0NxciZJ7b6HHkMdhnDWcIeMIr6PNuIp/lPMm3hv4lqDTe9ebeYh96Pje3K8jNc4Oape2QftbL1FzT4bD6IA=="
          data-oid="views_tech/networking/CCNA Notes/qos.md"
          data-oid-likes="likes_tech/networking/CCNA Notes/qos.md"></script>
      
    </section>

    
    <footer class="pt-8 max-w-prose print:hidden">
      

      
    </footer>
  </article>

        


  






<div
  id="scroll-to-top"
  class="fixed bottom-6 end-6 z-50 transform translate-y-4 opacity-0 duration-200">
  <a
    href="#the-top"
    class="pointer-events-auto flex h-12 w-12 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400"
    aria-label="Scroll to top"
    title="Scroll to top">
    &uarr;
  </a>
</div>

      </main><footer id="site-footer" class="py-10 print:hidden">
  
  
    
      
      
        
      
      
      
      
      <nav class="flex flex-row pb-4 text-base font-medium text-neutral-500 dark:text-neutral-400 overflow-x-auto py-2">
        <ul class="flex list-none flex-row">
          
            <li class=" flex mb-1 text-end sm:mb-0 sm:me-7 sm:last:me-0 me-4">
              <a
                class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center"
                href=""
                title="">
                
                
              </a>
            </li>
          
        </ul>
      </nav>
    
  
  <div class="flex items-center justify-between">
    
    
      <p class="text-sm text-neutral-500 dark:text-neutral-400">
          &copy;
          2025
          David Thomas
      </p>
    

    
    
  </div>
  
    <script>
      mediumZoom(document.querySelectorAll("img:not(.nozoom)"), {
        margin: 24,
        background: "rgba(0,0,0,0.5)",
        scrollOffset: 0,
      });
    </script>
  
  
  
  <script
    type="text/javascript"
    src="/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js"
    integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh&#43;sCQ0E53ghYrxgYqw&#43;0GCRyIEpA=="></script>
  
  
</footer>
<div
  id="search-wrapper"
  class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh] z-500"
  data-url="http://localhost:1313/">
  <div
    id="search-modal"
    class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800">
    <header class="relative z-10 flex items-center justify-between flex-none px-2">
      <form class="flex items-center flex-auto min-w-0">
        <div class="flex items-center justify-center w-8 h-8 text-neutral-400">
          <span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span>
        </div>
        <input
          type="search"
          id="search-query"
          class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent"
          placeholder="Search"
          tabindex="0">
      </form>
      <button
        id="close-search-button"
        class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
        title="Close (Esc)">
        <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>
</span>
      </button>
    </header>
    <section class="flex-auto px-2 overflow-auto">
      <ul id="search-results">
        
      </ul>
    </section>
  </div>
</div>

    </div>
  </body>
  
</html>
