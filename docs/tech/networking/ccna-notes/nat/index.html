<!doctype html>
<html
  lang="en"
  dir="ltr"
  class="scroll-smooth"
  data-default-appearance="dark"
  data-auto-appearance="false"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
  
    <meta http-equiv="content-language" content="en">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="theme-color">

  
  
    <title> &middot; David Thomas</title>
    <meta name="title" content=" &middot; David Thomas">
  

  
  
  
  
  
  <link rel="canonical" href="http://localhost:1313/tech/networking/ccna-notes/nat/">
  

  
  
    <meta name="author" content="David Thomas">
  
  

  
  <meta property="og:url" content="http://localhost:1313/tech/networking/ccna-notes/nat/">
  <meta property="og:site_name" content="David Thomas">
  <meta property="og:title" content="David Thomas">
  <meta property="og:description" content="4.1 Configure and verify inside source NAT using static and pools
CIDR # ISP3 ISP4 To 198. To 198.— To 198. Customer A 198.8.3.0124 Customer B 198.0.o.o - 198.4.2.0124 198.255.255.0 198.4.3.0124 Customer C 198.1.0.0/24 Figure 10-1 Typical Use of CIDR “&gt;">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="tech">

  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="David Thomas">
  <meta name="twitter:description" content="4.1 Configure and verify inside source NAT using static and pools
CIDR # ISP3 ISP4 To 198. To 198.— To 198. Customer A 198.8.3.0124 Customer B 198.0.o.o - 198.4.2.0124 198.255.255.0 198.4.3.0124 Customer C 198.1.0.0/24 Figure 10-1 Typical Use of CIDR “&gt;">

  
  
  
  
    
      
    
  
    
      
    
  
    
      
    
  
  
    
  

  
  
  
  
  
  

  

  
  
  
  
  
  
  
    
  
  
    
  
  
  <link
    type="text/css"
    rel="stylesheet"
    href="/css/main.bundle.min.c5c4ab59b36e3a06d6dff38478af5d2c18b2d7a3603611d7fc5647b02111f989bd5957610b6bed4d10718428186bc7c38590e84c77c0d50f401da78f4fbb5384.css"
    integrity="sha512-xcSrWbNuOgbW3/OEeK9dLBiy16NgNhHX/FZHsCER&#43;Ym9WVdhC2vtTRBxhCgYa8fDhZDoTHfA1Q9AHaePT7tThA==">

  
  
  <script
    type="text/javascript"
    src="/js/appearance.min.6f41174b3a05b680820fe08cadbfa5fb7a7ca347b76a0955cdc68b9d8aca1ce24f0547e138cea33bcc7904d551a90afcb1cc7f2d9fe8557075d501419046c08c.js"
    integrity="sha512-b0EXSzoFtoCCD&#43;CMrb&#43;l&#43;3p8o0e3aglVzcaLnYrKHOJPBUfhOM6jO8x5BNVRqQr8scx/LZ/oVXB11QFBkEbAjA=="></script>
  
  
  
  
  
  
    
    <script src="/lib/zoom/zoom.min.umd.a527109b68c082a70f3697716dd72a9d5aa8b545cf800cecbbc7399f2ca6f6e0ce3e431f2062b48bbfa47c9ea42822714060bef309be073f49b9c0e30d318d7b.js" integrity="sha512-pScQm2jAgqcPNpdxbdcqnVqotUXPgAzsu8c5nyym9uDOPkMfIGK0i7&#43;kfJ6kKCJxQGC&#43;8wm&#43;Bz9JucDjDTGNew=="></script>
  

  
  
  
    
  
  
    
  
  
    
  
  
  
  
  
  
    
    <script
      defer
      type="text/javascript"
      id="script-bundle"
      src="/js/main.bundle.min.9cc802d09f28c6af56ceee7bc6e320a39251fdae98243f2a9942f221ac57a9f49c51609699a91794a7b2580ee1deaa8e4d794a68ffa94aa317c66e893ce51e02.js"
      integrity="sha512-nMgC0J8oxq9Wzu57xuMgo5JR/a6YJD8qmULyIaxXqfScUWCWmakXlKeyWA7h3qqOTXlKaP&#43;pSqMXxm6JPOUeAg=="
      data-copy="Copy"
      data-copied="Copied"></script>
  

  
  

<script src="/lib/jquery/jquery.slim.min.b0dca576e87d7eaa5850ae4e61759c065786cdb6489d68fcc82240539eebd5da522bdb4fda085ffd245808c8fe2acb2516408eb774ef26b5f6015fc6737c0ea8.js" integrity="sha512-sNylduh9fqpYUK5OYXWcBleGzbZInWj8yCJAU57r1dpSK9tP2ghf/SRYCMj&#43;KsslFkCOt3TvJrX2AV/Gc3wOqA=="></script>


























  

  

  

  

  





  
  
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
  

  
  <script type="application/ld+json">
  [{
    "@context": "https://schema.org",
    "@type": "Article",
    "articleSection": "",
    "name": "",
    "headline": "",
    
    "abstract": "\u003cp\u003e4.1 Configure and verify inside source NAT using static and pools\u003c\/p\u003e\n\n\u003ch3 class=\u0022relative group\u0022\u003eCIDR\n    \u003cdiv id=\u0022cidr\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none\u0022\u003e\n        \u003ca class=\u0022text-primary-300 dark:text-neutral-700 !no-underline\u0022 href=\u0022#cidr\u0022 aria-label=\u0022Anchor\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e\n    \n\u003c\/h3\u003e\n\u003cp\u003eISP3\nISP4\nTo 198.\nTo 198.\u003cem\u003e—\u003c\/em\u003e\nTo 198.\nCustomer A\n198.8.3.0124\nCustomer B\n198.0.o.o -\n198.4.2.0124\n198.255.255.0\n198.4.3.0124\nCustomer C\n198.1.0.0\/24\nFigure 10-1 Typical Use of CIDR \u0026ldquo;\u0026gt;\u003c\/p\u003e",
    "inLanguage": "en",
    "url" : "http://localhost:1313/tech/networking/ccna-notes/nat/",
    "author" : {
      "@type": "Person",
      "name": "David Thomas"
    },
    
    
    
    
    
    
    
    
    "mainEntityOfPage": "true",
    "wordCount": "2739"
  }]
  </script>



  
  

  
  

  
  

  
  
    
      <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
      <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
      <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
      <script>

    const firebaseConfig = {
      apiKey: "AIzaSyApsKLCbGb5fkkrzxABOtl3-OUuBcRPVsc",
      authDomain: "davidwrites-89dd7.firebaseapp.com",
      projectId: "davidwrites-89dd7",
      storageBucket: "davidwrites-89dd7.firebasestorage.app",
      messagingSenderId: "433139099634",
      appId: "1:433139099634:web:c14275555bd7171e6c6d6b",
      measurementId: "G-XX5507B82W"
    };

        var app = firebase.initializeApp(firebaseConfig);
        var db = firebase.firestore();
        var auth = firebase.auth();

      </script>
    
  

  
  
</head>







  
    
  







  
    
  






  
  
  <body class="flex flex-col h-screen m-auto leading-7 max-w-7xl px-6 sm:px-14 md:px-24 lg:px-32 text-lg bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600">
    <div id="the-top" class="absolute flex self-center">
      <a
        class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600"
        href="#main-content">
        <span class="font-bold text-primary-600 pe-2 dark:text-primary-400">&darr;</span>
        Skip to main content
      </a>
    </div>
    
    
      













<div
  class="main-menu flex items-center justify-between py-6 md:justify-start gap-x-3 pt-[2px] pr-2 md:pr-4 pb-[3px] pl-0">
  
  
    
    

  <div class="flex flex-1 items-center justify-between">
    <nav class="flex space-x-3">
      
        <a href="/" class="text-base font-medium">
          David Thomas
        </a>
      
    </nav>
    
  <nav class="hidden md:flex items-center gap-x-5 md:ml-12 h-12">
    
      
        
  <div>
  <div class="cursor-pointer flex items-center nested-menu">
    
    <a
      
      aria-label="Tech"
      class="text-base font-medium hover:text-primary-600 dark:hover:text-primary-400"
      title="">
      <p>
        Tech
      </p>
    </a>
    <span>
      <span class="relative block icon"><svg
  xmlns="http://www.w3.org/2000/svg"
  viewBox="0 0 20 20"
  fill="currentColor"
  aria-hidden="true"
>
  <path
    fill-rule="evenodd"
    d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
    clip-rule="evenodd"
  />
</svg>
</span>
    </span>
  </div>
  <div class="absolute menuhide">
    <div class="pt-2 p-5 mt-2 rounded-xl backdrop-blur shadow-2xl">
      <div class="flex flex-col space-y-3">
        
          <a
            href="/tech/networking/"
            
            aria-label="Networking"
            class="flex items-center hover:text-primary-600 dark:hover:text-primary-400">
            
            <p class="text-sm font-sm" title="">
              Networking
            </p>
          </a>
        
          <a
            href="/tech/linux/"
            
            aria-label="Linux"
            class="flex items-center hover:text-primary-600 dark:hover:text-primary-400">
            
            <p class="text-sm font-sm" title="">
              Linux
            </p>
          </a>
        
          <a
            href="/tech/ansible/"
            
            aria-label="Ansible"
            class="flex items-center hover:text-primary-600 dark:hover:text-primary-400">
            
            <p class="text-sm font-sm" title="Ansible">
              Ansible
            </p>
          </a>
        
          <a
            href="/tech/podman/"
            
            aria-label="Podman"
            class="flex items-center hover:text-primary-600 dark:hover:text-primary-400">
            
            <p class="text-sm font-sm" title="">
              Podman
            </p>
          </a>
        
      </div>
    </div>
  </div>
</div>



      
        
  <a
  href="/notes/"
  
  class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
  aria-label="Notes"
  title="Book Notes &amp; Reviews">
  
  
    <p class="text-base font-medium">
      Notes
    </p>
  
</a>



      
        
  <a
  href="/articles/"
  
  class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
  aria-label="Articles"
  title="Articles">
  
  
    <p class="text-base font-medium">
      Articles
    </p>
  
</a>



      
        
  <a
  href="/now/"
  
  class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
  aria-label="Now"
  title="Now">
  
  
    <p class="text-base font-medium">
      Now
    </p>
  
</a>



      
        
  <a
  href=""
  
  class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
  
  title="">
  
  
</a>



      
    

    

    

    
      <button
        id="search-button"
        aria-label="Search"
        class="text-base hover:text-primary-600 dark:hover:text-primary-400"
        title="Search (/)">
        <span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span>
      </button>
    

    
  </nav>

    
  <div class="flex md:hidden items-center gap-x-5 md:ml-12 h-12">
    <span></span>

    

    

    
      <button
        id="search-button-mobile"
        aria-label="Search"
        class="text-base hover:text-primary-600 dark:hover:text-primary-400"
        title="Search (/)">
        <span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span>
      </button>
    

    
  </div>

  </div>
  
  <div class="-my-2 md:hidden">
    <div id="menu-button" class="block">
      
        <div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400">
          <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"/></svg>
</span>
        </div>
        <div
          id="menu-wrapper"
          class="fixed inset-0 z-30 invisible w-screen h-screen m-0 overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50 pt-[5px]">
          <ul
            class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none text-end max-w-7xl">
            <li id="menu-close-button">
              <span
                class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400">
                <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>
</span>
              </span>
            </li>

            
              
  <li class="mt-1">
  <a
    href=""
    aria-label="Tech"
    class="flex items-center hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-bg font-bg" title="">
      Tech
    </p>
    <span>
      <span class="relative block icon"><svg
  xmlns="http://www.w3.org/2000/svg"
  viewBox="0 0 20 20"
  fill="currentColor"
  aria-hidden="true"
>
  <path
    fill-rule="evenodd"
    d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
    clip-rule="evenodd"
  />
</svg>
</span>
    </span>
  </a>
</li>

  <li class="mt-1">
    <a
      href="/tech/networking/"
      
      aria-label="Networking"
      class="flex items-center hover:text-primary-600 dark:hover:text-primary-400">
      
      <p class="text-sm font-small" title="">
        Networking
      </p>
    </a>
  </li>

  <li class="mt-1">
    <a
      href="/tech/linux/"
      
      aria-label="Linux"
      class="flex items-center hover:text-primary-600 dark:hover:text-primary-400">
      
      <p class="text-sm font-small" title="">
        Linux
      </p>
    </a>
  </li>

  <li class="mt-1">
    <a
      href="/tech/ansible/"
      
      aria-label="Ansible"
      class="flex items-center hover:text-primary-600 dark:hover:text-primary-400">
      
      <p class="text-sm font-small" title="Ansible">
        Ansible
      </p>
    </a>
  </li>

  <li class="mt-1">
    <a
      href="/tech/podman/"
      
      aria-label="Podman"
      class="flex items-center hover:text-primary-600 dark:hover:text-primary-400">
      
      <p class="text-sm font-small" title="">
        Podman
      </p>
    </a>
  </li>

<li class="mb-2"></li>



            
              
  <li class="mt-1">
  <a
    href="/notes/"
    
    class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
    aria-label="Notes"
    title="Book Notes &amp; Reviews">
    
    
      <p class="text-bg font-bg">
        Notes
      </p>
    
  </a>
</li>



            
              
  <li class="mt-1">
  <a
    href="/articles/"
    
    class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
    aria-label="Articles"
    title="Articles">
    
    
      <p class="text-bg font-bg">
        Articles
      </p>
    
  </a>
</li>



            
              
  <li class="mt-1">
  <a
    href="/now/"
    
    class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
    aria-label="Now"
    title="Now">
    
    
      <p class="text-bg font-bg">
        Now
      </p>
    
  </a>
</li>



            
              
  <li class="mt-1">
  <a
    href=""
    
    class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
    
    title="">
    
    
  </a>
</li>



            

          </ul>
          
        </div>
      
    </div>
  </div>

</div>




  <script>
    (function () {
      var $mainmenu = $(".main-menu");
      var path = window.location.pathname;
      $mainmenu.find('a[href="' + path + '"]').each(function (i, e) {
        $(e).children("p").addClass("active");
      });
    })();
  </script>


    
    <div class="relative flex flex-col grow">
      <main id="main-content" class="grow">
        
  
  <article>
    
    

    
    <header id="single_header" class="mt-5 max-w-prose">
      
      <h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
        
      </h1>
      <div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden">
        





  
  



  

  
  
  
    
  

  

  

  

  

  

  

  

  

  

  


  <div class="flex flex-row flex-wrap items-center">
    
    

    
    
  </div>

  

  
  

  
  



      </div>
      
        
  
  
  
  
  
  

  

  

  

  

      
    </header>

    
    <section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row">
      
      
      
      
      
        <div class="order-first lg:ml-auto px-0 lg:order-last lg:ps-8 lg:max-w-2xs">
          <div class="toc ps-5 print:hidden lg:sticky lg:top-10">
            
              <details
  open
  id="TOCView"
  class="toc-right mt-0 overflow-y-auto overscroll-contain scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600 rounded-lg -ms-5 ps-5 pe-2 hidden lg:block">
  <summary
    class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 -ms-5 ps-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    Table of Contents
  </summary>
  <div
    class="min-w-[220px] py-2 border-dotted border-s-1 -ms-5 ps-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#cidr">CIDR</a></li>
        <li><a href="#private-addressing">Private Addressing</a></li>
        <li><a href="#network-address-translation-concepts">Network Address Translation Concepts</a></li>
        <li><a href="#static-nat">Static NAT</a></li>
        <li><a href="#dynamic-nat">Dynamic NAT</a></li>
        <li><a href="#overloading-nat-with-port-address-translation">Overloading NAT with Port Address Translation</a></li>
      </ul>
    </li>
    <li><a href="#nat-configuration-and-troubleshooting">NAT Configuration and Troubleshooting</a>
      <ul>
        <li><a href="#static-nat-configuration">Static NAT Configuration</a></li>
        <li><a href="#dynamic-nat-configuration">Dynamic NAT Configuration</a></li>
        <li><a href="#nat-overload-pat-configuration">NAT Overload (PAT) Configuration</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</details>
<details class="toc-inside mt-0 overflow-hidden rounded-lg -ms-5 ps-5 lg:hidden">
  <summary
    class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 -ms-5 ps-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    Table of Contents
  </summary>
  <div
    class="py-2 border-dotted border-neutral-300 border-s-1 -ms-5 ps-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#cidr">CIDR</a></li>
        <li><a href="#private-addressing">Private Addressing</a></li>
        <li><a href="#network-address-translation-concepts">Network Address Translation Concepts</a></li>
        <li><a href="#static-nat">Static NAT</a></li>
        <li><a href="#dynamic-nat">Dynamic NAT</a></li>
        <li><a href="#overloading-nat-with-port-address-translation">Overloading NAT with Port Address Translation</a></li>
      </ul>
    </li>
    <li><a href="#nat-configuration-and-troubleshooting">NAT Configuration and Troubleshooting</a>
      <ul>
        <li><a href="#static-nat-configuration">Static NAT Configuration</a></li>
        <li><a href="#dynamic-nat-configuration">Dynamic NAT Configuration</a></li>
        <li><a href="#nat-overload-pat-configuration">NAT Overload (PAT) Configuration</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</details>


<script>
  (function () {
    'use strict'

    const SCROLL_OFFSET_RATIO = 0.33
    const TOC_SELECTOR = '#TableOfContents'
    const ANCHOR_SELECTOR = '.anchor'
    const TOC_LINK_SELECTOR = 'a[href^="#"]'
    const NESTED_LIST_SELECTOR = 'li ul'
    const ACTIVE_CLASS = 'active'
    let isJumpingToAnchor = false

    function getActiveAnchorId(anchors, offsetRatio) {
      const threshold = window.scrollY + window.innerHeight * offsetRatio
      const tocLinks = [...document.querySelectorAll('#TableOfContents a[href^="#"]')]
      const tocIds = new Set(tocLinks.map(link => link.getAttribute('href').substring(1)))

      if (isJumpingToAnchor) {
        for (let i = 0; i < anchors.length; i++) {
          const anchor = anchors[i]
          if (!tocIds.has(anchor.id)) continue
          const top = anchor.getBoundingClientRect().top + window.scrollY
          if (Math.abs(window.scrollY - top) < 100) {
            return anchor.id
          }
        }
      }

      for (let i = anchors.length - 1; i >= 0; i--) {
        const top = anchors[i].getBoundingClientRect().top + window.scrollY
        if (top <= threshold && tocIds.has(anchors[i].id)) {
          return anchors[i].id
        }
      }
      return anchors.find(anchor => tocIds.has(anchor.id))?.id || ''
    }

    function updateTOC({ toc, anchors, links, scrollOffset, collapseInactive }) {
      const activeId = getActiveAnchorId(anchors, scrollOffset)
      if (!activeId) return

      links.forEach(link => {
        const isActive = link.getAttribute('href') === `#${activeId}`
        link.classList.toggle(ACTIVE_CLASS, isActive)

        if (collapseInactive) {
          const ul = link.closest('li')?.querySelector('ul')
          if (ul) ul.style.display = isActive ? '' : 'none'
        }
      })

      if (collapseInactive) {
        const activeLink = toc.querySelector(`a[href="#${CSS.escape(activeId)}"]`)
        let el = activeLink
        while (el && el !== toc) {
          if (el.tagName === 'UL') el.style.display = ''
          if (el.tagName === 'LI') el.querySelector('ul')?.style.setProperty('display', '')
          el = el.parentElement
        }
      }
    }

    function initTOC() {
      const toc = document.querySelector(TOC_SELECTOR)
      if (!toc) return

      const collapseInactive = true
      const anchors = [...document.querySelectorAll(ANCHOR_SELECTOR)]
      const links = [...toc.querySelectorAll(TOC_LINK_SELECTOR)]

      if (collapseInactive) {
        toc.querySelectorAll(NESTED_LIST_SELECTOR).forEach(ul => ul.style.display = 'none')
      }

      links.forEach(link => {
        link.addEventListener('click', () => {
          isJumpingToAnchor = true
        })
      })

      const config = {
        toc,
        anchors,
        links,
        scrollOffset: SCROLL_OFFSET_RATIO,
        collapseInactive
      }

      window.addEventListener('scroll', () => updateTOC(config), { passive: true })
      window.addEventListener('hashchange', () => updateTOC(config), { passive: true })

      updateTOC(config)
    }

    document.readyState === 'loading'
      ? document.addEventListener('DOMContentLoaded', initTOC)
      : initTOC()
  })()
</script>


            
          </div>
        </div>
      


      <div class="min-w-0 min-h-0 max-w-fit">
        

        <div class="article-content max-w-prose mb-20">
          <p>4.1 Configure and verify inside source NAT using static and pools</p>

<h3 class="relative group">CIDR
    <div id="cidr" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#cidr" aria-label="Anchor">#</a>
    </span>
    
</h3>
<p>ISP3
ISP4
To 198.
To 198.<em>—</em>
To 198.
Customer A
198.8.3.0124
Customer B
198.0.o.o -
198.4.2.0124
198.255.255.0
198.4.3.0124
Customer C
198.1.0.0/24
Figure 10-1 Typical Use of CIDR &ldquo;&gt;</p>
<p>most public address assignments for the last 20 years have been a CIDR block rather than an entire class A, B, or C network.</p>

<h3 class="relative group">Private Addressing
    <div id="private-addressing" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#private-addressing" aria-label="Anchor">#</a>
    </span>
    
</h3>
<p>Addresses
10.0.0.0 to
10.255.255.255
172.16.O.O to
172.31.255.255
192.168.0.0 to
192.168.255.255
Network(s)
10.0.0.0
172.16.o.o -
172.31.o.o
192.168.0.0 -
192.168.255.0
Class of
Networks
c
Number of
Networks
1
16
256 &ldquo;&gt;</p>
<p>no organization is allowed to advertise these networks using a routing protocol on the Internet.</p>
<p>Feature
CIDR:
NAT:
Private
Networks
RFC(s)
4632
3022
1918
Main Benefits
Assign more-specific public IPv4 address blocks to
companies than Class A, B, and C networks.
Aggregate routes to public IPv4 addresses based on
worldwide address allocation plan.
Enable approximately 65,000 TCP/UDP sessions to
be supported by a single public IPv4 address.
Enable the use of NAT for enterprise Internet con-
nections, with private addresses used inside the
enterprise. &ldquo;&gt;</p>

<h3 class="relative group">Network Address Translation Concepts
    <div id="network-address-translation-concepts" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#network-address-translation-concepts" aria-label="Anchor">#</a>
    </span>
    
</h3>
<p>Client
10.1.1.1
Source
10.1.1.1
Source
170.1.1.1
Destination
170.1.1.1
NAT Changes
Destination
10.1.1.1
Source
200.1.1.1
Source
170.1.1.1
170.1 .1 .1
Destination
170.1.1.1
Destination
200.1.1.1
Figure 10-2 NAT IP Address Swapping: Private Addressing &ldquo;&gt;</p>

<h3 class="relative group">Static NAT
    <div id="static-nat" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#static-nat" aria-label="Anchor">#</a>
    </span>
    
</h3>
<p>IP addresses statically mapped to each other.</p>
<p>10.1.12
SA 10.1.1.1
NAT
Static NATTab1e
Internet
SA = 200.1.1.1
Private Address Public Address
10.1.1.1
10.1.1.2
200.1.1.1
200.1.1.2
Se rv&rsquo;er
170.1.1.1
Legend
SA: Source Address
Figure 10-3 Static NAT Showing Inside Local and Global Addresses &ldquo;&gt;</p>
<p>NAT router simply configures a one-to-one mapping between the private address and the registered address that is used on its behalf.</p>
<p>Supporting a second IP host with static NAT requires a second static one-to-one mapping using a second IP address in the public address range.</p>
<p>the router statically maps 10.1.1.2 to 200.1.1.2. Because the enterprise has a single registered Class C network, it can support at most 254 private IP addresses with NAT, with the usual two reserved numbers (the network number and network broadcast address).</p>
<p>inside local for the private IP addresses in this example and inside global for the public IP addresses.</p>
<p>Outside
10.1.1.1
10.1.1.2
10.1.1.1
Inside Local
10.1.1.1
10.1.1.2
NAT
Internet
SA =200.1.1.1
170.1.1.
Inside Global
200.1.1.1
200.1.1.2
Figure 10-4 Static NAT Terminolog
Legend &ldquo;&gt;</p>
<p>Inside
local
Inside
global
Values in
Figures
10.1.1.1
200.1.1.1
Meaning
Inside: Refers to the permanent location of the
host, from the enterprise&rsquo;s perspective: it is inside
the enterprise.
Local: Means not global; that is, local. It is the ad-
dress used for that host while the packet flows in
the local enterprise rather than the global Internet.
Alternative: Think of it as inside private, because
this address is typically a private address.
Inside: Refers to the permanent location of the
host, from the enterprise&rsquo;s perspective.
Global: Means global as in the global Internet. It is
the address used for that host while the packet
flows in the Internet.
Alternative: Think of it as inside public, because
the address is typically a public IPv4 address. &ldquo;&gt;</p>
<p>global
Outside
local
170.1.1.1
With source NAT, the one address used by the host
that resides outside the enterprise, which NAT does
not change, so there is no need for a contrasting
term.
Alternative: Think of it as outside public, because
the address is typically a public IPv4 address.
This term is not used with source NAT. With desti-
nation NAT, the address would represent a host that
resides outside the enterprise, but the address used
to represent that host as packets pass through the
local enterprise. &ldquo;&gt;</p>

<h3 class="relative group">Dynamic NAT
    <div id="dynamic-nat" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#dynamic-nat" aria-label="Anchor">#</a>
    </span>
    
</h3>
<p>Dynamic NAT sets up a pool of possible inside global addresses and defines matching criteria to determine which inside local IP addresses should be translated with NAT.</p>
<p>10.1.1.1
Outside
Internet
NAT
10.1.1.2
NAT Table Before First Packet
Server
170.1.1.1
Criteria for NAT:
10.1.1.
Inside Local _lnside Global
NAT Table After First Packet
Inside Local
10.1.1
Inside Global
200.1.1.1
NAT Pool:
200.1.1.1
200.1.1.2
200.1.1.3
200.1.1.4
200.1.1.5
Figure 10-5 Dynamic NAT &ldquo;&gt;</p>
<p>Host 10.1.1.1 sends its first packet to the server at 170.1.1.1.</p>
<p>As the packet enters the NAT router, the router applies some matching logic to decide whether the packet should have NAT applied. Because the logic has been configured to match source IP addresses that begin with 10.1.1, the router adds an entry in the NAT table for 10.1.1.1 as an inside local address.</p>
<p>The NAT router needs to allocate an IP address from the pool of valid inside global addresses. It picks the first one available (200.1.1.1, in this case) and adds it to the NAT table to complete the entry.</p>
<p>The NAT router translates the source IP address and forwards the packet.</p>
<p>The dynamic entry stays in the table as long as traffic flows occasionally. You can configure a timeout value that defines how long the router should wait, having not translated any packets with that address, before removing the dynamic entry. You can also manually clear the dynamic entries from the table using the clear ip nat translation * command.</p>
<p>NAT can be configured with more IP addresses in the inside local address list than in the inside global address pool.</p>
<p>If a new packet arrives from yet another inside host, and it needs a NAT entry, but all the pooled IP addresses are in use, the router simply discards the packet. The user must try again until a NAT entry times out, at which point the NAT function works for the next host that sends a packet. Essentially, the inside global pool of addresses needs to be as large as the maximum number of concurrent hosts that need to use the Internet at the same time—unless you use PAT, as is explained in the next section.</p>

<h3 class="relative group">Overloading NAT with Port Address Translation
    <div id="overloading-nat-with-port-address-translation" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#overloading-nat-with-port-address-translation" aria-label="Anchor">#</a>
    </span>
    
</h3>
<p>NAT Overload feature, also called Port Address Translation (PAT)</p>
<p>170.1.1.1 Port 80
10.1.1.2
10.1.1.3
10.1.1 1, Port49724
10.1.1.2, port 49724
10.1.1.3, Port 49733
170111
170111
port 80
Port 80
Server
170.1.1.1
Figure 10-6 Three TCP Connectionsfrom Three PCs &ldquo;&gt;</p>
<p>10.1.1.1
170.1.1 1 Port80
10.1.1.2
10.1.1 2
10.1 .1 .3
10.1.1.3
170.1.1 1 Port 80
Port 49724
port 49724
Port 49733
NAT
200.1.1.2
Port 49724
200.1.1.2, Port 49725
200.1.1.2
Port 49726
170.1.1.1 Port 80
Server
170.1.1.1
Inside Local
10.1.1.1: 49724
10.1.12: 49724
10.1.1.3: 49733
Inside Global
200.1.1 .2: 49724
200.1.12: 49725
200.1.1 .2: 49726
Dynamic NAT Table, With Overloading
Figure 10-8 NAT Overload (PAT) &ldquo;&gt;</p>
<p>The NAT router keeps a NAT table entry for every unique combination of inside local IP address and port, with translation to the inside global address and a unique port number associated with the inside global address.</p>
<p>NAT overload can use more than 65,000 port numbers</p>
<p>PAT is by far the most popular option</p>

<h2 class="relative group">NAT Configuration and Troubleshooting
    <div id="nat-configuration-and-troubleshooting" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#nat-configuration-and-troubleshooting" aria-label="Anchor">#</a>
    </span>
    
</h2>

<h3 class="relative group">Static NAT Configuration
    <div id="static-nat-configuration" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#static-nat-configuration" aria-label="Anchor">#</a>
    </span>
    
</h3>
<p>Each static mapping between a local (private) address and a global (public) address must be configured.</p>
<p>Those same interface subcommands tell NAT whether the interface is inside or outside.</p>
<p>Step 1. Use the ip nat inside command in interface configuration mode to configure interfaces to be in the inside part of the NAT design.</p>
<p>Step 2. Use the ip nat outside command in interface configuration mode to configure interfaces to be in the outside part of the NAT design.</p>
<p>Step 3. Use the ip nat inside source static inside-local inside-global command in global configuration mode to configure the static mappings.</p>
<p>Certskills
200.1.1.252
10.1.1.1
SO/O/O
10.1.1.2
Inside
Internet
rve
170.1.1.1
Outside
Static NAT Confi
Inside Local
10.1.1.1
10.1.1.2
ration
Inside Global
200.1.1.1
200.1.1.2
Figure 10-9 Sample Networkfor NAT Examples, with Public Class C 200.1.1.0/24 &ldquo;&gt;</p>
<p>! Lines omitted for brevity
interface GigabitEthernet0/Ø
ip address 10.1.1.3 255.255.255.0
ip nat inside
interface SerialØ/0/0
ip address 200.1.1.251 255.255.255.0
ip nat outside
ip nat inside source static 10.1.1.2 200.1.1.2
ip nat inside source static 10.1.1.1 200.1.1.1
NAT # show ip nat translations
Pro Inside global Inside local
Outside local
200.1.1.1
200.1.1.2
10.1.1.1
10.1.1.2
dynamic;
Outside glo
0 extended)
NAT # show ip nat statistics
Total active translations: 2 (2 static,
Outside interfaces:
Seria10/0/Ø
Inside interfaces:
GigabitEthernetØ/Ø
Hits: 100 Misses: 0
Expired translations &ldquo;&gt;</p>
<p>static mappings are created using the ip nat inside source static command.</p>
<p>Source keyword means that NAT translates the source IP address of packets coming into its inside interfaces. The static keyword means that the parameters define a static entry, which should never be removed from the NAT table because of timeout. Because the design calls for two hosts—10.1.1.1 and 10.1.1.2—to have Internet access, two ip nat inside commands are needed.</p>
<p>show ip nat translations command lists the two static NAT entries created in the configuration. The show ip nat statistics command lists statistics, listing things such as the number of currently active translation table entries. The statistics also include the number of hits, which increments for every packet for which NAT must translate addresses.</p>

<h3 class="relative group">Dynamic NAT Configuration
    <div id="dynamic-nat-configuration" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#dynamic-nat-configuration" aria-label="Anchor">#</a>
    </span>
    
</h3>
<p>Dynamic NAT still requires that each interface be identified as either an inside or outside interface</p>
<p>Dynamic NAT uses an access control list (ACL) to identify which inside local (private) IP addresses need to have their addresses translated, and it defines a pool of registered public IP addresses to allocate.</p>
<p>Step 1. Use the ip nat inside command in interface configuration mode to configure interfaces to be in the inside part of the NAT design (just like with static NAT).</p>
<p>Step 2. Use the ip nat outside command in interface configuration mode to configure interfaces to be in the outside part of the NAT design (just like with static NAT).</p>
<p>Step 3. Configure an ACL that matches the packets entering inside interfaces for which NAT should be performed.</p>
<p>Step 4. Use the ip nat pool name first-address last-address netmask subnet-mask command in global configuration mode to configure the pool of public registered IP addresses.</p>
<p>Step 5. Use the ip nat inside source list acl-number pool pool-name command in global configuration mode to enable dynamic NAT. Note the command references the ACL (step 3) and pool (step 4) per previous steps.</p>
<p>Click here to view code image
NAT# show running-config
! Lines omitted for brevity
interface GigabitEthernet0/0
ip address 10.1.1.3 255.255.255.0
ip nat inside
interface Seria10/0/0
ip address 200.1.1.251 255.255.255.e
ip nat outside
10.1.1.2
10.1.1.1
ip nat
ip nat
access
access
pool fred 200.
1.1.1 200.1.1.2 netmask 255.255.255.252
inside
-list 1
-list 1
source
permit
permit
list
1
pool fred &ldquo;&gt;</p>
<p>Click here to view code image
The next command lists one empty line because no entries have been
! created yet.
NAT# show ip nat translations
NAT# show ip nat statistics
Total active translations: e (e static, e dynamic;
Peak translations: 8, occurred ago
e extended)
Outside interfaces:
seriale/e/e
Inside interfaces:
GigabitEthernete/e
Hits: e Misses: e
CEF Translated packets: e,
Expired translations: e
Dynamic mappings:</p>
<ul>
<li>Inside Source
CEF Punted packets:
e
[id 1] access-list 1 pool fred refcount e
pool Fred: net-mask 255.255.255.252
start 2ee.1.1.1 end 2ee.1.1.2
type generic, total addresses 2,
Total doors: e
Appl doors: e
Normal doors: e
allocated 0 (8%),
misses e &ldquo;&gt;</li>
</ul>
<p>“misses,” as highlighted in the example. The first occurrence of this counter counts the number of times a new packet comes along, needing a NAT entry, and not finding one.</p>
<p>The second misses counter toward the end of the command output lists the number of misses in the pool. This counter increments only when dynamic NAT tries to allocate a new NAT table entry and finds no available addresses</p>
<p>Click here to view code image
NAT# show ip nat translations
Pro Inside global</p>
<ul>
<li>2ee.1.1.1
Inside
local
le.l.l.l
Outside local
Outsic
NAT# show ip nat statistics
Total active translations: 1 (e static, 1 dynamic;
Peak translations: 11, occurred ago
e extended)
Outside interfaces:
seriale/e/e
Inside interfaces:
GigabitEthernete/e
Hits: 69 Misses: 1
Expired translations:
Dynamic mappings:</li>
<li>Inside Source
e
access-list 1 pool fred refcount 1
[eml Fred: net-mask 255.255.255.252
start 2ee.1.1.1 end 2ee.1.1.2
type generic, total addresses 2,
allocated 1 (59%),
misses e &ldquo;&gt;</li>
</ul>
<p>Click here to view code imac
! Host 10.1.1.1 currently uses inside global 200.1.1.1
NAT# show ip nat translations
19:23
Pro Inside global</p>
<ul>
<li>200.1.1.1
1
Inside loca
10.1.1.1
Outside
NAT# clear ip nat translation *
! telnet from 10.1.1.2 to 170.1.1.1 happened next;
! Now host 10.1.1.2 uses inside global 200.1.1.1
NAT# show ip nat translations
Pro Inside global</li>
<li>200.1.1.1
! Telnet from 10.1.1.1
NAT# debug ip nat
Inside
local
10.1.1.2
to 170
Outside
local
not shown
local
not shown
IP NAT
Oct
Oct
Oct
Oct
20
20
20
20
debugging is on
19:23 : 03 . 263:
19:23 267:
: 03
568:
.1.1.1 happened next;
s-170.1.1.1, d=2øø.1.1
s-170.1.1.1, d=2øø.1.1
d=17e .1.1
.2-&gt;1e.1.1
d=17e .1.1
.2-&gt;1e.1.1
.1
.1
.1
.1
Outsid
Outsid
c 348]
c 348]
[349]
[349] &ldquo;&gt;</li>
</ul>
<p>debug ip nat command. This debug command causes the router to issue a message every time a packet has its address translated for NAT.</p>

<h3 class="relative group">NAT Overload (PAT) Configuration
    <div id="nat-overload-pat-configuration" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#nat-overload-pat-configuration" aria-label="Anchor">#</a>
    </span>
    
</h3>
<p>If PAT uses a pool of inside global addresses, the configuration looks exactly like dynamic NAT, except the ip nat inside source list global command has an overload keyword added to the end. If PAT just needs to use one inside global IP address, the router can use one of its interface IP addresses</p>
<p>configuration when using an interface IP address as the sole inside global IP address:</p>
<p>Step 1. As with dynamic and static NAT, configure the ip nat inside interface sub-command to identify inside interfaces.</p>
<p>Step 2. As with dynamic and static NAT, configure the ip nat outside interface subcommand to identify outside interfaces.</p>
<p>Step 3. As with dynamic NAT, configure an ACL that matches the packets entering inside interfaces.</p>
<p>Step 4. Configure the ip nat inside source list acl-number interface type/number overload global configuration command, referring to the ACL created in step 3 and to the interface whose IP address will be used for translations.</p>
<p>10.1.1.1
10.1.1.2
Inside
200.1.1.249
200.1.1.250
Internet
NAT Table overload
Inside Local
Inside Global
10.1.1.1: 49712 200.1.1.249: 49712
10.1.1.2: 49713 200.1.1_249: 49713
10.1.1.2: 49913 200.1.1.249:49913
Figure 10-10 NAT Overload and PAT
170.1.1.1
Outside &ldquo;&gt;</p>
<p>Click to im
NAT* show running-config
Lines Omitted for Brevity
interface GigabitEthernetØ/ø
ip address 10.1.1.3 255.255.255.a
ip nat inside
interface Seriale/e/a
ip address 200.1.1.249 255.255.255.252
ip nat outside
ip nat inside source list I interface Seriale/ø/ø overload
access-list I permit 10.1.1.2
access-list I permit 10.1.1.1
dynamic; 3 extended)
NAT*
Pro
tcp
tcp
tcp
NAT*
show ip nat translations
Inside global
Inside
local
10.1.1.1:49712
10.1.1.2:49713
10.1.1.2:49913
show ip nat statistics
Out s ide
local
17e.1.1.1:23
17e.1.1.1:23
17e.1.1.1:23
Outsid
170.1.
170.1.
170.1.
Total active translations: 3 (e static,
Peak translations: 12, occurred ago
Outside interfaces:
Serialø/ø/ø
Inside interfaces:
Gigabit Ethernete/a
Hits: IE Misses: 3
Expired translations .
Dynamic mappings:
Inside Source
access-list I interface Seriale/e/a refcount 3 &ldquo;&gt;</p>
<p>ip nat inside source list 1 interface serial 0/0/0 overload command has several parameters</p>
<p>The list 1 parameter means the same thing as it does for dynamic NAT: inside local IP addresses matching ACL 1 have their addresses translated. The interface serial 0/0/0 parameter means that the only inside global IP address available is the IP address of the NAT router’s interface serial 0/0/0.</p>
<p>The router creates one NAT table entry for each unique combination of inside local IP address and port</p>
<p>NAT Troubleshooting</p>
<p>Reversed inside and outside</p>
<p>Static NAT: Check the ip nat inside source static command to ensure it lists the inside local address first and the inside global IP address second.</p>
<p>Dynamic NAT (ACL): Ensure that the ACL configured to match packets sent by the inside hosts match that host’s packets before any NAT translation has occurred.</p>
<p>Dynamic NAT (pool): For dynamic NAT without PAT, ensure that the pool has enough IP addresses\</p>
<p>A large or growing value in the second misses counter in the show ip nat statistics command output can indicate this problem. Also, compare the configured pool to the list of addresses in the NAT translation table (show ip nat translations). Finally, if the pool is small, the problem may be that the configuration intended to use PAT and is missing the overload keyword</p>
<p>PAT: It is easy to forget to add the overload option</p>
<p>perhaps NAT has been configured correctly, but an ACL exists on one of the interfaces, discarding the packets.</p>
<p>IOS processes ACLs before NAT. For packets exiting an interface, IOS processes any outbound ACL after translating the addresses with NAT.</p>
<p>User traffic required</p>
<p>IPv4 routing</p>

          
          
          
        </div>
        
        

        

        

      </div>

      
      
        
        
          
          
        
        
        
        <script
          type="text/javascript"
          src="/js/page.min.54b6f4371722649edbe871e431d8670d670878c22be8f36e229fe53cc9b786fe25a834def5e6de621f7a3e37b72bc8cd73839aa5ed907ed6cbd45cd3e1b0fa20.js"
          integrity="sha512-VLb0NxciZJ7b6HHkMdhnDWcIeMIr6PNuIp/lPMm3hv4lqDTe9ebeYh96Pje3K8jNc4Oape2QftbL1FzT4bD6IA=="
          data-oid="views_tech/networking/CCNA Notes/nat.md"
          data-oid-likes="likes_tech/networking/CCNA Notes/nat.md"></script>
      
    </section>

    
    <footer class="pt-8 max-w-prose print:hidden">
      

      
    </footer>
  </article>

        


  






<div
  id="scroll-to-top"
  class="fixed bottom-6 end-6 z-50 transform translate-y-4 opacity-0 duration-200">
  <a
    href="#the-top"
    class="pointer-events-auto flex h-12 w-12 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400"
    aria-label="Scroll to top"
    title="Scroll to top">
    &uarr;
  </a>
</div>

      </main><footer id="site-footer" class="py-10 print:hidden">
  
  
    
      
      
        
      
      
      
      
      <nav class="flex flex-row pb-4 text-base font-medium text-neutral-500 dark:text-neutral-400 overflow-x-auto py-2">
        <ul class="flex list-none flex-row">
          
            <li class=" flex mb-1 text-end sm:mb-0 sm:me-7 sm:last:me-0 me-4">
              <a
                class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center"
                href=""
                title="">
                
                
              </a>
            </li>
          
        </ul>
      </nav>
    
  
  <div class="flex items-center justify-between">
    
    
      <p class="text-sm text-neutral-500 dark:text-neutral-400">
          &copy;
          2025
          David Thomas
      </p>
    

    
    
  </div>
  
    <script>
      mediumZoom(document.querySelectorAll("img:not(.nozoom)"), {
        margin: 24,
        background: "rgba(0,0,0,0.5)",
        scrollOffset: 0,
      });
    </script>
  
  
  
  <script
    type="text/javascript"
    src="/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js"
    integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh&#43;sCQ0E53ghYrxgYqw&#43;0GCRyIEpA=="></script>
  
  
</footer>
<div
  id="search-wrapper"
  class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh] z-500"
  data-url="http://localhost:1313/">
  <div
    id="search-modal"
    class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800">
    <header class="relative z-10 flex items-center justify-between flex-none px-2">
      <form class="flex items-center flex-auto min-w-0">
        <div class="flex items-center justify-center w-8 h-8 text-neutral-400">
          <span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span>
        </div>
        <input
          type="search"
          id="search-query"
          class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent"
          placeholder="Search"
          tabindex="0">
      </form>
      <button
        id="close-search-button"
        class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
        title="Close (Esc)">
        <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>
</span>
      </button>
    </header>
    <section class="flex-auto px-2 overflow-auto">
      <ul id="search-results">
        
      </ul>
    </section>
  </div>
</div>

    </div>
  </body>
  
</html>
