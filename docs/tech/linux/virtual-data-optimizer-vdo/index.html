<!doctype html>
<html
  lang="en"
  dir="ltr"
  class="scroll-smooth"
  data-default-appearance="light"
  data-auto-appearance="false"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
  
    <meta http-equiv="content-language" content="en">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="theme-color">

  
  
    <title>Virtual Data Optimizer (VDO) &middot; </title>
    <meta name="title" content="Virtual Data Optimizer (VDO) &middot; ">
  

  
  
    <meta name="description" content="VDO">
  
  
  
  
  <link rel="canonical" href="http://localhost:1313/tech/linux/virtual-data-optimizer-vdo/">
  

  
  
    <meta name="author" content="David Thomas">
  
  

  
  <meta property="og:url" content="http://localhost:1313/tech/linux/virtual-data-optimizer-vdo/">
  <meta property="og:title" content="Virtual Data Optimizer (VDO)">
  <meta property="og:description" content="VDO">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="tech">

  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Virtual Data Optimizer (VDO)">
  <meta name="twitter:description" content="VDO">

  
  
  
  
    
      
    
  
    
      
    
  
    
      
    
  
  
    
  

  
  
  
  
  
  

  

  
  
  
  
  
  
  
    
  
  
    
  
  
  <link
    type="text/css"
    rel="stylesheet"
    href="/css/main.bundle.min.278a55d3e0b39215730b0c642c7c22cc020054272d3850d92c957cddf6209cf18e0ed01f082db397c8c048c30e727b44ca408c350384ca92d5f37c62d008cbd8.css"
    integrity="sha512-J4pV0&#43;CzkhVzCwxkLHwizAIAVCctOFDZLJV83fYgnPGODtAfCC2zl8jASMMOcntEykCMNQOEypLV83xi0AjL2A==">

  
  
  <script
    type="text/javascript"
    src="/js/appearance.min.6f41174b3a05b680820fe08cadbfa5fb7a7ca347b76a0955cdc68b9d8aca1ce24f0547e138cea33bcc7904d551a90afcb1cc7f2d9fe8557075d501419046c08c.js"
    integrity="sha512-b0EXSzoFtoCCD&#43;CMrb&#43;l&#43;3p8o0e3aglVzcaLnYrKHOJPBUfhOM6jO8x5BNVRqQr8scx/LZ/oVXB11QFBkEbAjA=="></script>
  
  
  
  
  
  
    
    <script src="/lib/zoom/zoom.min.umd.a527109b68c082a70f3697716dd72a9d5aa8b545cf800cecbbc7399f2ca6f6e0ce3e431f2062b48bbfa47c9ea42822714060bef309be073f49b9c0e30d318d7b.js" integrity="sha512-pScQm2jAgqcPNpdxbdcqnVqotUXPgAzsu8c5nyym9uDOPkMfIGK0i7&#43;kfJ6kKCJxQGC&#43;8wm&#43;Bz9JucDjDTGNew=="></script>
  

  
  
  
    
  
  
    
  
  
    
  
  
  
  
  
  
    
    <script
      defer
      type="text/javascript"
      id="script-bundle"
      src="/js/main.bundle.min.9cc802d09f28c6af56ceee7bc6e320a39251fdae98243f2a9942f221ac57a9f49c51609699a91794a7b2580ee1deaa8e4d794a68ffa94aa317c66e893ce51e02.js"
      integrity="sha512-nMgC0J8oxq9Wzu57xuMgo5JR/a6YJD8qmULyIaxXqfScUWCWmakXlKeyWA7h3qqOTXlKaP&#43;pSqMXxm6JPOUeAg=="
      data-copy="Copy"
      data-copied="Copied"></script>
  

  
  

<script src="/lib/jquery/jquery.slim.min.b0dca576e87d7eaa5850ae4e61759c065786cdb6489d68fcc82240539eebd5da522bdb4fda085ffd245808c8fe2acb2516408eb774ef26b5f6015fc6737c0ea8.js" integrity="sha512-sNylduh9fqpYUK5OYXWcBleGzbZInWj8yCJAU57r1dpSK9tP2ghf/SRYCMj&#43;KsslFkCOt3TvJrX2AV/Gc3wOqA=="></script>


























  

  

  

  

  





  
  
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
  

  
  <script type="application/ld+json">
  [{
    "@context": "https://schema.org",
    "@type": "Article",
    "articleSection": "",
    "name": "Virtual Data Optimizer (VDO)",
    "headline": "Virtual Data Optimizer (VDO)",
    "description": "VDO",
    "abstract": "\u003cul\u003e\n\u003cli\u003eUsed for storage optimization\u003c\/li\u003e\n\u003cli\u003eDevice driver layer that sits between the Linux kernel and the physical storage devices.\u003c\/li\u003e\n\u003cli\u003eConserve disk space, improve data throughput, and save on storage cost.\u003c\/li\u003e\n\u003cli\u003eEmploys \u003cstrong\u003ethin provisioning\u003c\/strong\u003e, \u003cstrong\u003ede-duplication\u003c\/strong\u003e, and \u003cstrong\u003ecompression\u003c\/strong\u003e technologies to help realize the goals.\u003c\/li\u003e\n\u003c\/ul\u003e\n\n\u003ch3 class=\u0022relative group\u0022\u003eHow VDO Conserves Storage\n    \u003cdiv id=\u0022how-vdo-conserves-storage\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none\u0022\u003e\n        \u003ca class=\u0022text-primary-300 dark:text-neutral-700 !no-underline\u0022 href=\u0022#how-vdo-conserves-storage\u0022 aria-label=\u0022Anchor\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e\n    \n\u003c\/h3\u003e\n\u003cp\u003e\u003cstrong\u003eStage 1\u003c\/strong\u003e\u003c\/p\u003e",
    "inLanguage": "en",
    "url" : "http://localhost:1313/tech/linux/virtual-data-optimizer-vdo/",
    "author" : {
      "@type": "Person",
      "name": "David Thomas"
    },
    
    
    
    
    
    
    
    
    "mainEntityOfPage": "true",
    "wordCount": "3543"
  }]
  </script>



  
  

  
  

  
  

  
  
    
      <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
      <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
      <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
      <script>

    const firebaseConfig = {
      apiKey: "AIzaSyApsKLCbGb5fkkrzxABOtl3-OUuBcRPVsc",
      authDomain: "davidwrites-89dd7.firebaseapp.com",
      projectId: "davidwrites-89dd7",
      storageBucket: "davidwrites-89dd7.firebasestorage.app",
      messagingSenderId: "433139099634",
      appId: "1:433139099634:web:c14275555bd7171e6c6d6b",
      measurementId: "G-XX5507B82W"
    };

        var app = firebase.initializeApp(firebaseConfig);
        var db = firebase.firestore();
        var auth = firebase.auth();

      </script>
    
  

  
  
</head>







  
    
  







  
    
  






  
  
  <body class="flex flex-col h-screen m-auto leading-7 max-w-7xl px-6 sm:px-14 md:px-24 lg:px-32 text-lg bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600">
    <div id="the-top" class="absolute flex self-center">
      <a
        class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600"
        href="#main-content">
        <span class="font-bold text-primary-600 pe-2 dark:text-primary-400">&darr;</span>
        Skip to main content
      </a>
    </div>
    
    
      













<div
  class="main-menu flex items-center justify-between py-6 md:justify-start gap-x-3 pt-[2px] pr-2 md:pr-4 pb-[3px] pl-0">
  
  
    
    
      <div>
        <a href="/" class="flex">
          <span class="sr-only"></span>
          
            <img
              src="/img/logo.png"
              width="200"
              height="37"
              class="logo max-h-[5rem] max-w-[5rem] object-scale-down object-left nozoom"
              alt="">
          
        </a>
      </div>
    

  <div class="flex flex-1 items-center justify-between">
    <nav class="flex space-x-3">
      
    </nav>
    
  <nav class="hidden md:flex items-center gap-x-5 md:ml-12 h-12">
    
      
        
  <a
  href="/tech/"
  
  class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
  aria-label="Tech"
  title="">
  
  
    <p class="text-base font-medium">
      Tech
    </p>
  
</a>



      
        
  <a
  href="/notes/"
  
  class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
  aria-label="Notes"
  title="Book Notes &amp; Reviews">
  
  
    <p class="text-base font-medium">
      Notes
    </p>
  
</a>



      
        
  <a
  href="/articles/"
  
  class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
  aria-label="Articles"
  title="Articles">
  
  
    <p class="text-base font-medium">
      Articles
    </p>
  
</a>



      
        
  <a
  href="/now/"
  
  class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
  aria-label="Now"
  title="Now">
  
  
    <p class="text-base font-medium">
      Now
    </p>
  
</a>



      
        
  <a
  href=""
  
  class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
  
  title="">
  
  
</a>



      
    

    

    

    
      <button
        id="search-button"
        aria-label="Search"
        class="text-base hover:text-primary-600 dark:hover:text-primary-400"
        title="Search (/)">
        <span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span>
      </button>
    

    
  </nav>

    
  <div class="flex md:hidden items-center gap-x-5 md:ml-12 h-12">
    <span></span>

    

    

    
      <button
        id="search-button-mobile"
        aria-label="Search"
        class="text-base hover:text-primary-600 dark:hover:text-primary-400"
        title="Search (/)">
        <span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span>
      </button>
    

    
  </div>

  </div>
  
  <div class="-my-2 md:hidden">
    <div id="menu-button" class="block">
      
        <div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400">
          <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"/></svg>
</span>
        </div>
        <div
          id="menu-wrapper"
          class="fixed inset-0 z-30 invisible w-screen h-screen m-0 overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50 pt-[5px]">
          <ul
            class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none text-end max-w-7xl">
            <li id="menu-close-button">
              <span
                class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400">
                <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>
</span>
              </span>
            </li>

            
              
  <li class="mt-1">
  <a
    href="/tech/"
    
    class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
    aria-label="Tech"
    title="">
    
    
      <p class="text-bg font-bg">
        Tech
      </p>
    
  </a>
</li>



            
              
  <li class="mt-1">
  <a
    href="/notes/"
    
    class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
    aria-label="Notes"
    title="Book Notes &amp; Reviews">
    
    
      <p class="text-bg font-bg">
        Notes
      </p>
    
  </a>
</li>



            
              
  <li class="mt-1">
  <a
    href="/articles/"
    
    class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
    aria-label="Articles"
    title="Articles">
    
    
      <p class="text-bg font-bg">
        Articles
      </p>
    
  </a>
</li>



            
              
  <li class="mt-1">
  <a
    href="/now/"
    
    class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
    aria-label="Now"
    title="Now">
    
    
      <p class="text-bg font-bg">
        Now
      </p>
    
  </a>
</li>



            
              
  <li class="mt-1">
  <a
    href=""
    
    class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
    
    title="">
    
    
  </a>
</li>



            

          </ul>
          
        </div>
      
    </div>
  </div>

</div>




  <script>
    (function () {
      var $mainmenu = $(".main-menu");
      var path = window.location.pathname;
      $mainmenu.find('a[href="' + path + '"]').each(function (i, e) {
        $(e).children("p").addClass("active");
      });
    })();
  </script>


    
    <div class="relative flex flex-col grow">
      <main id="main-content" class="grow">
        
  
  <article>
    
    

    
    <header id="single_header" class="mt-5 max-w-prose">
      
      <h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
        Virtual Data Optimizer (VDO)
      </h1>
      <div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden">
        





  
  



  

  
  
  
    
  

  

  

  

  

  

  

  

  

  

  


  <div class="flex flex-row flex-wrap items-center">
    
    

    
    
  </div>

  

  
  

  
  



      </div>
      
        
  
  
  
  
  
  

  

  

  

  

      
    </header>

    
    <section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row">
      
      
      
      
      
        <div class="order-first lg:ml-auto px-0 lg:order-last lg:ps-8 lg:max-w-2xs">
          <div class="toc ps-5 print:hidden lg:sticky lg:top-10">
            
              <details
  open
  id="TOCView"
  class="toc-right mt-0 overflow-y-auto overscroll-contain scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600 rounded-lg -ms-5 ps-5 pe-2 hidden lg:block">
  <summary
    class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 -ms-5 ps-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    Table of Contents
  </summary>
  <div
    class="min-w-[220px] py-2 border-dotted border-s-1 -ms-5 ps-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#how-vdo-conserves-storage">How VDO Conserves Storage</a></li>
        <li><a href="#vdo-integration-with-lvm">VDO Integration with LVM</a></li>
        <li><a href="#vdo-components">VDO Components</a></li>
        <li><a href="#vdo-and-kmod-kvdo-commands"><code>vdo</code> and <code>kmod-kvdo</code> Commands</a></li>
        <li><a href="#exercise-13-12-create-an-lvm-vdo-volume">Exercise 13-12: Create an LVM VDO Volume</a></li>
        <li><a href="#exercise-13-13-remove-a-volume-group-and-uninitialize-physical-volumeserver2">Exercise 13-13: Remove a Volume Group and Uninitialize Physical Volume(Server2)</a></li>
      </ul>
    </li>
    <li><a href="#storage-dyi-labs">Storage DYI Labs</a>
      <ul>
        <li><a href="#lab-13-1-create-and-remove-partitions-with-parted">Lab 13-1: Create and Remove Partitions with parted</a></li>
        <li><a href="#lab-13-2-create-and-remove-partitions-with-gdisk">Lab 13-2: Create and Remove Partitions with gdisk</a></li>
        <li><a href="#lab-13-3-create-volume-group-and-logical-volumes">Lab 13-3: Create Volume Group and Logical Volumes</a></li>
        <li><a href="#lab-13-4-expand-volume-group-and-logical-volume">Lab 13-4: Expand Volume Group and Logical Volume</a></li>
        <li><a href="#lab-13-5-add-a-vdo-logical-volume">Lab 13-5: Add a VDO Logical Volume</a></li>
        <li><a href="#lab-13-6-reduce-and-remove-logical-volumes">Lab 13-6: Reduce and Remove Logical Volumes</a></li>
        <li><a href="#lab-13-7-remove-volume-group-and-physical-volumes">Lab 13-7: Remove Volume Group and Physical Volumes</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</details>
<details class="toc-inside mt-0 overflow-hidden rounded-lg -ms-5 ps-5 lg:hidden">
  <summary
    class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 -ms-5 ps-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    Table of Contents
  </summary>
  <div
    class="py-2 border-dotted border-neutral-300 border-s-1 -ms-5 ps-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#how-vdo-conserves-storage">How VDO Conserves Storage</a></li>
        <li><a href="#vdo-integration-with-lvm">VDO Integration with LVM</a></li>
        <li><a href="#vdo-components">VDO Components</a></li>
        <li><a href="#vdo-and-kmod-kvdo-commands"><code>vdo</code> and <code>kmod-kvdo</code> Commands</a></li>
        <li><a href="#exercise-13-12-create-an-lvm-vdo-volume">Exercise 13-12: Create an LVM VDO Volume</a></li>
        <li><a href="#exercise-13-13-remove-a-volume-group-and-uninitialize-physical-volumeserver2">Exercise 13-13: Remove a Volume Group and Uninitialize Physical Volume(Server2)</a></li>
      </ul>
    </li>
    <li><a href="#storage-dyi-labs">Storage DYI Labs</a>
      <ul>
        <li><a href="#lab-13-1-create-and-remove-partitions-with-parted">Lab 13-1: Create and Remove Partitions with parted</a></li>
        <li><a href="#lab-13-2-create-and-remove-partitions-with-gdisk">Lab 13-2: Create and Remove Partitions with gdisk</a></li>
        <li><a href="#lab-13-3-create-volume-group-and-logical-volumes">Lab 13-3: Create Volume Group and Logical Volumes</a></li>
        <li><a href="#lab-13-4-expand-volume-group-and-logical-volume">Lab 13-4: Expand Volume Group and Logical Volume</a></li>
        <li><a href="#lab-13-5-add-a-vdo-logical-volume">Lab 13-5: Add a VDO Logical Volume</a></li>
        <li><a href="#lab-13-6-reduce-and-remove-logical-volumes">Lab 13-6: Reduce and Remove Logical Volumes</a></li>
        <li><a href="#lab-13-7-remove-volume-group-and-physical-volumes">Lab 13-7: Remove Volume Group and Physical Volumes</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</details>


<script>
  (function () {
    'use strict'

    const SCROLL_OFFSET_RATIO = 0.33
    const TOC_SELECTOR = '#TableOfContents'
    const ANCHOR_SELECTOR = '.anchor'
    const TOC_LINK_SELECTOR = 'a[href^="#"]'
    const NESTED_LIST_SELECTOR = 'li ul'
    const ACTIVE_CLASS = 'active'
    let isJumpingToAnchor = false

    function getActiveAnchorId(anchors, offsetRatio) {
      const threshold = window.scrollY + window.innerHeight * offsetRatio
      const tocLinks = [...document.querySelectorAll('#TableOfContents a[href^="#"]')]
      const tocIds = new Set(tocLinks.map(link => link.getAttribute('href').substring(1)))

      if (isJumpingToAnchor) {
        for (let i = 0; i < anchors.length; i++) {
          const anchor = anchors[i]
          if (!tocIds.has(anchor.id)) continue
          const top = anchor.getBoundingClientRect().top + window.scrollY
          if (Math.abs(window.scrollY - top) < 100) {
            return anchor.id
          }
        }
      }

      for (let i = anchors.length - 1; i >= 0; i--) {
        const top = anchors[i].getBoundingClientRect().top + window.scrollY
        if (top <= threshold && tocIds.has(anchors[i].id)) {
          return anchors[i].id
        }
      }
      return anchors.find(anchor => tocIds.has(anchor.id))?.id || ''
    }

    function updateTOC({ toc, anchors, links, scrollOffset, collapseInactive }) {
      const activeId = getActiveAnchorId(anchors, scrollOffset)
      if (!activeId) return

      links.forEach(link => {
        const isActive = link.getAttribute('href') === `#${activeId}`
        link.classList.toggle(ACTIVE_CLASS, isActive)

        if (collapseInactive) {
          const ul = link.closest('li')?.querySelector('ul')
          if (ul) ul.style.display = isActive ? '' : 'none'
        }
      })

      if (collapseInactive) {
        const activeLink = toc.querySelector(`a[href="#${CSS.escape(activeId)}"]`)
        let el = activeLink
        while (el && el !== toc) {
          if (el.tagName === 'UL') el.style.display = ''
          if (el.tagName === 'LI') el.querySelector('ul')?.style.setProperty('display', '')
          el = el.parentElement
        }
      }
    }

    function initTOC() {
      const toc = document.querySelector(TOC_SELECTOR)
      if (!toc) return

      const collapseInactive = true
      const anchors = [...document.querySelectorAll(ANCHOR_SELECTOR)]
      const links = [...toc.querySelectorAll(TOC_LINK_SELECTOR)]

      if (collapseInactive) {
        toc.querySelectorAll(NESTED_LIST_SELECTOR).forEach(ul => ul.style.display = 'none')
      }

      links.forEach(link => {
        link.addEventListener('click', () => {
          isJumpingToAnchor = true
        })
      })

      const config = {
        toc,
        anchors,
        links,
        scrollOffset: SCROLL_OFFSET_RATIO,
        collapseInactive
      }

      window.addEventListener('scroll', () => updateTOC(config), { passive: true })
      window.addEventListener('hashchange', () => updateTOC(config), { passive: true })

      updateTOC(config)
    }

    document.readyState === 'loading'
      ? document.addEventListener('DOMContentLoaded', initTOC)
      : initTOC()
  })()
</script>


            
          </div>
        </div>
      


      <div class="min-w-0 min-h-0 max-w-fit">
        

        <div class="article-content max-w-prose mb-20">
          <ul>
<li>Used for storage optimization</li>
<li>Device driver layer that sits between the Linux kernel and the physical storage devices.</li>
<li>Conserve disk space, improve data throughput, and save on storage cost.</li>
<li>Employs <strong>thin provisioning</strong>, <strong>de-duplication</strong>, and <strong>compression</strong> technologies to help realize the goals.</li>
</ul>

<h3 class="relative group">How VDO Conserves Storage
    <div id="how-vdo-conserves-storage" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#how-vdo-conserves-storage" aria-label="Anchor">#</a>
    </span>
    
</h3>
<p><strong>Stage 1</strong></p>
<ul>
<li>Makes use of thin provisioning to identify and eliminate empty (zero-byte) data blocks. (zero-block elimination)</li>
<li>Removes randomization of data blocks by moving in-use data blocks to contiguous locations on the storage device.</li>
</ul>
<figure><img
    class="my-0 rounded-md"
    loading="lazy"
    decoding="async"
    fetchpriority="low"
    alt=""
    src="../../../img/image-XYSCLXMC.jpg"
    ></figure>
<p><strong>Stage 2</strong></p>
<ul>
<li>If it detects that new data is an identical copy of some existing data, it makes an internal note of it but does not actually write the redundant data to the disk. (de-duplication)</li>
<li>Implemented with the inclusion of a kernel module called <strong>UDS</strong> (Universal De-duplication Service).</li>
</ul>
<p><strong>Stage 3</strong></p>
<ul>
<li>Calls upon another kernel module called <strong>kvdo</strong>, which compresses the residual data blocks and consolidates them on a lower number of blocks.</li>
<li>Results in a further drop in storage space utilization.</li>
<li>Runs in the background and processes inbound data through the three stages on VDO-enabled volumes.</li>
<li>Not a CPU or memory-intensive process</li>
</ul>

<h3 class="relative group">VDO Integration with LVM
    <div id="vdo-integration-with-lvm" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#vdo-integration-with-lvm" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>LVM utilities have been enhanced to include options to support VDO volumes.</li>
</ul>

<h3 class="relative group">VDO Components
    <div id="vdo-components" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#vdo-components" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>Utilizes the concepts of pool and volume.
<strong>pool</strong></li>
<li>logical volume that is created inside an LVM volume group using a deduplicated storage space.
<strong>volume</strong></li>
<li>Just like a regular LVM logical volume, but it is provisioned in a pool.</li>
<li>Needs to be formatted with file system structures before it can be used.</li>
</ul>

<h3 class="relative group"><code>vdo</code> and <code>kmod-kvdo</code> Commands
    <div id="vdo-and-kmod-kvdo-commands" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#vdo-and-kmod-kvdo-commands" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>Create, mount, and manage LVM VDO volumes</li>
<li>Installed on the system by default.</li>
</ul>
<p><code>vdo</code></p>
<ul>
<li>Installs the tools necessary to support the creation and management of VDO volumes</li>
</ul>
<p><code>kmod-kvdo</code></p>
<ul>
<li>Implements fine-grained storage virtualization, thin provisioning, and compression.
Not installed by default?</li>
</ul>

<h3 class="relative group">Exercise 13-12: Create an LVM VDO Volume
    <div id="exercise-13-12-create-an-lvm-vdo-volume" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#exercise-13-12-create-an-lvm-vdo-volume" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>Initialize the 5GB disk (sdf) for use in LVM VDO.</li>
<li>Create a volume group called vgvdo and add the physical volume to it.</li>
<li>List and display the volume group and the physical volume.</li>
<li>Create a VDO volume called lvvdo with a virtual size of 20GB.</li>
</ul>
<p>1. Initialize the sdf disk using the pvcreate command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo pvcreate /dev/sdf</span>
</span></span><span class="line"><span class="cl">  Physical volume <span class="s2">&#34;/dev/sdf&#34;</span> successfully created.
</span></span></code></pre></div><p>2. Create vgvdo volume group using the vgcreate command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgcreate vgvdo /dev/sdf</span>
</span></span><span class="line"><span class="cl">  Volume group <span class="s2">&#34;vgvdo&#34;</span> successfully created
</span></span></code></pre></div><p>3. Display basic information about the volume group:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgdisplay vgvdo</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd1 not found.
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found.
</span></span><span class="line"><span class="cl">  --- Volume group ---
</span></span><span class="line"><span class="cl">  VG Name               vgvdo
</span></span><span class="line"><span class="cl">  System ID             
</span></span><span class="line"><span class="cl">  Format                lvm2
</span></span><span class="line"><span class="cl">  Metadata Areas        <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Metadata Sequence No  <span class="m">1</span>
</span></span><span class="line"><span class="cl">  VG Access             read/write
</span></span><span class="line"><span class="cl">  VG Status             resizable
</span></span><span class="line"><span class="cl">  MAX LV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur LV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Open LV               <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Max PV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur PV                <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Act PV                <span class="m">1</span>
</span></span><span class="line"><span class="cl">  VG Size               &lt;5.00 GiB
</span></span><span class="line"><span class="cl">  PE Size               4.00 MiB
</span></span><span class="line"><span class="cl">  Total PE              <span class="m">1279</span>
</span></span><span class="line"><span class="cl">  Alloc PE / Size       <span class="m">0</span> / <span class="m">0</span>   
</span></span><span class="line"><span class="cl">  Free  PE / Size       <span class="m">1279</span> / &lt;5.00 GiB
</span></span><span class="line"><span class="cl">  VG UUID               tED1vC-Ylec-fpeR-KM8F-8FzP-eaQ4-AsFrgc
</span></span></code></pre></div><p>4. Create a VDO volume called lvvdo using the <code>lvcreate</code> command. Use the -l option to specify the number of logical extents (1279) to be allocated and the -V option for the amount of virtual space.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo dnf install kmod-kvdo</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo lvcreate --type vdo -l 1279 -n lvvdo -V 20G vgvdo</span>
</span></span><span class="line"><span class="cl">    The VDO volume can address <span class="m">2</span> GB in <span class="m">1</span> data slab.
</span></span><span class="line"><span class="cl">    It can grow to address at most <span class="m">16</span> TB of physical storage in <span class="m">8192</span> slabs.
</span></span><span class="line"><span class="cl">    If a larger maximum size might be needed, use bigger slabs.
</span></span><span class="line"><span class="cl">  Logical volume <span class="s2">&#34;lvvdo&#34;</span> created.
</span></span></code></pre></div><p>5. Display detailed information about the volume group including the logical volume and the physical volume:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgdisplay -v vgvdo</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd1 not found.
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found.
</span></span><span class="line"><span class="cl">  --- Volume group ---
</span></span><span class="line"><span class="cl">  VG Name               vgvdo
</span></span><span class="line"><span class="cl">  System ID             
</span></span><span class="line"><span class="cl">  Format                lvm2
</span></span><span class="line"><span class="cl">  Metadata Areas        <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Metadata Sequence No  <span class="m">3</span>
</span></span><span class="line"><span class="cl">  VG Access             read/write
</span></span><span class="line"><span class="cl">  VG Status             resizable
</span></span><span class="line"><span class="cl">  MAX LV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur LV                <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Open LV               <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Max PV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur PV                <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Act PV                <span class="m">1</span>
</span></span><span class="line"><span class="cl">  VG Size               &lt;5.00 GiB
</span></span><span class="line"><span class="cl">  PE Size               4.00 MiB
</span></span><span class="line"><span class="cl">  Total PE              <span class="m">1279</span>
</span></span><span class="line"><span class="cl">  Alloc PE / Size       <span class="m">1279</span> / &lt;5.00 GiB
</span></span><span class="line"><span class="cl">  Free  PE / Size       <span class="m">0</span> / <span class="m">0</span>   
</span></span><span class="line"><span class="cl">  VG UUID               tED1vC-Ylec-fpeR-KM8F-8FzP-eaQ4-AsFrgc
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">  --- Logical volume ---
</span></span><span class="line"><span class="cl">  LV Path                /dev/vgvdo/vpool0
</span></span><span class="line"><span class="cl">  LV Name                vpool0
</span></span><span class="line"><span class="cl">  VG Name                vgvdo
</span></span><span class="line"><span class="cl">  LV UUID                yGAsK2-MruI-QGy2-Q1IF-CDDC-XPNT-qkjJ9t
</span></span><span class="line"><span class="cl">  LV Write Access        read/write
</span></span><span class="line"><span class="cl">  LV Creation host, <span class="nb">time</span> server2, 2024-06-16 09:35:46 -0700
</span></span><span class="line"><span class="cl">  LV VDO Pool data       vpool0_vdata
</span></span><span class="line"><span class="cl">  LV VDO Pool usage      60.00%
</span></span><span class="line"><span class="cl">  LV VDO Pool saving     100.00%
</span></span><span class="line"><span class="cl">  LV VDO Operating mode  normal
</span></span><span class="line"><span class="cl">  LV VDO Index state     online
</span></span><span class="line"><span class="cl">  LV VDO Compression st  online
</span></span><span class="line"><span class="cl">  LV VDO Used size       &lt;3.00 GiB
</span></span><span class="line"><span class="cl">  LV Status              NOT available
</span></span><span class="line"><span class="cl">  LV Size                &lt;5.00 GiB
</span></span><span class="line"><span class="cl">  Current LE             <span class="m">1279</span>
</span></span><span class="line"><span class="cl">  Segments               <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Allocation             inherit
</span></span><span class="line"><span class="cl">  Read ahead sectors     auto
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">  --- Logical volume ---
</span></span><span class="line"><span class="cl">  LV Path                /dev/vgvdo/lvvdo
</span></span><span class="line"><span class="cl">  LV Name                lvvdo
</span></span><span class="line"><span class="cl">  VG Name                vgvdo
</span></span><span class="line"><span class="cl">  LV UUID                nnGTW5-tVFa-T3Cy-9nHj-sozF-2KpP-rVfnSq
</span></span><span class="line"><span class="cl">  LV Write Access        read/write
</span></span><span class="line"><span class="cl">  LV Creation host, <span class="nb">time</span> server2, 2024-06-16 09:35:47 -0700
</span></span><span class="line"><span class="cl">  LV VDO Pool name       vpool0
</span></span><span class="line"><span class="cl">  LV Status              available
</span></span><span class="line"><span class="cl">  <span class="c1"># open                 0</span>
</span></span><span class="line"><span class="cl">  LV Size                20.00 GiB
</span></span><span class="line"><span class="cl">  Current LE             <span class="m">5120</span>
</span></span><span class="line"><span class="cl">  Segments               <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Allocation             inherit
</span></span><span class="line"><span class="cl">  Read ahead sectors     auto
</span></span><span class="line"><span class="cl">  - currently <span class="nb">set</span> to     <span class="m">8192</span>
</span></span><span class="line"><span class="cl">  Block device           253:4
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">  --- Physical volumes ---
</span></span><span class="line"><span class="cl">  PV Name               /dev/sdf     
</span></span><span class="line"><span class="cl">  PV UUID               0oAXHG-C4ub-Myou-5vZf-QxIX-KVT3-ipMZCp
</span></span><span class="line"><span class="cl">  PV Status             allocatable
</span></span><span class="line"><span class="cl">  Total PE / Free PE    <span class="m">1279</span> / <span class="m">0</span>
</span></span></code></pre></div><p>The output reflects the creation of two logical volumes: a pool called /dev/vgvdo/vpool0 and a volume called /dev/vgvdo/lvvdo.</p>

<h3 class="relative group">Exercise 13-13: Remove a Volume Group and Uninitialize Physical Volume(Server2)
    <div id="exercise-13-13-remove-a-volume-group-and-uninitialize-physical-volumeserver2" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#exercise-13-13-remove-a-volume-group-and-uninitialize-physical-volumeserver2" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>remove the vgvdo volume group along with the VDO volumes</li>
<li>uninitialize the physical volume /dev/sdf.</li>
<li>confirm the deletion.</li>
</ul>
<p>1. Remove the volume group along with the VDO volumes using the vgremove command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgremove vgvdo -f</span>
</span></span><span class="line"><span class="cl">  Logical volume <span class="s2">&#34;lvvdo&#34;</span> successfully removed.
</span></span><span class="line"><span class="cl">  Volume group <span class="s2">&#34;vgvdo&#34;</span> successfully removed
</span></span></code></pre></div><p>Remember to proceed with caution whenever you perform erase operations.</p>
<p>2. Execute <code>sudo vgs</code> and <code>sudo lvs</code> commands for confirmation.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgs</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd1 not found.
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found.
</span></span><span class="line"><span class="cl">  VG   <span class="c1">#PV #LV #SN Attr   VSize   VFree</span>
</span></span><span class="line"><span class="cl">  rhel   <span class="m">1</span>   <span class="m">2</span>   <span class="m">0</span> wz--n- &lt;19.00g    <span class="m">0</span> 
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo lvs</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd1 not found.
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found.
</span></span><span class="line"><span class="cl">  LV   VG   Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
</span></span><span class="line"><span class="cl">  root rhel -wi-ao---- &lt;17.00g                                                    
</span></span><span class="line"><span class="cl">  swap rhel -wi-ao----   2.00g  
</span></span></code></pre></div><p>3. Remove the LVM structures from sdf using the <code>pvremove</code> command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo pvremove /dev/sdf</span>
</span></span><span class="line"><span class="cl">  Labels on physical volume <span class="s2">&#34;/dev/sdf&#34;</span> successfully wiped.
</span></span></code></pre></div><p>4. Confirm the removal by running <code>sudo pvs</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo pvs</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd1 not found.
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found.
</span></span><span class="line"><span class="cl">  PV         VG   Fmt  Attr PSize   PFree
</span></span><span class="line"><span class="cl">  /dev/sda2  rhel lvm2 a--  &lt;19.00g    <span class="m">0</span> 
</span></span></code></pre></div><p>The disk is now back to its raw state and can be repurposed.</p>
<p>5. Verify that the sdf disk used in the previous exercises has returned to its original raw state using the <code>lsblk</code> command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># lsblk</span>
</span></span><span class="line"><span class="cl">NAME          MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS
</span></span><span class="line"><span class="cl">sda             8:0    <span class="m">0</span>   20G  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">├─sda1          8:1    <span class="m">0</span>    1G  <span class="m">0</span> part /boot
</span></span><span class="line"><span class="cl">└─sda2          8:2    <span class="m">0</span>   19G  <span class="m">0</span> part 
</span></span><span class="line"><span class="cl">  ├─rhel-root 253:0    <span class="m">0</span>   17G  <span class="m">0</span> lvm  /
</span></span><span class="line"><span class="cl">  └─rhel-swap 253:1    <span class="m">0</span>    2G  <span class="m">0</span> lvm  <span class="o">[</span>SWAP<span class="o">]</span>
</span></span><span class="line"><span class="cl">sdb             8:16   <span class="m">0</span>  250M  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">sdc             8:32   <span class="m">0</span>  250M  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">sdd             8:48   <span class="m">0</span>  250M  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">sde             8:64   <span class="m">0</span>  250M  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">sdf             8:80   <span class="m">0</span>    5G  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">sr0            11:0    <span class="m">1</span>  9.8G  <span class="m">0</span> rom 
</span></span></code></pre></div><p>This brings the exercise to an end.</p>

<h2 class="relative group">Storage DYI Labs
    <div id="storage-dyi-labs" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#storage-dyi-labs" aria-label="Anchor">#</a>
    </span>
    
</h2>

<h3 class="relative group">Lab 13-1: Create and Remove Partitions with parted
    <div id="lab-13-1-create-and-remove-partitions-with-parted" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#lab-13-1-create-and-remove-partitions-with-parted" aria-label="Anchor">#</a>
    </span>
    
</h3>
<p>Create a 100MB primary partition on one of the available 250MB disks (lsblk) by invoking the parted utility directly at the command prompt. Apply label &ldquo;msdos&rdquo; if the disk is new.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server20 ~<span class="o">]</span><span class="c1"># sudo parted /dev/sdb mklabel msdos</span>
</span></span><span class="line"><span class="cl">Warning: The existing disk label on /dev/sdb will be destroyed and all data on this disk will be lost. Do you want to
</span></span><span class="line"><span class="cl"><span class="k">continue</span>?
</span></span><span class="line"><span class="cl">Yes/No? yes                                                               
</span></span><span class="line"><span class="cl">Information: You may need to update /etc/fstab.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server20 ~<span class="o">]</span><span class="c1"># sudo parted /dev/sdb mkpart primary 1 101m             </span>
</span></span><span class="line"><span class="cl">Information: You may need to update /etc/fstab.
</span></span></code></pre></div><p>Create another 100MB partition by running parted interactively while ensuring that the second partition won&rsquo;t overlap the first.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server20 ~<span class="o">]</span><span class="c1"># parted /dev/sdb</span>
</span></span><span class="line"><span class="cl">GNU Parted 3.5
</span></span><span class="line"><span class="cl">Using /dev/sdb
</span></span><span class="line"><span class="cl">Welcome to GNU Parted! Type <span class="s1">&#39;help&#39;</span> to view a list of commands.
</span></span><span class="line"><span class="cl"><span class="o">(</span>parted<span class="o">)</span> mkpart primary <span class="m">101</span> 201m                                         
</span></span></code></pre></div><p>Verify the label and the partitions.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">(</span>parted<span class="o">)</span> print                                                            
</span></span><span class="line"><span class="cl">Model: ATA VBOX HARDDISK <span class="o">(</span>scsi<span class="o">)</span>
</span></span><span class="line"><span class="cl">Disk /dev/sdb: 262MB
</span></span><span class="line"><span class="cl">Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: 512B/512B
</span></span><span class="line"><span class="cl">Partition Table: msdos
</span></span><span class="line"><span class="cl">Disk Flags: 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Number  Start   End    Size    Type     File system  Flags
</span></span><span class="line"><span class="cl"> <span class="m">1</span>      1049kB  101MB  99.6MB  primary
</span></span><span class="line"><span class="cl"> <span class="m">2</span>      101MB   201MB  101MB   primary
</span></span></code></pre></div><p>Remove both partitions at the command prompt.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server20 ~<span class="o">]</span><span class="c1"># sudo parted /dev/sdb rm 1 rm 2</span>
</span></span></code></pre></div>
<h3 class="relative group">Lab 13-2: Create and Remove Partitions with gdisk
    <div id="lab-13-2-create-and-remove-partitions-with-gdisk" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#lab-13-2-create-and-remove-partitions-with-gdisk" aria-label="Anchor">#</a>
    </span>
    
</h3>
<p>Create two 80MB partitions on one of the 250MB disks (lsblk) using the gdisk utility. Make sure the partitions won&rsquo;t overlap.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">Command <span class="o">(</span>? <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: o
</span></span><span class="line"><span class="cl">This option deletes all partitions and creates a new protective MBR.
</span></span><span class="line"><span class="cl">Proceed? <span class="o">(</span>Y/N<span class="o">)</span>: y
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Command <span class="o">(</span>? <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: p
</span></span><span class="line"><span class="cl">Disk /dev/sdb: <span class="m">512000</span> sectors, 250.0 MiB
</span></span><span class="line"><span class="cl">Model: VBOX HARDDISK   
</span></span><span class="line"><span class="cl">Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: 512/512 bytes
</span></span><span class="line"><span class="cl">Disk identifier <span class="o">(</span>GUID<span class="o">)</span>: 226F7476-7F8C-4445-9025-53B6737AD1E4
</span></span><span class="line"><span class="cl">Partition table holds up to <span class="m">128</span> entries
</span></span><span class="line"><span class="cl">Main partition table begins at sector <span class="m">2</span> and ends at sector <span class="m">33</span>
</span></span><span class="line"><span class="cl">First usable sector is 34, last usable sector is <span class="m">511966</span>
</span></span><span class="line"><span class="cl">Partitions will be aligned on 2048-sector boundaries
</span></span><span class="line"><span class="cl">Total free space is <span class="m">511933</span> sectors <span class="o">(</span>250.0 MiB<span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Number  Start <span class="o">(</span>sector<span class="o">)</span>    End <span class="o">(</span>sector<span class="o">)</span>  Size       Code  Name
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Command <span class="o">(</span>? <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: n
</span></span><span class="line"><span class="cl">Partition number <span class="o">(</span>1-128, default 1<span class="o">)</span>: 
</span></span><span class="line"><span class="cl">First sector <span class="o">(</span>34-511966, <span class="nv">default</span> <span class="o">=</span> 2048<span class="o">)</span> or <span class="o">{</span>+-<span class="o">}</span>size<span class="o">{</span>KMGTP<span class="o">}</span>: 
</span></span><span class="line"><span class="cl">Last sector <span class="o">(</span>2048-511966, <span class="nv">default</span> <span class="o">=</span> 511966<span class="o">)</span> or <span class="o">{</span>+-<span class="o">}</span>size<span class="o">{</span>KMGTP<span class="o">}</span>: +80M
</span></span><span class="line"><span class="cl">Current <span class="nb">type</span> is <span class="m">8300</span> <span class="o">(</span>Linux filesystem<span class="o">)</span>
</span></span><span class="line"><span class="cl">Hex code or GUID <span class="o">(</span>L to show codes, <span class="nv">Enter</span> <span class="o">=</span> 8300<span class="o">)</span>: 
</span></span><span class="line"><span class="cl">Changed <span class="nb">type</span> of partition to <span class="s1">&#39;Linux filesystem&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Command <span class="o">(</span>? <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: n
</span></span><span class="line"><span class="cl">Partition number <span class="o">(</span>2-128, default 2<span class="o">)</span>: <span class="m">2</span>
</span></span><span class="line"><span class="cl">First sector <span class="o">(</span>34-511966, <span class="nv">default</span> <span class="o">=</span> 165888<span class="o">)</span> or <span class="o">{</span>+-<span class="o">}</span>size<span class="o">{</span>KMGTP<span class="o">}</span>: <span class="m">165888</span>
</span></span><span class="line"><span class="cl">Last sector <span class="o">(</span>165888-511966, <span class="nv">default</span> <span class="o">=</span> 511966<span class="o">)</span> or <span class="o">{</span>+-<span class="o">}</span>size<span class="o">{</span>KMGTP<span class="o">}</span>: +80M
</span></span><span class="line"><span class="cl">Current <span class="nb">type</span> is <span class="m">8300</span> <span class="o">(</span>Linux filesystem<span class="o">)</span>
</span></span><span class="line"><span class="cl">Hex code or GUID <span class="o">(</span>L to show codes, <span class="nv">Enter</span> <span class="o">=</span> 8300<span class="o">)</span>: 
</span></span><span class="line"><span class="cl">Changed <span class="nb">type</span> of partition to <span class="s1">&#39;Linux filesystem&#39;</span>
</span></span></code></pre></div><p>Verify the partitions.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">Command <span class="o">(</span>? <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: p
</span></span><span class="line"><span class="cl">Disk /dev/sdb: <span class="m">512000</span> sectors, 250.0 MiB
</span></span><span class="line"><span class="cl">Model: VBOX HARDDISK   
</span></span><span class="line"><span class="cl">Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: 512/512 bytes
</span></span><span class="line"><span class="cl">Disk identifier <span class="o">(</span>GUID<span class="o">)</span>: 226F7476-7F8C-4445-9025-53B6737AD1E4
</span></span><span class="line"><span class="cl">Partition table holds up to <span class="m">128</span> entries
</span></span><span class="line"><span class="cl">Main partition table begins at sector <span class="m">2</span> and ends at sector <span class="m">33</span>
</span></span><span class="line"><span class="cl">First usable sector is 34, last usable sector is <span class="m">511966</span>
</span></span><span class="line"><span class="cl">Partitions will be aligned on 2048-sector boundaries
</span></span><span class="line"><span class="cl">Total free space is <span class="m">184253</span> sectors <span class="o">(</span>90.0 MiB<span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Number  Start <span class="o">(</span>sector<span class="o">)</span>    End <span class="o">(</span>sector<span class="o">)</span>  Size       Code  Name
</span></span><span class="line"><span class="cl">   <span class="m">1</span>            <span class="m">2048</span>          <span class="m">165887</span>   80.0 MiB    <span class="m">8300</span>  Linux filesystem
</span></span><span class="line"><span class="cl">   <span class="m">2</span>          <span class="m">165888</span>          <span class="m">329727</span>   80.0 MiB    <span class="m">8300</span>  Linux filesystem
</span></span></code></pre></div><p>Save</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">Command <span class="o">(</span>? <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: w
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Final checks complete. About to write GPT data. THIS WILL OVERWRITE EXISTING
</span></span><span class="line"><span class="cl">PARTITIONS!!
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Do you want to proceed? <span class="o">(</span>Y/N<span class="o">)</span>: y
</span></span><span class="line"><span class="cl">OK<span class="p">;</span> writing new GUID partition table <span class="o">(</span>GPT<span class="o">)</span> to /dev/sdb.
</span></span><span class="line"><span class="cl">The operation has completed successfully.
</span></span></code></pre></div><p>Delete the partitions</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">Command <span class="o">(</span>? <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: d  
</span></span><span class="line"><span class="cl">Partition number <span class="o">(</span>1-2<span class="o">)</span>: <span class="m">1</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Command <span class="o">(</span>? <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: d
</span></span><span class="line"><span class="cl">Using <span class="m">2</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Command <span class="o">(</span>? <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: w
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Final checks complete. About to write GPT data. THIS WILL OVERWRITE EXISTING
</span></span><span class="line"><span class="cl">PARTITIONS!!
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Do you want to proceed? <span class="o">(</span>Y/N<span class="o">)</span>: y
</span></span><span class="line"><span class="cl">OK<span class="p">;</span> writing new GUID partition table <span class="o">(</span>GPT<span class="o">)</span> to /dev/sdb.
</span></span><span class="line"><span class="cl">The operation has completed successfully.
</span></span></code></pre></div>
<h3 class="relative group">Lab 13-3: Create Volume Group and Logical Volumes
    <div id="lab-13-3-create-volume-group-and-logical-volumes" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#lab-13-3-create-volume-group-and-logical-volumes" aria-label="Anchor">#</a>
    </span>
    
</h3>
<p>initialize 1x250MB disk for use in LVM (use lsblk to identify available disks).</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">root@server2 ~<span class="o">]</span><span class="c1"># sudo parted /dev/sdd mklabel msdos</span>
</span></span><span class="line"><span class="cl">Warning: The existing disk label on /dev/sdd will be destroyed and all data
</span></span><span class="line"><span class="cl">on this disk will be lost. Do you want to <span class="k">continue</span>?
</span></span><span class="line"><span class="cl">Yes/No? yes                                                               
</span></span><span class="line"><span class="cl">Information: You may need to update /etc/fstab.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo parted /dev/sdd mkpart primary 1 250m              </span>
</span></span><span class="line"><span class="cl">Information: You may need to update /etc/fstab.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo parted /dev/sdd print                              </span>
</span></span><span class="line"><span class="cl">Model: ATA VBOX HARDDISK <span class="o">(</span>scsi<span class="o">)</span>
</span></span><span class="line"><span class="cl">Disk /dev/sdd: 262MB
</span></span><span class="line"><span class="cl">Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: 512B/512B
</span></span><span class="line"><span class="cl">Partition Table: msdos
</span></span><span class="line"><span class="cl">Disk Flags: 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Number  Start   End    Size   Type     File system  Flags
</span></span><span class="line"><span class="cl"> <span class="m">1</span>      1049kB  250MB  249MB  primary
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo pvcreate /dev/sdd1</span>
</span></span><span class="line"><span class="cl">  Physical volume <span class="s2">&#34;/dev/sdd1&#34;</span> successfully created.
</span></span></code></pre></div><p>(Can also just use the full disk without making it into a partition first.)</p>
<p>Create volume group vg100 with PE size 16MB and add the physical volume.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgcreate -vs 16 vg100 /dev/sdd1</span>
</span></span><span class="line"><span class="cl">  Wiping signatures on new PV /dev/sdd1.
</span></span><span class="line"><span class="cl">  Adding physical volume <span class="s1">&#39;/dev/sdd1&#39;</span> to volume group <span class="s1">&#39;vg100&#39;</span>
</span></span><span class="line"><span class="cl">  Creating volume group backup <span class="s2">&#34;/etc/lvm/backup/vg100&#34;</span> <span class="o">(</span>seqno 1<span class="o">)</span>.
</span></span><span class="line"><span class="cl">  Volume group <span class="s2">&#34;vg100&#34;</span> successfully created
</span></span></code></pre></div><p>Create two logical volumes lvol0 and swapvol of sizes 90MB and 120MB.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo lvcreate -vL 90 vg100</span>
</span></span><span class="line"><span class="cl">  Creating logical volume lvol0
</span></span><span class="line"><span class="cl">  Archiving volume group <span class="s2">&#34;vg100&#34;</span> metadata <span class="o">(</span>seqno 1<span class="o">)</span>.
</span></span><span class="line"><span class="cl">  Activating logical volume vg100/lvol0.
</span></span><span class="line"><span class="cl">  activation/volume_list configuration setting not defined: Checking only host tags <span class="k">for</span> vg100/lvol0.
</span></span><span class="line"><span class="cl">  Creating vg100-lvol0
</span></span><span class="line"><span class="cl">  Loading table <span class="k">for</span> vg100-lvol0 <span class="o">(</span>253:2<span class="o">)</span>.
</span></span><span class="line"><span class="cl">  Resuming vg100-lvol0 <span class="o">(</span>253:2<span class="o">)</span>.
</span></span><span class="line"><span class="cl">  Wiping known signatures on logical volume vg100/lvol0.
</span></span><span class="line"><span class="cl">  Initializing 4.00 KiB of logical volume vg100/lvol0 with value 0.
</span></span><span class="line"><span class="cl">  Logical volume <span class="s2">&#34;lvol0&#34;</span> created.
</span></span><span class="line"><span class="cl">  Creating volume group backup <span class="s2">&#34;/etc/lvm/backup/vg100&#34;</span> <span class="o">(</span>seqno 2<span class="o">)</span>.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo lvcreate -l 8 -n swapvol vg100</span>
</span></span><span class="line"><span class="cl">  Logical volume <span class="s2">&#34;swapvol&#34;</span> created.
</span></span></code></pre></div><p>Use the vgs, pvs, lvs, and vgdisplay commands for verification.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># lvs</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd1 not found.
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found.
</span></span><span class="line"><span class="cl">  LV      VG    Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
</span></span><span class="line"><span class="cl">  root    rhel  -wi-ao---- &lt;17.00g                                                    
</span></span><span class="line"><span class="cl">  swap    rhel  -wi-ao----   2.00g                                                    
</span></span><span class="line"><span class="cl">  lvol0   vg100 -wi-a-----  90.00m                                                    
</span></span><span class="line"><span class="cl">  swapvol vg100 -wi-a----- 120.00m                                                    
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># vgs</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd1 not found.
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found.
</span></span><span class="line"><span class="cl">  VG    <span class="c1">#PV #LV #SN Attr   VSize   VFree </span>
</span></span><span class="line"><span class="cl">  rhel    <span class="m">1</span>   <span class="m">2</span>   <span class="m">0</span> wz--n- &lt;19.00g     <span class="m">0</span> 
</span></span><span class="line"><span class="cl">  vg100   <span class="m">1</span>   <span class="m">2</span>   <span class="m">0</span> wz--n- 225.00m 15.00m
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># pvs</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd1 not found.
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found.
</span></span><span class="line"><span class="cl">  PV         VG    Fmt  Attr PSize   PFree 
</span></span><span class="line"><span class="cl">  /dev/sda2  rhel  lvm2 a--  &lt;19.00g     <span class="m">0</span> 
</span></span><span class="line"><span class="cl">  /dev/sdd1  vg100 lvm2 a--  225.00m 15.00m
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># vgdisplay</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd1 not found.
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found.
</span></span><span class="line"><span class="cl">  --- Volume group ---
</span></span><span class="line"><span class="cl">  VG Name               vg100
</span></span><span class="line"><span class="cl">  System ID             
</span></span><span class="line"><span class="cl">  Format                lvm2
</span></span><span class="line"><span class="cl">  Metadata Areas        <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Metadata Sequence No  <span class="m">5</span>
</span></span><span class="line"><span class="cl">  VG Access             read/write
</span></span><span class="line"><span class="cl">  VG Status             resizable
</span></span><span class="line"><span class="cl">  MAX LV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur LV                <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Open LV               <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Max PV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur PV                <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Act PV                <span class="m">1</span>
</span></span><span class="line"><span class="cl">  VG Size               225.00 MiB
</span></span><span class="line"><span class="cl">  PE Size               15.00 MiB
</span></span><span class="line"><span class="cl">  Total PE              <span class="m">15</span>
</span></span><span class="line"><span class="cl">  Alloc PE / Size       <span class="m">14</span> / 210.00 MiB
</span></span><span class="line"><span class="cl">  Free  PE / Size       <span class="m">1</span> / 15.00 MiB
</span></span><span class="line"><span class="cl">  VG UUID               fEUf8R-nxKF-Uxud-7rmm-JvSQ-PsN1-Mrs3zc
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">  --- Volume group ---
</span></span><span class="line"><span class="cl">  VG Name               rhel
</span></span><span class="line"><span class="cl">  System ID             
</span></span><span class="line"><span class="cl">  Format                lvm2
</span></span><span class="line"><span class="cl">  Metadata Areas        <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Metadata Sequence No  <span class="m">3</span>
</span></span><span class="line"><span class="cl">  VG Access             read/write
</span></span><span class="line"><span class="cl">  VG Status             resizable
</span></span><span class="line"><span class="cl">  MAX LV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur LV                <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Open LV               <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Max PV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur PV                <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Act PV                <span class="m">1</span>
</span></span><span class="line"><span class="cl">  VG Size               &lt;19.00 GiB
</span></span><span class="line"><span class="cl">  PE Size               4.00 MiB
</span></span><span class="line"><span class="cl">  Total PE              <span class="m">4863</span>
</span></span><span class="line"><span class="cl">  Alloc PE / Size       <span class="m">4863</span> / &lt;19.00 GiB
</span></span><span class="line"><span class="cl">  Free  PE / Size       <span class="m">0</span> / <span class="m">0</span>   
</span></span><span class="line"><span class="cl">  VG UUID               UiK3fy-FGOc-2fnP-C1Y6-JS0l-irEe-Sq3c4h
</span></span></code></pre></div>
<h3 class="relative group">Lab 13-4: Expand Volume Group and Logical Volume
    <div id="lab-13-4-expand-volume-group-and-logical-volume" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#lab-13-4-expand-volume-group-and-logical-volume" aria-label="Anchor">#</a>
    </span>
    
</h3>
<p>Create a partition on an available 250MB disk and initialize it for use in LVM (use lsblk to identify available disks).</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># parted /dev/sdb mklabel msdos</span>
</span></span><span class="line"><span class="cl">Warning: The existing disk label on /dev/sdb will be destroyed and all data on this disk will be lost. Do you want to <span class="k">continue</span>?
</span></span><span class="line"><span class="cl">Yes/No? yes                                                               
</span></span><span class="line"><span class="cl">Information: You may need to update /etc/fstab.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># parted /dev/sdb mkpart primary 1 250m                   </span>
</span></span><span class="line"><span class="cl">Information: You may need to update /etc/fstab.
</span></span></code></pre></div><p>Add the new physical volume to vg100.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgextend vg100 /dev/sdb1</span>
</span></span><span class="line"><span class="cl">  Device /dev/sdb1 has updated name <span class="o">(</span>devices file /dev/sdd1<span class="o">)</span>
</span></span><span class="line"><span class="cl">  Physical volume <span class="s2">&#34;/dev/sdb1&#34;</span> successfully created.
</span></span><span class="line"><span class="cl">  Volume group <span class="s2">&#34;vg100&#34;</span> successfully extended
</span></span></code></pre></div><p>Expand the lvol0 logical volume to size 300MB.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># lvextend -L +210 /dev/vg100/lvol0</span>
</span></span><span class="line"><span class="cl">  Size of logical volume vg100/lvol0 changed from 90.00 MiB <span class="o">(</span><span class="m">6</span> extents<span class="o">)</span> to 300.00 MiB <span class="o">(</span><span class="m">20</span> extents<span class="o">)</span>.
</span></span><span class="line"><span class="cl">  Logical volume vg100/lvol0 successfully resized.
</span></span></code></pre></div><p>Use the vgs, pvs, lvs, and vgdisplay commands for verification.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[[</span>root@server2 ~<span class="o">]</span><span class="c1"># lvs</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found.
</span></span><span class="line"><span class="cl">  LV      VG    Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
</span></span><span class="line"><span class="cl">  root    rhel  -wi-ao---- &lt;17.00g                                                    
</span></span><span class="line"><span class="cl">  swap    rhel  -wi-ao----   2.00g                                                    
</span></span><span class="line"><span class="cl">  lvol0   vg100 -wi-a-----  90.00m                                                    
</span></span><span class="line"><span class="cl">  swapvol vg100 -wi-a----- 120.00m<span class="o">](</span>&lt;<span class="o">[</span>root@server20 ~<span class="o">]</span><span class="c1"># lvs</span>
</span></span><span class="line"><span class="cl">  LV      VG    Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
</span></span><span class="line"><span class="cl">  root    rhel  -wi-ao---- %3C17.00g                                                    
</span></span><span class="line"><span class="cl">  swap    rhel  -wi-ao----   2.00g                                                    
</span></span><span class="line"><span class="cl">  lvol0   vg100 -wi-a----- 300.00m                                                    
</span></span><span class="line"><span class="cl">  swapvol vg100 -wi-a----- 120.00m&gt;<span class="o">)</span>                                                  
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># vgs</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found.
</span></span><span class="line"><span class="cl">  VG    <span class="c1">#PV #LV #SN Attr   VSize   VFree </span>
</span></span><span class="line"><span class="cl">  rhel    <span class="m">1</span>   <span class="m">2</span>   <span class="m">0</span> wz--n- &lt;19.00g     <span class="m">0</span> 
</span></span><span class="line"><span class="cl">  vg100   <span class="m">2</span>   <span class="m">2</span>   <span class="m">0</span> wz--n- 450.00m 30.00m
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># pvs</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found.
</span></span><span class="line"><span class="cl">  PV         VG    Fmt  Attr PSize   PFree 
</span></span><span class="line"><span class="cl">  /dev/sda2  rhel  lvm2 a--  &lt;19.00g     <span class="m">0</span> 
</span></span><span class="line"><span class="cl">  /dev/sdb1  vg100 lvm2 a--  225.00m 30.00m
</span></span><span class="line"><span class="cl">  /dev/sdd1  vg100 lvm2 a--  225.00m     <span class="m">0</span> 
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># lvs</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found.
</span></span><span class="line"><span class="cl">  LV      VG    Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
</span></span><span class="line"><span class="cl">  root    rhel  -wi-ao---- &lt;17.00g                                                    
</span></span><span class="line"><span class="cl">  swap    rhel  -wi-ao----   2.00g                                                    
</span></span><span class="line"><span class="cl">  lvol0   vg100 -wi-a----- 300.00m                                                    
</span></span><span class="line"><span class="cl">  swapvol vg100 -wi-a----- 120.00m                                                    
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># vgdisplay</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found.
</span></span><span class="line"><span class="cl">  --- Volume group ---
</span></span><span class="line"><span class="cl">  VG Name               vg100
</span></span><span class="line"><span class="cl">  System ID             
</span></span><span class="line"><span class="cl">  Format                lvm2
</span></span><span class="line"><span class="cl">  Metadata Areas        <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Metadata Sequence No  <span class="m">7</span>
</span></span><span class="line"><span class="cl">  VG Access             read/write
</span></span><span class="line"><span class="cl">  VG Status             resizable
</span></span><span class="line"><span class="cl">  MAX LV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur LV                <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Open LV               <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Max PV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur PV                <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Act PV                <span class="m">2</span>
</span></span><span class="line"><span class="cl">  VG Size               450.00 MiB
</span></span><span class="line"><span class="cl">  PE Size               15.00 MiB
</span></span><span class="line"><span class="cl">  Total PE              <span class="m">30</span>
</span></span><span class="line"><span class="cl">  Alloc PE / Size       <span class="m">28</span> / 420.00 MiB
</span></span><span class="line"><span class="cl">  Free  PE / Size       <span class="m">2</span> / 30.00 MiB
</span></span><span class="line"><span class="cl">  VG UUID               fEUf8R-nxKF-Uxud-7rmm-JvSQ-PsN1-Mrs3zc
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">  --- Volume group ---
</span></span><span class="line"><span class="cl">  VG Name               rhel
</span></span><span class="line"><span class="cl">  System ID             
</span></span><span class="line"><span class="cl">  Format                lvm2
</span></span><span class="line"><span class="cl">  Metadata Areas        <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Metadata Sequence No  <span class="m">3</span>
</span></span><span class="line"><span class="cl">  VG Access             read/write
</span></span><span class="line"><span class="cl">  VG Status             resizable
</span></span><span class="line"><span class="cl">  MAX LV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur LV                <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Open LV               <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Max PV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur PV                <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Act PV                <span class="m">1</span>
</span></span><span class="line"><span class="cl">  VG Size               &lt;19.00 GiB
</span></span><span class="line"><span class="cl">  PE Size               4.00 MiB
</span></span><span class="line"><span class="cl">  Total PE              <span class="m">4863</span>
</span></span><span class="line"><span class="cl">  Alloc PE / Size       <span class="m">4863</span> / &lt;19.00 GiB
</span></span><span class="line"><span class="cl">  Free  PE / Size       <span class="m">0</span> / <span class="m">0</span>   
</span></span><span class="line"><span class="cl">  VG UUID               UiK3fy-FGOc-2fnP-C1Y6-JS0l-irEe-Sq3c4h
</span></span><span class="line"><span class="cl">   
</span></span></code></pre></div>
<h3 class="relative group">Lab 13-5: Add a VDO Logical Volume
    <div id="lab-13-5-add-a-vdo-logical-volume" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#lab-13-5-add-a-vdo-logical-volume" aria-label="Anchor">#</a>
    </span>
    
</h3>
<p>initialize the sdf disk for use in LVM and add it to vgvdo1.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># pvcreate /dev/sdc</span>
</span></span><span class="line"><span class="cl">  Physical volume <span class="s2">&#34;/dev/sdc&#34;</span> successfully created.
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgextend vgvdo1 /dev/sdc</span>
</span></span><span class="line"><span class="cl">  Volume group <span class="s2">&#34;vgvdo1&#34;</span> successfully extended
</span></span></code></pre></div><p>Create a VDO logical volume named vdovol using the entire disk capacity.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># lvcreate --type vdo -n vdovol -l 100%FREE vgvdo1</span>
</span></span><span class="line"><span class="cl">WARNING: LVM2_member signature detected on /dev/vgvdo1/vpool0 at offset 536. Wipe it? <span class="o">[</span>y/n<span class="o">]</span>: y
</span></span><span class="line"><span class="cl">  Wiping LVM2_member signature on /dev/vgvdo1/vpool0.
</span></span><span class="line"><span class="cl">    Logical blocks defaulted to <span class="m">523108</span> blocks.
</span></span><span class="line"><span class="cl">    The VDO volume can address <span class="m">2</span> GB in <span class="m">1</span> data slab.
</span></span><span class="line"><span class="cl">    It can grow to address at most <span class="m">16</span> TB of physical storage in <span class="m">8192</span> slabs.
</span></span><span class="line"><span class="cl">    If a larger maximum size might be needed, use bigger slabs.
</span></span><span class="line"><span class="cl">  Logical volume <span class="s2">&#34;vdovol&#34;</span> created.
</span></span></code></pre></div><p>Use the vgs, pvs, lvs, and vgdisplay commands for verification.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># vgs</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found.
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB123ecea1-63467dee PVID RjcGRyHDIWY0OqAgfIHC93WT03Na1WoO last seen on /dev/sdd1 not found.
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VBa5e3cbf7-10921e08 PVID qeP9dCevNnTy422I8p18NxDKQ2WyDodU last seen on /dev/sdf1 not found.
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID brKVLFEG3AoBzhWoso0Sa1gLYHgNZ4vL last seen on /dev/sdb1 not found.
</span></span><span class="line"><span class="cl">  VG     <span class="c1">#PV #LV #SN Attr   VSize   VFree  </span>
</span></span><span class="line"><span class="cl">  rhel     <span class="m">1</span>   <span class="m">2</span>   <span class="m">0</span> wz--n- &lt;19.00g      <span class="m">0</span> 
</span></span><span class="line"><span class="cl">  vgvdo1   <span class="m">2</span>   <span class="m">2</span>   <span class="m">0</span> wz--n-  &lt;5.24g 248.00m
</span></span></code></pre></div>
<h3 class="relative group">Lab 13-6: Reduce and Remove Logical Volumes
    <div id="lab-13-6-reduce-and-remove-logical-volumes" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#lab-13-6-reduce-and-remove-logical-volumes" aria-label="Anchor">#</a>
    </span>
    
</h3>
<p>reduce the size of vdovol logical volume to 80MB.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># lvreduce -L 80 /dev/vgvdo1/vdovol</span>
</span></span><span class="line"><span class="cl">  No file system found on /dev/vgvdo1/vdovol.
</span></span><span class="line"><span class="cl">  WARNING: /dev/vgvdo1/vdovol: Discarding 1.91 GiB at offset 83886080, please wait...
</span></span><span class="line"><span class="cl">  Size of logical volume vgvdo1/vdovol changed from 1.99 GiB <span class="o">(</span><span class="m">510</span> extents<span class="o">)</span> to 80.00 MiB <span class="o">(</span><span class="m">20</span> extents<span class="o">)</span>.
</span></span><span class="line"><span class="cl">  Logical volume vgvdo1/vdovol successfully resized.
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># lvs</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found.
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB123ecea1-63467dee PVID RjcGRyHDIWY0OqAgfIHC93WT03Na1WoO last seen on /dev/sdd1 not found.
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VBa5e3cbf7-10921e08 PVID qeP9dCevNnTy422I8p18NxDKQ2WyDodU last seen on /dev/sdf1 not found.
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID brKVLFEG3AoBzhWoso0Sa1gLYHgNZ4vL last seen on /dev/sdb1 not found.
</span></span><span class="line"><span class="cl">  LV     VG     Attr       LSize   Pool   Origin Data%  Meta%  Move Log Cpy%Sync Convert
</span></span><span class="line"><span class="cl">  root   rhel   -wi-ao---- &lt;17.00g                                                      
</span></span><span class="line"><span class="cl">  swap   rhel   -wi-ao----   2.00g                                                      
</span></span><span class="line"><span class="cl">  vdovol vgvdo1 vwi-a-v---  80.00m vpool0        0.00                                   
</span></span><span class="line"><span class="cl">  vpool0 vgvdo1 dwi-------  &lt;5.00g               60.00                                  
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># </span>
</span></span></code></pre></div><p>erase logical volume vdovol.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># lvremove /dev/vgvdo1/vdovol</span>
</span></span><span class="line"><span class="cl">Do you really want to remove active logical volume vgvdo1/vdovol? <span class="o">[</span>y/n<span class="o">]</span>: y
</span></span><span class="line"><span class="cl">  Logical volume <span class="s2">&#34;vdovol&#34;</span> successfully removed.
</span></span></code></pre></div><p>Confirm the deletion with vgs, pvs, lvs, and vgdisplay commands.</p>

<h3 class="relative group">Lab 13-7: Remove Volume Group and Physical Volumes
    <div id="lab-13-7-remove-volume-group-and-physical-volumes" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#lab-13-7-remove-volume-group-and-physical-volumes" aria-label="Anchor">#</a>
    </span>
    
</h3>
<p>\remove the volume group and uninitialized the physical volumes.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># vgremove vgvdo1</span>
</span></span><span class="line"><span class="cl">  Volume group <span class="s2">&#34;vgvdo1&#34;</span> successfully removed
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># pvremove /dev/sdc</span>
</span></span><span class="line"><span class="cl">  Labels on physical volume <span class="s2">&#34;/dev/sdc&#34;</span> successfully wiped.
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># pvremove /dev/sdf</span>
</span></span><span class="line"><span class="cl">  Labels on physical volume <span class="s2">&#34;/dev/sdf&#34;</span> successfully wiped.
</span></span></code></pre></div><p>Confirm the deletion with vgs, pvs, lvs, and vgdisplay commands.</p>
<p>Use the lsblk command and verify that the disks used for the LVM labs no longer show LVM information.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># lsblk</span>
</span></span><span class="line"><span class="cl">NAME          MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS
</span></span><span class="line"><span class="cl">sda             8:0    <span class="m">0</span>   20G  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">├─sda1          8:1    <span class="m">0</span>    1G  <span class="m">0</span> part /boot
</span></span><span class="line"><span class="cl">└─sda2          8:2    <span class="m">0</span>   19G  <span class="m">0</span> part 
</span></span><span class="line"><span class="cl">  ├─rhel-root 253:0    <span class="m">0</span>   17G  <span class="m">0</span> lvm  /
</span></span><span class="line"><span class="cl">  └─rhel-swap 253:1    <span class="m">0</span>    2G  <span class="m">0</span> lvm  <span class="o">[</span>SWAP<span class="o">]</span>
</span></span><span class="line"><span class="cl">sdb             8:16   <span class="m">0</span>  250M  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">sdc             8:32   <span class="m">0</span>  250M  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">sdd             8:48   <span class="m">0</span>  250M  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">sde             8:64   <span class="m">0</span>  250M  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">sdf             8:80   <span class="m">0</span>    5G  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">sr0            11:0    <span class="m">1</span>  9.8G  <span class="m">0</span> rom  
</span></span></code></pre></div>
          
          
          
        </div>
        
        

        

        

      </div>

      
      
        
        
          
          
        
        
        
        <script
          type="text/javascript"
          src="/js/page.min.54b6f4371722649edbe871e431d8670d670878c22be8f36e229fe53cc9b786fe25a834def5e6de621f7a3e37b72bc8cd73839aa5ed907ed6cbd45cd3e1b0fa20.js"
          integrity="sha512-VLb0NxciZJ7b6HHkMdhnDWcIeMIr6PNuIp/lPMm3hv4lqDTe9ebeYh96Pje3K8jNc4Oape2QftbL1FzT4bD6IA=="
          data-oid="views_tech/linux/Virtual Data Optimizer (VDO).md"
          data-oid-likes="likes_tech/linux/Virtual Data Optimizer (VDO).md"></script>
      
    </section>

    
    <footer class="pt-8 max-w-prose print:hidden">
      

      
    </footer>
  </article>

        


  






<div
  id="scroll-to-top"
  class="fixed bottom-6 end-6 z-50 transform translate-y-4 opacity-0 duration-200">
  <a
    href="#the-top"
    class="pointer-events-auto flex h-12 w-12 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400"
    aria-label="Scroll to top"
    title="Scroll to top">
    &uarr;
  </a>
</div>

      </main><footer id="site-footer" class="py-10 print:hidden">
  
  
    
      
      
        
      
      
      
      
      <nav class="flex flex-row pb-4 text-base font-medium text-neutral-500 dark:text-neutral-400 overflow-x-auto py-2">
        <ul class="flex list-none flex-row">
          
            <li class=" flex mb-1 text-end sm:mb-0 sm:me-7 sm:last:me-0 me-4">
              <a
                class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center"
                href=""
                title="">
                
                
              </a>
            </li>
          
        </ul>
      </nav>
    
  
  <div class="flex items-center justify-between">
    
    
      <p class="text-sm text-neutral-500 dark:text-neutral-400">
          &copy;
          2025
          David Thomas
      </p>
    

    
    
  </div>
  
    <script>
      mediumZoom(document.querySelectorAll("img:not(.nozoom)"), {
        margin: 24,
        background: "rgba(0,0,0,0.5)",
        scrollOffset: 0,
      });
    </script>
  
  
  
  <script
    type="text/javascript"
    src="/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js"
    integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh&#43;sCQ0E53ghYrxgYqw&#43;0GCRyIEpA=="></script>
  
  
</footer>
<div
  id="search-wrapper"
  class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh] z-500"
  data-url="http://localhost:1313/">
  <div
    id="search-modal"
    class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800">
    <header class="relative z-10 flex items-center justify-between flex-none px-2">
      <form class="flex items-center flex-auto min-w-0">
        <div class="flex items-center justify-center w-8 h-8 text-neutral-400">
          <span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span>
        </div>
        <input
          type="search"
          id="search-query"
          class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent"
          placeholder="Search"
          tabindex="0">
      </form>
      <button
        id="close-search-button"
        class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
        title="Close (Esc)">
        <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>
</span>
      </button>
    </header>
    <section class="flex-auto px-2 overflow-auto">
      <ul id="search-results">
        
      </ul>
    </section>
  </div>
</div>

    </div>
  </body>
  
</html>
