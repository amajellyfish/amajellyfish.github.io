<!doctype html>
<html
  lang="en"
  dir="ltr"
  class="scroll-smooth"
  data-default-appearance="light"
  data-auto-appearance="false"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
  
    <meta http-equiv="content-language" content="en">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="theme-color">

  
  
    <title>Advanced User Management &middot; </title>
    <meta name="title" content="Advanced User Management &middot; ">
  

  
  
    <meta name="description" content="Password aging, group and user manament">
  
  
  
  
  <link rel="canonical" href="http://localhost:1313/tech/linux/advanced-user-management/">
  

  
  
    <meta name="author" content="David Thomas">
  
  

  
  <meta property="og:url" content="http://localhost:1313/tech/linux/advanced-user-management/">
  <meta property="og:title" content="Advanced User Management">
  <meta property="og:description" content="Password aging, group and user manament">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="tech">

  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Advanced User Management">
  <meta name="twitter:description" content="Password aging, group and user manament">

  
  
  
  
    
      
    
  
    
      
    
  
    
      
    
  
  
    
  

  
  
  
  
  
  

  

  
  
  
  
  
  
  
    
  
  
    
  
  
  <link
    type="text/css"
    rel="stylesheet"
    href="/css/main.bundle.min.278a55d3e0b39215730b0c642c7c22cc020054272d3850d92c957cddf6209cf18e0ed01f082db397c8c048c30e727b44ca408c350384ca92d5f37c62d008cbd8.css"
    integrity="sha512-J4pV0&#43;CzkhVzCwxkLHwizAIAVCctOFDZLJV83fYgnPGODtAfCC2zl8jASMMOcntEykCMNQOEypLV83xi0AjL2A==">

  
  
  <script
    type="text/javascript"
    src="/js/appearance.min.6f41174b3a05b680820fe08cadbfa5fb7a7ca347b76a0955cdc68b9d8aca1ce24f0547e138cea33bcc7904d551a90afcb1cc7f2d9fe8557075d501419046c08c.js"
    integrity="sha512-b0EXSzoFtoCCD&#43;CMrb&#43;l&#43;3p8o0e3aglVzcaLnYrKHOJPBUfhOM6jO8x5BNVRqQr8scx/LZ/oVXB11QFBkEbAjA=="></script>
  
  
  
  
  
  
    
    <script src="/lib/zoom/zoom.min.umd.a527109b68c082a70f3697716dd72a9d5aa8b545cf800cecbbc7399f2ca6f6e0ce3e431f2062b48bbfa47c9ea42822714060bef309be073f49b9c0e30d318d7b.js" integrity="sha512-pScQm2jAgqcPNpdxbdcqnVqotUXPgAzsu8c5nyym9uDOPkMfIGK0i7&#43;kfJ6kKCJxQGC&#43;8wm&#43;Bz9JucDjDTGNew=="></script>
  

  
  
  
    
  
  
    
  
  
    
  
  
  
  
  
  
    
    <script
      defer
      type="text/javascript"
      id="script-bundle"
      src="/js/main.bundle.min.9cc802d09f28c6af56ceee7bc6e320a39251fdae98243f2a9942f221ac57a9f49c51609699a91794a7b2580ee1deaa8e4d794a68ffa94aa317c66e893ce51e02.js"
      integrity="sha512-nMgC0J8oxq9Wzu57xuMgo5JR/a6YJD8qmULyIaxXqfScUWCWmakXlKeyWA7h3qqOTXlKaP&#43;pSqMXxm6JPOUeAg=="
      data-copy="Copy"
      data-copied="Copied"></script>
  

  
  

<script src="/lib/jquery/jquery.slim.min.b0dca576e87d7eaa5850ae4e61759c065786cdb6489d68fcc82240539eebd5da522bdb4fda085ffd245808c8fe2acb2516408eb774ef26b5f6015fc6737c0ea8.js" integrity="sha512-sNylduh9fqpYUK5OYXWcBleGzbZInWj8yCJAU57r1dpSK9tP2ghf/SRYCMj&#43;KsslFkCOt3TvJrX2AV/Gc3wOqA=="></script>


























  

  

  

  

  





  
  
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
  

  
  <script type="application/ld+json">
  [{
    "@context": "https://schema.org",
    "@type": "Article",
    "articleSection": "",
    "name": "Advanced User Management",
    "headline": "Advanced User Management",
    "description": "Password aging, group and user manament",
    "abstract": "\u003ch2 class=\u0022relative group\u0022\u003eLocal User Authentication Files\n    \u003cdiv id=\u0022local-user-authentication-files\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none\u0022\u003e\n        \u003ca class=\u0022text-primary-300 dark:text-neutral-700 !no-underline\u0022 href=\u0022#local-user-authentication-files\u0022 aria-label=\u0022Anchor\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e\n    \n\u003c\/h2\u003e\n\u003cul\u003e\n\u003cli\u003eThree supported account types: root, normal, service\u003c\/li\u003e\n\u003cli\u003eroot\n\u003cul\u003e\n\u003cli\u003ehas full access to all services and administrative functions on the system.\u003c\/li\u003e\n\u003cli\u003ecreated by default during installation.\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003cli\u003eNormal\n\u003cul\u003e\n\u003cli\u003euser-level privileges\u003c\/li\u003e\n\u003cli\u003ecannot perform any administrative functions\u003c\/li\u003e\n\u003cli\u003ecan run applications and programs that have been authorized.\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003cli\u003eService\n\u003cul\u003e\n\u003cli\u003etake care of their respective services, which include apache, ftp, mail, and chrony.\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003cli\u003eUser account information for local users is stored in four files that are located in the \/etc directory.\n\u003cul\u003e\n\u003cli\u003epasswd, shadow, group, and gshadow (user authentication files)\u003c\/li\u003e\n\u003cli\u003eupdated when a user or group account is created, modified, or deleted.\u003c\/li\u003e\n\u003cli\u003ereferenced to check and validate the credentials for a user at the time of their login attempt,\u003c\/li\u003e\n\u003cli\u003esystem creates their automatic backups by default as passwd-, shadow-, group-, and gshadow- in the \/etc directory.\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003c\/ul\u003e\n\n\u003ch3 class=\u0022relative group\u0022\u003e\/etc\/passwd\n    \u003cdiv id=\u0022etcpasswd\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none\u0022\u003e\n        \u003ca class=\u0022text-primary-300 dark:text-neutral-700 !no-underline\u0022 href=\u0022#etcpasswd\u0022 aria-label=\u0022Anchor\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e\n    \n\u003c\/h3\u003e\n\u003cul\u003e\n\u003cli\u003evital user login data\u003c\/li\u003e\n\u003cli\u003eeach row hold info for one user\u003c\/li\u003e\n\u003cli\u003e644 permissions by default\u003c\/li\u003e\n\u003cli\u003e7 feilds per row\n\u003cul\u003e\n\u003cli\u003elogin name\n\u003cul\u003e\n\u003cli\u003eup to 255 characters\u003c\/li\u003e\n\u003cli\u003e_ and - characters are supported\u003c\/li\u003e\n\u003cli\u003enot recommended to include special characters and uppercase letters in login names.\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003cli\u003epassword\n\u003cul\u003e\n\u003cli\u003e\u0026ldquo;x\u0026rdquo; in this field points to \/etc\/shadow for actual password.\u003c\/li\u003e\n\u003cli\u003e\u0026ldquo;*\u0026rdquo; identifies disabled account\u003c\/li\u003e\n\u003cli\u003eCan also include a hashed password (RHEL uses SHA-512 by default)\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003cli\u003eUID\n\u003cul\u003e\n\u003cli\u003eNumber between 0 and 4.2 billion\u003c\/li\u003e\n\u003cli\u003eUID 0 is reserved for root account\u003c\/li\u003e\n\u003cli\u003eUIDs 1-200 are used by Red Hat for core service accounts\u003c\/li\u003e\n\u003cli\u003eUIDs 201-999 are reserved for non-core service accounts\u003c\/li\u003e\n\u003cli\u003eUIDs 1000 \u0026lt; are for normal user accounts (starts at 1000 by default)\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003cli\u003eGID\n\u003cul\u003e\n\u003cli\u003eGID that matches entry in \/etc\/group (primary group)\u003c\/li\u003e\n\u003cli\u003eGroup for every user by default that matches UID\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003cli\u003eComments (GECOS) or (GCOS)\n\u003cul\u003e\n\u003cli\u003egeneral comments about the user\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003cli\u003eHome Directory\n\u003cul\u003e\n\u003cli\u003eabsolute path to the user home directory.\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003cli\u003eShell\n\u003cul\u003e\n\u003cli\u003eabsolute path of the shell file for the user\u0026rsquo;s primary shell after logging in. (default = (\/bin\/bash))\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003c\/ul\u003e\n\n\u003ch3 class=\u0022relative group\u0022\u003e\/etc\/shadow\n    \u003cdiv id=\u0022etcshadow\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none\u0022\u003e\n        \u003ca class=\u0022text-primary-300 dark:text-neutral-700 !no-underline\u0022 href=\u0022#etcshadow\u0022 aria-label=\u0022Anchor\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e\n    \n\u003c\/h3\u003e\n\u003cul\u003e\n\u003cli\u003eno access permissions for any user (even root) (but owned by root)\u003c\/li\u003e\n\u003cli\u003esecure password control (shadow password)\u003c\/li\u003e\n\u003cli\u003euser passwords are hashed and stored in a more secure file \/etc\/shadow\u003c\/li\u003e\n\u003cli\u003elimits on user passwords in terms of expiration, warning period, etc. applied on per-user basis\u003c\/li\u003e\n\u003cli\u003elimits and other settings are defined in \/etc\/login.defs\u003c\/li\u003e\n\u003cli\u003euser is initially checked in the passwd file for existence and then in the shadow file for authenticity.\u003c\/li\u003e\n\u003cli\u003econtains user authentication and password aging information.\u003c\/li\u003e\n\u003cli\u003eEach row in the file corresponds to one entry in the passwd file.\u003c\/li\u003e\n\u003cli\u003elogin names are used as a common key between the shadow and passwd files.\u003c\/li\u003e\n\u003cli\u003enine colon-separated fields per line entry.\n\u003cul\u003e\n\u003cli\u003e1 Login name\u003c\/li\u003e\n\u003cli\u003e2 Encrypted password\n\u003cul\u003e\n\u003cli\u003e! at the beginning of this field shows that the user account is locked\u003c\/li\u003e\n\u003cli\u003eif field is empty then user has passwordless entry\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003cli\u003e3 last change\n\u003cul\u003e\n\u003cli\u003eNumber of days (lastchg) since the UNIX epoch, (UNIX time (January 01, 1970 00:00:00 UTC) when the password was last modified.\u003c\/li\u003e\n\u003cli\u003eEmpty field represents the passiveness of password aging features.\u003c\/li\u003e\n\u003cli\u003e0 forces the user to change their password upon next login.\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003cli\u003e4 minimum\n\u003cul\u003e\n\u003cli\u003enumber of days (mindays) that must elapse before the user is allowed to change their password\u003c\/li\u003e\n\u003cli\u003ecan be altered using the \u003ccode\u003echage\u003c\/code\u003e command with the \u003ccode\u003e-m\u003c\/code\u003e option or the \u003ccode\u003epasswd\u003c\/code\u003e command with the \u003ccode\u003e-n\u003c\/code\u003e option.\u003c\/li\u003e\n\u003cli\u003e0 or null in this field disables this feature.\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003cli\u003e5 (Maximum)\n\u003cul\u003e\n\u003cli\u003emaximum number of days (maxdays) before the user password expires and must be changed.\u003c\/li\u003e\n\u003cli\u003emay be altered using the \u003ccode\u003echage\u003c\/code\u003e command with the \u003ccode\u003e-M \u003c\/code\u003eoption or the \u003ccode\u003epasswd\u003c\/code\u003e command with the \u003ccode\u003e-x\u003c\/code\u003e option.\u003c\/li\u003e\n\u003cli\u003enull value here disables this feature along with other features such as the maximum password age, warning alerts, and the user inactivity period.\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003cli\u003e6 Field 6 (Warning)\n\u003cul\u003e\n\u003cli\u003enumber of days (warndays) the user gets warnings for changing their password before it expires.\u003c\/li\u003e\n\u003cli\u003emay be altered using the \u003ccode\u003echage\u003c\/code\u003e command with the \u003ccode\u003e-W\u003c\/code\u003e option or the \u003ccode\u003epasswd\u003c\/code\u003e command with the \u003ccode\u003e-w\u003c\/code\u003e option.\u003c\/li\u003e\n\u003cli\u003e0 or null in this field disables this feature.\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003cli\u003e7 Password Expiry)\n\u003cul\u003e\n\u003cli\u003emaximum allowable number of days for the user to be able to log in with the expired password. (inactivity period).\u003c\/li\u003e\n\u003cli\u003emay be altered using the \u003ccode\u003echage\u003c\/code\u003e command with the \u003ccode\u003e-I\u003c\/code\u003e option or the \u003ccode\u003epasswd\u003c\/code\u003e command with the \u003ccode\u003e-i\u003c\/code\u003e option.\u003c\/li\u003e\n\u003cli\u003eempty field disables this feature.\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003cli\u003e8 (Account Expiry)\n\u003cul\u003e\n\u003cli\u003enumber of days since the UNIX time when the user account will expire and no longer be available.\u003c\/li\u003e\n\u003cli\u003emay be altered using the chage command with the \u003ccode\u003e-E\u003c\/code\u003e option.\u003c\/li\u003e\n\u003cli\u003eempty field disables this feature.\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003cli\u003e9 (Reserved): Reserved for future use.\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003c\/ul\u003e\n\n\u003ch3 class=\u0022relative group\u0022\u003e\/etc\/group\n    \u003cdiv id=\u0022etcgroup\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none\u0022\u003e\n        \u003ca class=\u0022text-primary-300 dark:text-neutral-700 !no-underline\u0022 href=\u0022#etcgroup\u0022 aria-label=\u0022Anchor\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e\n    \n\u003c\/h3\u003e\n\u003cul\u003e\n\u003cli\u003eplaintext file and contains critical group information.\u003c\/li\u003e\n\u003cli\u003e644 permissions by default and owned by root.\u003c\/li\u003e\n\u003cli\u003eEach row in the file stores information for one group entry.\u003c\/li\u003e\n\u003cli\u003eEvery user on the system must be a member of at least one group (User Private Group (UPG)).\u003c\/li\u003e\n\u003cli\u003ea group name matches the username it is associated with by default\u003c\/li\u003e\n\u003cli\u003efour colon-separated fields per line entry.\n\u003cul\u003e\n\u003cli\u003eField 1 (Group Name):\n\u003cul\u003e\n\u003cli\u003eHolds a group name that must begin with a letter. Group names with up to 255 characters, including the\u003c\/li\u003e\n\u003cli\u003euppercase, underscore (_) and hyphen (-) characters, are also supported. (not recommended)\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003cli\u003eField 2 (Encrypted Password):\n\u003cul\u003e\n\u003cli\u003eCan be empty or contain an “x” (points to the \/etc\/gshadow file for the actual password), or a hashed group-level password.\u003c\/li\u003e\n\u003cli\u003ecan set a password on a group for non-members to be able to change their group identity temporarily using the \u003ccode\u003enewgrp \u003c\/code\u003ecommand.\u003c\/li\u003e\n\u003cli\u003enon-members must enter the correct password in order to do so.\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003cli\u003eField 3 (GID):\n\u003cul\u003e\n\u003cli\u003eHolds a GID, that is also placed in the GID field of the passwd file.\u003c\/li\u003e\n\u003cli\u003eBy default, groups are created with GIDs starting at 1000 and with the same name as the username.\u003c\/li\u003e\n\u003cli\u003esystem allows several users to belong to a single group\u003c\/li\u003e\n\u003cli\u003ealso allows a single user to be a member of multiple groups at the same time.\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003cli\u003eField 4 (Group Members):\n\u003cul\u003e\n\u003cli\u003eLists the membership for the group. (user’s primary group is always defined in the GID field of the passwd file.)\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003c\/ul\u003e\n\n\u003ch3 class=\u0022relative group\u0022\u003e\/etc\/gshadow\n    \u003cdiv id=\u0022etcgshadow\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none\u0022\u003e\n        \u003ca class=\u0022text-primary-300 dark:text-neutral-700 !no-underline\u0022 href=\u0022#etcgshadow\u0022 aria-label=\u0022Anchor\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e\n    \n\u003c\/h3\u003e\n\u003cul\u003e\n\u003cli\u003eno access permissions for any user (even root)\u003c\/li\u003e\n\u003cli\u003egroup passwords are hashed and stored\u003c\/li\u003e\n\u003cli\u003egroup names are used as a common key between the gshadow and group files.\u003c\/li\u003e\n\u003cli\u003e000 permissions and owned by root\u003c\/li\u003e\n\u003cli\u003efour colon-separated fields\n\u003cul\u003e\n\u003cli\u003eField 1 (Group Name):\n\u003cul\u003e\n\u003cli\u003eConsists of a group name as appeared in the group file.\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003cli\u003eField 2 (Encrypted Password):\n\u003cul\u003e\n\u003cli\u003eCan contain a hashed password, which may be set with the gpasswd command for non-group members to access the group temporarily using the \u003ccode\u003enewgrp\u003c\/code\u003e command.\u003c\/li\u003e\n\u003cli\u003esingle exclamation mark (!) or a null value in this field allows group members password-less access and restricts non-members from switching into this group.\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003cli\u003eField 3 (Group Administrators):\n\u003cul\u003e\n\u003cli\u003eLists usernames of group administrators that are authorized to add or remove members with the gpasswd command.\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003cli\u003eField 4 (Members):\n\u003cul\u003e\n\u003cli\u003ecomma-separated list of members.\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003c\/ul\u003e\n\n\u003ch3 class=\u0022relative group\u0022\u003e\u003ccode\u003egpasswd\u003c\/code\u003e command:\n    \u003cdiv id=\u0022gpasswd-command\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none\u0022\u003e\n        \u003ca class=\u0022text-primary-300 dark:text-neutral-700 !no-underline\u0022 href=\u0022#gpasswd-command\u0022 aria-label=\u0022Anchor\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e\n    \n\u003c\/h3\u003e\n\u003cul\u003e\n\u003cli\u003eadd group administrators.\u003c\/li\u003e\n\u003cli\u003eadd or delete group members.\n\u003cul\u003e\n\u003cli\u003eassign or revoke a group-level password.\u003c\/li\u003e\n\u003cli\u003edisable the ability of the newgrp command to access a group.\u003c\/li\u003e\n\u003cli\u003epicks up the default values from the \/etc\/login.defs file.\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003c\/li\u003e\n\u003c\/ul\u003e\n\n\u003ch3 class=\u0022relative group\u0022\u003euseradd and login.defs configuration files\n    \u003cdiv id=\u0022useradd-and-logindefs-configuration-files\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none\u0022\u003e\n        \u003ca class=\u0022text-primary-300 dark:text-neutral-700 !no-underline\u0022 href=\u0022#useradd-and-logindefs-configuration-files\u0022 aria-label=\u0022Anchor\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e\n    \n\u003c\/h3\u003e\n\n\u003ch3 class=\u0022relative group\u0022\u003e\u003ccode\u003euseradd\u003c\/code\u003e command\n    \u003cdiv id=\u0022useradd-command\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none\u0022\u003e\n        \u003ca class=\u0022text-primary-300 dark:text-neutral-700 !no-underline\u0022 href=\u0022#useradd-command\u0022 aria-label=\u0022Anchor\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e\n    \n\u003c\/h3\u003e\n\u003cul\u003e\n\u003cli\u003epicks up the default values from the \/etc\/default\/useradd and \/etc\/login.defs files for any options that are not specified at the command line when executing it.\u003c\/li\u003e\n\u003cli\u003elogin.defs file is also consulted by the usermod, userdel, chage, and passwd commands\u003c\/li\u003e\n\u003cli\u003eBoth files store several defaults including those that affect the password length and password lifecycle.\n\/etc\/default\/useradd Default Directives:\u003c\/li\u003e\n\u003cli\u003estarting GID (GROUP) (provided the USERGROUPS_ENAB directive in the login.defs file is set to no)\u003c\/li\u003e\n\u003cli\u003ehome directory location (HOME)\u003c\/li\u003e\n\u003cli\u003enumber of inactivity days between password expiry and permanent account disablement (INACTIVE)\u003c\/li\u003e\n\u003cli\u003eaccount expiry date (EXPIRE),\u003c\/li\u003e\n\u003cli\u003elogin shell (SHELL),\u003c\/li\u003e\n\u003cli\u003eskeleton directory location to copy user initialization files from (SKEL)\u003c\/li\u003e\n\u003cli\u003ewhether to create mail spool directory (CREATE_MAIL_SPOOL)\u003c\/li\u003e\n\u003c\/ul\u003e\n\n\u003ch3 class=\u0022relative group\u0022\u003e\/etc\/login.defs default directives:\n    \u003cdiv id=\u0022etclogindefs-default-directives\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none\u0022\u003e\n        \u003ca class=\u0022text-primary-300 dark:text-neutral-700 !no-underline\u0022 href=\u0022#etclogindefs-default-directives\u0022 aria-label=\u0022Anchor\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e\n    \n\u003c\/h3\u003e\n\u003cp\u003eMAIL_DIR\u003c\/p\u003e",
    "inLanguage": "en",
    "url" : "http://localhost:1313/tech/linux/advanced-user-management/",
    "author" : {
      "@type": "Person",
      "name": "David Thomas"
    },
    
    
    
    
    
    
    
    
    "mainEntityOfPage": "true",
    "wordCount": "3372"
  }]
  </script>



  
  

  
  

  
  

  
  
    
      <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
      <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
      <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
      <script>

    const firebaseConfig = {
      apiKey: "AIzaSyApsKLCbGb5fkkrzxABOtl3-OUuBcRPVsc",
      authDomain: "davidwrites-89dd7.firebaseapp.com",
      projectId: "davidwrites-89dd7",
      storageBucket: "davidwrites-89dd7.firebasestorage.app",
      messagingSenderId: "433139099634",
      appId: "1:433139099634:web:c14275555bd7171e6c6d6b",
      measurementId: "G-XX5507B82W"
    };

        var app = firebase.initializeApp(firebaseConfig);
        var db = firebase.firestore();
        var auth = firebase.auth();

      </script>
    
  

  
  
</head>







  
    
  







  
    
  






  
  
  <body class="flex flex-col h-screen m-auto leading-7 max-w-7xl px-6 sm:px-14 md:px-24 lg:px-32 text-lg bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600">
    <div id="the-top" class="absolute flex self-center">
      <a
        class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600"
        href="#main-content">
        <span class="font-bold text-primary-600 pe-2 dark:text-primary-400">&darr;</span>
        Skip to main content
      </a>
    </div>
    
    
      













<div
  class="main-menu flex items-center justify-between py-6 md:justify-start gap-x-3 pt-[2px] pr-2 md:pr-4 pb-[3px] pl-0">
  
  
    
    
      <div>
        <a href="/" class="flex">
          <span class="sr-only"></span>
          
            <img
              src="/img/logo.png"
              width="200"
              height="37"
              class="logo max-h-[5rem] max-w-[5rem] object-scale-down object-left nozoom"
              alt="">
          
        </a>
      </div>
    

  <div class="flex flex-1 items-center justify-between">
    <nav class="flex space-x-3">
      
    </nav>
    
  <nav class="hidden md:flex items-center gap-x-5 md:ml-12 h-12">
    
      
        
  <a
  href="/tech/"
  
  class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
  aria-label="Tech"
  title="">
  
  
    <p class="text-base font-medium">
      Tech
    </p>
  
</a>



      
        
  <a
  href="/notes/"
  
  class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
  aria-label="Notes"
  title="Book Notes &amp; Reviews">
  
  
    <p class="text-base font-medium">
      Notes
    </p>
  
</a>



      
        
  <a
  href="/articles/"
  
  class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
  aria-label="Articles"
  title="Articles">
  
  
    <p class="text-base font-medium">
      Articles
    </p>
  
</a>



      
        
  <a
  href="/now/"
  
  class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
  aria-label="Now"
  title="Now">
  
  
    <p class="text-base font-medium">
      Now
    </p>
  
</a>



      
        
  <a
  href=""
  
  class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
  
  title="">
  
  
</a>



      
    

    

    

    
      <button
        id="search-button"
        aria-label="Search"
        class="text-base hover:text-primary-600 dark:hover:text-primary-400"
        title="Search (/)">
        <span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span>
      </button>
    

    
  </nav>

    
  <div class="flex md:hidden items-center gap-x-5 md:ml-12 h-12">
    <span></span>

    

    

    
      <button
        id="search-button-mobile"
        aria-label="Search"
        class="text-base hover:text-primary-600 dark:hover:text-primary-400"
        title="Search (/)">
        <span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span>
      </button>
    

    
  </div>

  </div>
  
  <div class="-my-2 md:hidden">
    <div id="menu-button" class="block">
      
        <div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400">
          <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"/></svg>
</span>
        </div>
        <div
          id="menu-wrapper"
          class="fixed inset-0 z-30 invisible w-screen h-screen m-0 overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50 pt-[5px]">
          <ul
            class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none text-end max-w-7xl">
            <li id="menu-close-button">
              <span
                class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400">
                <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>
</span>
              </span>
            </li>

            
              
  <li class="mt-1">
  <a
    href="/tech/"
    
    class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
    aria-label="Tech"
    title="">
    
    
      <p class="text-bg font-bg">
        Tech
      </p>
    
  </a>
</li>



            
              
  <li class="mt-1">
  <a
    href="/notes/"
    
    class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
    aria-label="Notes"
    title="Book Notes &amp; Reviews">
    
    
      <p class="text-bg font-bg">
        Notes
      </p>
    
  </a>
</li>



            
              
  <li class="mt-1">
  <a
    href="/articles/"
    
    class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
    aria-label="Articles"
    title="Articles">
    
    
      <p class="text-bg font-bg">
        Articles
      </p>
    
  </a>
</li>



            
              
  <li class="mt-1">
  <a
    href="/now/"
    
    class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
    aria-label="Now"
    title="Now">
    
    
      <p class="text-bg font-bg">
        Now
      </p>
    
  </a>
</li>



            
              
  <li class="mt-1">
  <a
    href=""
    
    class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"
    
    title="">
    
    
  </a>
</li>



            

          </ul>
          
        </div>
      
    </div>
  </div>

</div>




  <script>
    (function () {
      var $mainmenu = $(".main-menu");
      var path = window.location.pathname;
      $mainmenu.find('a[href="' + path + '"]').each(function (i, e) {
        $(e).children("p").addClass("active");
      });
    })();
  </script>


    
    <div class="relative flex flex-col grow">
      <main id="main-content" class="grow">
        
  
  <article>
    
    

    
    <header id="single_header" class="mt-5 max-w-prose">
      
      <h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
        Advanced User Management
      </h1>
      <div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden">
        





  
  



  

  
  
  
    
  

  

  

  

  

  

  

  

  

  

  


  <div class="flex flex-row flex-wrap items-center">
    
    

    
    
  </div>

  

  
  

  
  



      </div>
      
        
  
  
  
  
  
  

  

  

  

  

      
    </header>

    
    <section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row">
      
      
      
      
      
        <div class="order-first lg:ml-auto px-0 lg:order-last lg:ps-8 lg:max-w-2xs">
          <div class="toc ps-5 print:hidden lg:sticky lg:top-10">
            
              <details
  open
  id="TOCView"
  class="toc-right mt-0 overflow-y-auto overscroll-contain scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600 rounded-lg -ms-5 ps-5 pe-2 hidden lg:block">
  <summary
    class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 -ms-5 ps-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    Table of Contents
  </summary>
  <div
    class="min-w-[220px] py-2 border-dotted border-s-1 -ms-5 ps-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#local-user-authentication-files">Local User Authentication Files</a>
      <ul>
        <li><a href="#etcpasswd">/etc/passwd</a></li>
        <li><a href="#etcshadow">/etc/shadow</a></li>
        <li><a href="#etcgroup">/etc/group</a></li>
        <li><a href="#etcgshadow">/etc/gshadow</a></li>
        <li><a href="#gpasswd-command"><code>gpasswd</code> command:</a></li>
        <li><a href="#useradd-and-logindefs-configuration-files">useradd and login.defs configuration files</a></li>
        <li><a href="#useradd-command"><code>useradd</code> command</a></li>
        <li><a href="#etclogindefs-default-directives">/etc/login.defs default directives:</a></li>
      </ul>
    </li>
    <li><a href="#password-aging-attributes">Password Aging attributes</a>
      <ul>
        <li><a href="#password-aging-and-management">Password Aging and management</a></li>
        <li><a href="#chage-command">chage command</a></li>
        <li><a href="#passwd-command">passwd command</a></li>
        <li><a href="#usermod-command">usermod command</a></li>
      </ul>
    </li>
    <li><a href="#linux-groups-and-their-management">Linux Groups and their Management</a>
      <ul>
        <li><a href="#groupadd-command">groupadd command</a></li>
        <li><a href="#groupmod-command">groupmod command</a></li>
      </ul>
    </li>
    <li><a href="#user-management">User Management</a>
      <ul>
        <li><a href="#switching-users">Switching Users</a>
          <ul>
            <li><a href="#su-command">su command</a></li>
          </ul>
        </li>
        <li><a href="#whoami-command">whoami command</a></li>
        <li><a href="#logname-command">logname command</a></li>
        <li><a href="#groupdel-command">groupdel command</a></li>
        <li><a href="#doing-as-superuser-substitute-user">Doing as Superuser (substitute user)</a></li>
        <li><a href="#sudo-command">sudo command</a></li>
        <li><a href="#owning-user-and-owning-group">Owning User and Owning Group</a></li>
        <li><a href="#chown-command">chown command</a></li>
        <li><a href="#chgrp-command">chgrp command</a></li>
      </ul>
    </li>
    <li><a href="#advanced-user-management-labs">Advanced User Management Labs</a>
      <ul>
        <li><a href="#lab-set-and-confirm-password-aging-with-chage-root">Lab: Set and Confirm Password Aging with chage (root)</a></li>
        <li><a href="#lab-set-and-confirm-password-aging-with-passwd-root">Lab: Set and Confirm Password Aging with passwd (root)</a></li>
        <li><a href="#lab-lock-and-unlock-a-user-account-with-usermod-and-passwd-root">Lab: Lock and Unlock a User Account with usermod and passwd (root)</a></li>
        <li><a href="#lab-create-a-group-and-add-members-root">Lab: Create a Group and Add Members (root)</a></li>
        <li><a href="#lab-modify-and-delete-a-group-account-root">Lab: Modify and Delete a Group Account (root)</a></li>
        <li><a href="#lab-to-switch-from-user1-assuming-you-are-logged-in-as-user1-into-root-without-executing-the-startup-scripts">Lab: To switch from user1 (assuming you are logged in as user1) into root without executing the startup scripts</a></li>
        <li><a href="#lab-add-user1-to-sudo-file-but-only-for-the-cat-command">Lab: Add user1 to sudo file but only for the cat command.</a></li>
        <li><a href="#lab-add-user-and-command-aliases-to-the-sudoer-file">Lab: Add user and command aliases to the sudoer file.</a></li>
        <li><a href="#lab-take-a-look-at-examples-in-the-sudoers-file">Lab: Take a look at examples in the sudoers file.</a></li>
        <li><a href="#lab-viewing-owner-and-group-information">Lab: Viewing owner and group information</a></li>
        <li><a href="#lab-modify-file-owner-and-owning-group">Lab: Modify File Owner and Owning Group</a></li>
        <li><a href="#lab-create-user-and-configure-password-aging-root">Lab: Create User and Configure Password Aging (root)</a></li>
        <li><a href="#lab-6-2-lock-and-unlock-user-root">Lab 6-2: Lock and Unlock User (root)</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</details>
<details class="toc-inside mt-0 overflow-hidden rounded-lg -ms-5 ps-5 lg:hidden">
  <summary
    class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 -ms-5 ps-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    Table of Contents
  </summary>
  <div
    class="py-2 border-dotted border-neutral-300 border-s-1 -ms-5 ps-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#local-user-authentication-files">Local User Authentication Files</a>
      <ul>
        <li><a href="#etcpasswd">/etc/passwd</a></li>
        <li><a href="#etcshadow">/etc/shadow</a></li>
        <li><a href="#etcgroup">/etc/group</a></li>
        <li><a href="#etcgshadow">/etc/gshadow</a></li>
        <li><a href="#gpasswd-command"><code>gpasswd</code> command:</a></li>
        <li><a href="#useradd-and-logindefs-configuration-files">useradd and login.defs configuration files</a></li>
        <li><a href="#useradd-command"><code>useradd</code> command</a></li>
        <li><a href="#etclogindefs-default-directives">/etc/login.defs default directives:</a></li>
      </ul>
    </li>
    <li><a href="#password-aging-attributes">Password Aging attributes</a>
      <ul>
        <li><a href="#password-aging-and-management">Password Aging and management</a></li>
        <li><a href="#chage-command">chage command</a></li>
        <li><a href="#passwd-command">passwd command</a></li>
        <li><a href="#usermod-command">usermod command</a></li>
      </ul>
    </li>
    <li><a href="#linux-groups-and-their-management">Linux Groups and their Management</a>
      <ul>
        <li><a href="#groupadd-command">groupadd command</a></li>
        <li><a href="#groupmod-command">groupmod command</a></li>
      </ul>
    </li>
    <li><a href="#user-management">User Management</a>
      <ul>
        <li><a href="#switching-users">Switching Users</a>
          <ul>
            <li><a href="#su-command">su command</a></li>
          </ul>
        </li>
        <li><a href="#whoami-command">whoami command</a></li>
        <li><a href="#logname-command">logname command</a></li>
        <li><a href="#groupdel-command">groupdel command</a></li>
        <li><a href="#doing-as-superuser-substitute-user">Doing as Superuser (substitute user)</a></li>
        <li><a href="#sudo-command">sudo command</a></li>
        <li><a href="#owning-user-and-owning-group">Owning User and Owning Group</a></li>
        <li><a href="#chown-command">chown command</a></li>
        <li><a href="#chgrp-command">chgrp command</a></li>
      </ul>
    </li>
    <li><a href="#advanced-user-management-labs">Advanced User Management Labs</a>
      <ul>
        <li><a href="#lab-set-and-confirm-password-aging-with-chage-root">Lab: Set and Confirm Password Aging with chage (root)</a></li>
        <li><a href="#lab-set-and-confirm-password-aging-with-passwd-root">Lab: Set and Confirm Password Aging with passwd (root)</a></li>
        <li><a href="#lab-lock-and-unlock-a-user-account-with-usermod-and-passwd-root">Lab: Lock and Unlock a User Account with usermod and passwd (root)</a></li>
        <li><a href="#lab-create-a-group-and-add-members-root">Lab: Create a Group and Add Members (root)</a></li>
        <li><a href="#lab-modify-and-delete-a-group-account-root">Lab: Modify and Delete a Group Account (root)</a></li>
        <li><a href="#lab-to-switch-from-user1-assuming-you-are-logged-in-as-user1-into-root-without-executing-the-startup-scripts">Lab: To switch from user1 (assuming you are logged in as user1) into root without executing the startup scripts</a></li>
        <li><a href="#lab-add-user1-to-sudo-file-but-only-for-the-cat-command">Lab: Add user1 to sudo file but only for the cat command.</a></li>
        <li><a href="#lab-add-user-and-command-aliases-to-the-sudoer-file">Lab: Add user and command aliases to the sudoer file.</a></li>
        <li><a href="#lab-take-a-look-at-examples-in-the-sudoers-file">Lab: Take a look at examples in the sudoers file.</a></li>
        <li><a href="#lab-viewing-owner-and-group-information">Lab: Viewing owner and group information</a></li>
        <li><a href="#lab-modify-file-owner-and-owning-group">Lab: Modify File Owner and Owning Group</a></li>
        <li><a href="#lab-create-user-and-configure-password-aging-root">Lab: Create User and Configure Password Aging (root)</a></li>
        <li><a href="#lab-6-2-lock-and-unlock-user-root">Lab 6-2: Lock and Unlock User (root)</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</details>


<script>
  (function () {
    'use strict'

    const SCROLL_OFFSET_RATIO = 0.33
    const TOC_SELECTOR = '#TableOfContents'
    const ANCHOR_SELECTOR = '.anchor'
    const TOC_LINK_SELECTOR = 'a[href^="#"]'
    const NESTED_LIST_SELECTOR = 'li ul'
    const ACTIVE_CLASS = 'active'
    let isJumpingToAnchor = false

    function getActiveAnchorId(anchors, offsetRatio) {
      const threshold = window.scrollY + window.innerHeight * offsetRatio
      const tocLinks = [...document.querySelectorAll('#TableOfContents a[href^="#"]')]
      const tocIds = new Set(tocLinks.map(link => link.getAttribute('href').substring(1)))

      if (isJumpingToAnchor) {
        for (let i = 0; i < anchors.length; i++) {
          const anchor = anchors[i]
          if (!tocIds.has(anchor.id)) continue
          const top = anchor.getBoundingClientRect().top + window.scrollY
          if (Math.abs(window.scrollY - top) < 100) {
            return anchor.id
          }
        }
      }

      for (let i = anchors.length - 1; i >= 0; i--) {
        const top = anchors[i].getBoundingClientRect().top + window.scrollY
        if (top <= threshold && tocIds.has(anchors[i].id)) {
          return anchors[i].id
        }
      }
      return anchors.find(anchor => tocIds.has(anchor.id))?.id || ''
    }

    function updateTOC({ toc, anchors, links, scrollOffset, collapseInactive }) {
      const activeId = getActiveAnchorId(anchors, scrollOffset)
      if (!activeId) return

      links.forEach(link => {
        const isActive = link.getAttribute('href') === `#${activeId}`
        link.classList.toggle(ACTIVE_CLASS, isActive)

        if (collapseInactive) {
          const ul = link.closest('li')?.querySelector('ul')
          if (ul) ul.style.display = isActive ? '' : 'none'
        }
      })

      if (collapseInactive) {
        const activeLink = toc.querySelector(`a[href="#${CSS.escape(activeId)}"]`)
        let el = activeLink
        while (el && el !== toc) {
          if (el.tagName === 'UL') el.style.display = ''
          if (el.tagName === 'LI') el.querySelector('ul')?.style.setProperty('display', '')
          el = el.parentElement
        }
      }
    }

    function initTOC() {
      const toc = document.querySelector(TOC_SELECTOR)
      if (!toc) return

      const collapseInactive = true
      const anchors = [...document.querySelectorAll(ANCHOR_SELECTOR)]
      const links = [...toc.querySelectorAll(TOC_LINK_SELECTOR)]

      if (collapseInactive) {
        toc.querySelectorAll(NESTED_LIST_SELECTOR).forEach(ul => ul.style.display = 'none')
      }

      links.forEach(link => {
        link.addEventListener('click', () => {
          isJumpingToAnchor = true
        })
      })

      const config = {
        toc,
        anchors,
        links,
        scrollOffset: SCROLL_OFFSET_RATIO,
        collapseInactive
      }

      window.addEventListener('scroll', () => updateTOC(config), { passive: true })
      window.addEventListener('hashchange', () => updateTOC(config), { passive: true })

      updateTOC(config)
    }

    document.readyState === 'loading'
      ? document.addEventListener('DOMContentLoaded', initTOC)
      : initTOC()
  })()
</script>


            
          </div>
        </div>
      


      <div class="min-w-0 min-h-0 max-w-fit">
        

        <div class="article-content max-w-prose mb-20">
          
<h2 class="relative group">Local User Authentication Files
    <div id="local-user-authentication-files" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#local-user-authentication-files" aria-label="Anchor">#</a>
    </span>
    
</h2>
<ul>
<li>Three supported account types: root, normal, service</li>
<li>root
<ul>
<li>has full access to all services and administrative functions on the system.</li>
<li>created by default during installation.</li>
</ul>
</li>
<li>Normal
<ul>
<li>user-level privileges</li>
<li>cannot perform any administrative functions</li>
<li>can run applications and programs that have been authorized.</li>
</ul>
</li>
<li>Service
<ul>
<li>take care of their respective services, which include apache, ftp, mail, and chrony.</li>
</ul>
</li>
<li>User account information for local users is stored in four files that are located in the /etc directory.
<ul>
<li>passwd, shadow, group, and gshadow (user authentication files)</li>
<li>updated when a user or group account is created, modified, or deleted.</li>
<li>referenced to check and validate the credentials for a user at the time of their login attempt,</li>
<li>system creates their automatic backups by default as passwd-, shadow-, group-, and gshadow- in the /etc directory.</li>
</ul>
</li>
</ul>

<h3 class="relative group">/etc/passwd
    <div id="etcpasswd" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#etcpasswd" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>vital user login data</li>
<li>each row hold info for one user</li>
<li>644 permissions by default</li>
<li>7 feilds per row
<ul>
<li>login name
<ul>
<li>up to 255 characters</li>
<li>_ and - characters are supported</li>
<li>not recommended to include special characters and uppercase letters in login names.</li>
</ul>
</li>
<li>password
<ul>
<li>&ldquo;x&rdquo; in this field points to /etc/shadow for actual password.</li>
<li>&ldquo;*&rdquo; identifies disabled account</li>
<li>Can also include a hashed password (RHEL uses SHA-512 by default)</li>
</ul>
</li>
<li>UID
<ul>
<li>Number between 0 and 4.2 billion</li>
<li>UID 0 is reserved for root account</li>
<li>UIDs 1-200 are used by Red Hat for core service accounts</li>
<li>UIDs 201-999 are reserved for non-core service accounts</li>
<li>UIDs 1000 &lt; are for normal user accounts (starts at 1000 by default)</li>
</ul>
</li>
<li>GID
<ul>
<li>GID that matches entry in /etc/group (primary group)</li>
<li>Group for every user by default that matches UID</li>
</ul>
</li>
<li>Comments (GECOS) or (GCOS)
<ul>
<li>general comments about the user</li>
</ul>
</li>
<li>Home Directory
<ul>
<li>absolute path to the user home directory.</li>
</ul>
</li>
<li>Shell
<ul>
<li>absolute path of the shell file for the user&rsquo;s primary shell after logging in. (default = (/bin/bash))</li>
</ul>
</li>
</ul>
</li>
</ul>

<h3 class="relative group">/etc/shadow
    <div id="etcshadow" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#etcshadow" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>no access permissions for any user (even root) (but owned by root)</li>
<li>secure password control (shadow password)</li>
<li>user passwords are hashed and stored in a more secure file /etc/shadow</li>
<li>limits on user passwords in terms of expiration, warning period, etc. applied on per-user basis</li>
<li>limits and other settings are defined in /etc/login.defs</li>
<li>user is initially checked in the passwd file for existence and then in the shadow file for authenticity.</li>
<li>contains user authentication and password aging information.</li>
<li>Each row in the file corresponds to one entry in the passwd file.</li>
<li>login names are used as a common key between the shadow and passwd files.</li>
<li>nine colon-separated fields per line entry.
<ul>
<li>1 Login name</li>
<li>2 Encrypted password
<ul>
<li>! at the beginning of this field shows that the user account is locked</li>
<li>if field is empty then user has passwordless entry</li>
</ul>
</li>
<li>3 last change
<ul>
<li>Number of days (lastchg) since the UNIX epoch, (UNIX time (January 01, 1970 00:00:00 UTC) when the password was last modified.</li>
<li>Empty field represents the passiveness of password aging features.</li>
<li>0 forces the user to change their password upon next login.</li>
</ul>
</li>
<li>4 minimum
<ul>
<li>number of days (mindays) that must elapse before the user is allowed to change their password</li>
<li>can be altered using the <code>chage</code> command with the <code>-m</code> option or the <code>passwd</code> command with the <code>-n</code> option.</li>
<li>0 or null in this field disables this feature.</li>
</ul>
</li>
<li>5 (Maximum)
<ul>
<li>maximum number of days (maxdays) before the user password expires and must be changed.</li>
<li>may be altered using the <code>chage</code> command with the <code>-M </code>option or the <code>passwd</code> command with the <code>-x</code> option.</li>
<li>null value here disables this feature along with other features such as the maximum password age, warning alerts, and the user inactivity period.</li>
</ul>
</li>
<li>6 Field 6 (Warning)
<ul>
<li>number of days (warndays) the user gets warnings for changing their password before it expires.</li>
<li>may be altered using the <code>chage</code> command with the <code>-W</code> option or the <code>passwd</code> command with the <code>-w</code> option.</li>
<li>0 or null in this field disables this feature.</li>
</ul>
</li>
<li>7 Password Expiry)
<ul>
<li>maximum allowable number of days for the user to be able to log in with the expired password. (inactivity period).</li>
<li>may be altered using the <code>chage</code> command with the <code>-I</code> option or the <code>passwd</code> command with the <code>-i</code> option.</li>
<li>empty field disables this feature.</li>
</ul>
</li>
<li>8 (Account Expiry)
<ul>
<li>number of days since the UNIX time when the user account will expire and no longer be available.</li>
<li>may be altered using the chage command with the <code>-E</code> option.</li>
<li>empty field disables this feature.</li>
</ul>
</li>
<li>9 (Reserved): Reserved for future use.</li>
</ul>
</li>
</ul>

<h3 class="relative group">/etc/group
    <div id="etcgroup" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#etcgroup" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>plaintext file and contains critical group information.</li>
<li>644 permissions by default and owned by root.</li>
<li>Each row in the file stores information for one group entry.</li>
<li>Every user on the system must be a member of at least one group (User Private Group (UPG)).</li>
<li>a group name matches the username it is associated with by default</li>
<li>four colon-separated fields per line entry.
<ul>
<li>Field 1 (Group Name):
<ul>
<li>Holds a group name that must begin with a letter. Group names with up to 255 characters, including the</li>
<li>uppercase, underscore (_) and hyphen (-) characters, are also supported. (not recommended)</li>
</ul>
</li>
<li>Field 2 (Encrypted Password):
<ul>
<li>Can be empty or contain an “x” (points to the /etc/gshadow file for the actual password), or a hashed group-level password.</li>
<li>can set a password on a group for non-members to be able to change their group identity temporarily using the <code>newgrp </code>command.</li>
<li>non-members must enter the correct password in order to do so.</li>
</ul>
</li>
<li>Field 3 (GID):
<ul>
<li>Holds a GID, that is also placed in the GID field of the passwd file.</li>
<li>By default, groups are created with GIDs starting at 1000 and with the same name as the username.</li>
<li>system allows several users to belong to a single group</li>
<li>also allows a single user to be a member of multiple groups at the same time.</li>
</ul>
</li>
<li>Field 4 (Group Members):
<ul>
<li>Lists the membership for the group. (user’s primary group is always defined in the GID field of the passwd file.)</li>
</ul>
</li>
</ul>
</li>
</ul>

<h3 class="relative group">/etc/gshadow
    <div id="etcgshadow" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#etcgshadow" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>no access permissions for any user (even root)</li>
<li>group passwords are hashed and stored</li>
<li>group names are used as a common key between the gshadow and group files.</li>
<li>000 permissions and owned by root</li>
<li>four colon-separated fields
<ul>
<li>Field 1 (Group Name):
<ul>
<li>Consists of a group name as appeared in the group file.</li>
</ul>
</li>
<li>Field 2 (Encrypted Password):
<ul>
<li>Can contain a hashed password, which may be set with the gpasswd command for non-group members to access the group temporarily using the <code>newgrp</code> command.</li>
<li>single exclamation mark (!) or a null value in this field allows group members password-less access and restricts non-members from switching into this group.</li>
</ul>
</li>
<li>Field 3 (Group Administrators):
<ul>
<li>Lists usernames of group administrators that are authorized to add or remove members with the gpasswd command.</li>
</ul>
</li>
<li>Field 4 (Members):
<ul>
<li>comma-separated list of members.</li>
</ul>
</li>
</ul>
</li>
</ul>

<h3 class="relative group"><code>gpasswd</code> command:
    <div id="gpasswd-command" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#gpasswd-command" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>add group administrators.</li>
<li>add or delete group members.
<ul>
<li>assign or revoke a group-level password.</li>
<li>disable the ability of the newgrp command to access a group.</li>
<li>picks up the default values from the /etc/login.defs file.</li>
</ul>
</li>
</ul>

<h3 class="relative group">useradd and login.defs configuration files
    <div id="useradd-and-logindefs-configuration-files" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#useradd-and-logindefs-configuration-files" aria-label="Anchor">#</a>
    </span>
    
</h3>

<h3 class="relative group"><code>useradd</code> command
    <div id="useradd-command" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#useradd-command" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>picks up the default values from the /etc/default/useradd and /etc/login.defs files for any options that are not specified at the command line when executing it.</li>
<li>login.defs file is also consulted by the usermod, userdel, chage, and passwd commands</li>
<li>Both files store several defaults including those that affect the password length and password lifecycle.
/etc/default/useradd Default Directives:</li>
<li>starting GID (GROUP) (provided the USERGROUPS_ENAB directive in the login.defs file is set to no)</li>
<li>home directory location (HOME)</li>
<li>number of inactivity days between password expiry and permanent account disablement (INACTIVE)</li>
<li>account expiry date (EXPIRE),</li>
<li>login shell (SHELL),</li>
<li>skeleton directory location to copy user initialization files from (SKEL)</li>
<li>whether to create mail spool directory (CREATE_MAIL_SPOOL)</li>
</ul>

<h3 class="relative group">/etc/login.defs default directives:
    <div id="etclogindefs-default-directives" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#etclogindefs-default-directives" aria-label="Anchor">#</a>
    </span>
    
</h3>
<p>MAIL_DIR</p>
<ul>
<li>mail directory location</li>
</ul>
<p>PASS_MAX_DAYS, PASS_MIN_DAYS, PASS_MIN_LEN, and PASS_WARN_AGE</p>
<ul>
<li>password aging attributes.</li>
</ul>
<p>UID_MIN, UID_MAX, GID_MIN, and GID_MAX</p>
<ul>
<li>ranges of UIDs and GIDs to be allocated to new users and groups</li>
</ul>
<p>SYS_UID_MIN, SYS_UID_MAX, SYS_GID_MIN, and SYS_GID_MAX</p>
<ul>
<li>ranges of UIDs and GIDs to be allocated to new service users and groups</li>
</ul>
<p>CREATE_HOME</p>
<ul>
<li>whether to create a home directory</li>
</ul>
<p>UMASK</p>
<ul>
<li>permissions to be set on the user home directory at creation based on this umask value</li>
</ul>
<p>USERGROUPS_ENAB</p>
<ul>
<li>whether to delete a user’s group (at the time of user deletion) if it contains no more members</li>
</ul>
<p>ENCRYPT_METHOD</p>
<ul>
<li>encryption method for user passwords</li>
</ul>

<h2 class="relative group">Password Aging attributes
    <div id="password-aging-attributes" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#password-aging-attributes" aria-label="Anchor">#</a>
    </span>
    
</h2>
<ul>
<li>Can be done for an individual user or applied to all users.</li>
<li>Can prevent users from logging in to the system by locking their access for a period of time or permanently.</li>
<li>Must be performed by a user with elevated privileges of the root user.</li>
<li>Normal users may be allowed access to privileged commands by defining them appropriately in a configuration file.</li>
<li>Each file that exists on the system regardless of its type has an owning user and an owning group.</li>
<li>every file that a user creates is in the ownership of that user.</li>
<li>ownership may be changed and given to another user by a super user.</li>
</ul>

<h3 class="relative group">Password Aging and management
    <div id="password-aging-and-management" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#password-aging-and-management" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>Setting restrictions on password expiry, account disablement, locking and unlocking users, and password change frequency.</li>
<li>Can choose to inactivate it completely for an individual user.</li>
<li>Stored in the /etc/shadow file (fields 4 to 8) and its default policies in the /etc/login.defs configuration file.</li>
<li>aging management tools—<code>chage</code> and <code>passwd</code>—</li>
<li><code>usermod</code> command can be used to implement two aging attributes (user expiry and password expiry) and lock and unlock user accounts.</li>
</ul>

<h3 class="relative group">chage command
    <div id="chage-command" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#chage-command" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>Set or alter password aging parameters on a user account.</li>
<li>Changes various fields in the shadow file</li>
<li>Switches
<ul>
<li>-d (&ndash;lastday)
<ul>
<li>Specifies an explicit date in the YYYY-MM-DD format, or the number of days since the UNIX time when the password was last modified. With -d 0, the user is forced to change the password at next login. It corresponds to field 3 in the shadow file.</li>
</ul>
</li>
<li>-E (&ndash;expiredate)
<ul>
<li>Sets an explicit date in the YYYY-MM-DD format, or the number of days since the UNIX time on which the user account is deactivated. This feature can be disabled with -E -1. It corresponds to the eighth field in the shadow file.</li>
</ul>
</li>
<li>-I (&ndash;inactive)
<ul>
<li>Defines the number of days of inactivity after the password expiry and before the account is locked. The user may be able to log in during this period with their expired password. This feature can be disabled with -I -1. It corresponds to field 7 in the shadow file.</li>
</ul>
</li>
<li>-l
<ul>
<li>Lists password aging attributes set on a user account.</li>
</ul>
</li>
<li>-m (&ndash;mindays)
<ul>
<li>Indicates the minimum number of days that must elapse before the password can be changed. A value of 0 allows the user to change their password at any time. It corresponds to field 4 in the shadow file.</li>
</ul>
</li>
<li>-M (&ndash;maxdays)
<ul>
<li>Denotes the maximum number of days of password validity before the user password expires and it must be changed. This feature can be disabled with -M -1. It corresponds to field 5 in the shadow file.</li>
</ul>
</li>
<li>-W (&ndash;warndays)
<ul>
<li>Designates the number of days for which the user gets alerts to change their password before it expires. It corresponds to field 6 in the shadow file.</li>
</ul>
</li>
</ul>
</li>
</ul>

<h3 class="relative group">passwd command
    <div id="passwd-command" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#passwd-command" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>set or modify a user’s password</li>
<li>modify the password aging attributes and</li>
<li>lock or unlock account</li>
<li>Switches
<ul>
<li>-d (&ndash;delete)
<ul>
<li>Deletes a user password</li>
<li>does not expire the user account.</li>
</ul>
</li>
<li>-e (&ndash;expire)
<ul>
<li>Forces a user to change their password upon next logon.</li>
<li>sets date to prior to Unix time</li>
</ul>
</li>
<li>-i (&ndash;inactive)
<ul>
<li>Defines the number of days of inactivity after the password expiry and before the account is locked. (field 7 in shadow file)</li>
</ul>
</li>
<li>-l (&ndash;lock)
<ul>
<li>Locks a user account.</li>
</ul>
</li>
<li>-n (&ndash;minimum)
<ul>
<li>Specifies the number of days that must elapse before the password can be changed. (field 4 in shadow file)</li>
</ul>
</li>
<li>-S (&ndash;status)
<ul>
<li>Displays the status information for a user.</li>
</ul>
</li>
<li>-u (&ndash;unlock)
<ul>
<li>Unlocks a locked user account.</li>
</ul>
</li>
<li>-w (&ndash;warning)
<ul>
<li>Designates the number of days for which the user gets alerts to change their password before it actually expires. (field 6 in shadow file)</li>
</ul>
</li>
<li>-x (&ndash;maximum)
<ul>
<li>Denotes the maximum number of days of password validity before the user password expires and it must be changed. (field 5 in shadow file)</li>
</ul>
</li>
</ul>
</li>
</ul>

<h3 class="relative group">usermod command
    <div id="usermod-command" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#usermod-command" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>Modify a user’s attribute</li>
<li>Lock or unlock their account</li>
<li>Switches
<ul>
<li>-L (&ndash;lock)
<ul>
<li>Locks a user account by placing a single exclamation mark (!) at the beginning of the password field and before the hashed password string.</li>
</ul>
</li>
<li>-U (&ndash;unlock)
<ul>
<li>Unlocks a user’s account by removing the exclamation mark (!) from the beginning of the password field.</li>
</ul>
</li>
</ul>
</li>
</ul>

<h2 class="relative group">Linux Groups and their Management
    <div id="linux-groups-and-their-management" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#linux-groups-and-their-management" aria-label="Anchor">#</a>
    </span>
    
</h2>
<ul>
<li>/etc/group
<ul>
<li>group info</li>
</ul>
</li>
<li>/etc/login.defs
<ul>
<li>default policies</li>
</ul>
</li>
<li>/etc/gshadow
<ul>
<li>group administrator information and group-level passwords</li>
</ul>
</li>
<li>group management tools
<ul>
<li><code>groupadd</code>, <code>groupmod</code>, and <code>groupdel</code></li>
<li>create, alter, and erase groups</li>
</ul>
</li>
</ul>

<h3 class="relative group">groupadd command
    <div id="groupadd-command" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#groupadd-command" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>adds entries to the group and gshadow files for each group added to the system</li>
<li>picks up default values from /etc/login.defs</li>
<li>Switches
<ul>
<li>-g (&ndash;gid)
<ul>
<li>Specifies the GID to be assigned to the group</li>
</ul>
</li>
<li>-o (&ndash;non-unique)
<ul>
<li>Creates a group with a matching GID of an existing group. When two groups have an identical GID, members of both groups get identical rights on each other’s files. This should only be done in specific situations.</li>
</ul>
</li>
<li>-r
<ul>
<li>Creates a system group with a GID below 1000</li>
</ul>
</li>
<li>groupname
<ul>
<li>Specifies a group name</li>
</ul>
</li>
</ul>
</li>
</ul>

<h3 class="relative group">groupmod command
    <div id="groupmod-command" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#groupmod-command" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>syntax of this command is very similar to the groupadd with most options identical.</li>
<li>Additional flags
<ul>
<li>-n
<ul>
<li>change name of existing group</li>
</ul>
</li>
</ul>
</li>
</ul>

<h2 class="relative group">User Management
    <div id="user-management" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#user-management" aria-label="Anchor">#</a>
    </span>
    
</h2>

<h3 class="relative group">Switching Users
    <div id="switching-users" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#switching-users" aria-label="Anchor">#</a>
    </span>
    
</h3>

<h4 class="relative group">su command
    <div id="su-command" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#su-command" aria-label="Anchor">#</a>
    </span>
    
</h4>
<p>Ctrl-d
- return to previous user
su -
- switch user with startup scripts
-c
- issue a command as a user without switching to them.</p>
<ul>
<li>root user can switch into any user account that exists on the system without being prompted for that user’s password.</li>
<li>switching into the root account to execute privileged actions is not recommended.</li>
</ul>

<h3 class="relative group">whoami command
    <div id="whoami-command" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#whoami-command" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>show current user</li>
</ul>

<h3 class="relative group">logname command
    <div id="logname-command" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#logname-command" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>Identity of the user who originally logged in.</li>
</ul>

<h3 class="relative group">groupdel command
    <div id="groupdel-command" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#groupdel-command" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>removes entries for the specified group from both group and gshadow files.</li>
</ul>

<h3 class="relative group">Doing as Superuser (substitute user)
    <div id="doing-as-superuser-substitute-user" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#doing-as-superuser-substitute-user" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>Any normal user that requires privileged access to administrative commands or non-owning files is defined in the sudoers file.
<ul>
<li>File may be edited with a command called <code>visudo</code></li>
<li>Creates a copy of the file as sudoers.tmp and applies the changes there. After the visudo session is over, the updated updated file overwrites the original sudoers file and sudoers.tmp is deleted.</li>
<li>syntax
<ul>
<li>user1 ALL=(ALL) ALL</li>
<li>%dba ALL=(ALL) ALL
group is prefixed by %</li>
</ul>
</li>
<li>Make it so members are not prompted for password
<ul>
<li>user1 ALL=(ALL) NOPASSWD:ALL</li>
<li>%dba ALL=(ALL) NOPASSWD:ALL</li>
</ul>
</li>
<li>Limit access to a single command
<ul>
<li>user1 ALL=/usr/bin/cat</li>
<li>%dba ALL=/usr/bin/cat</li>
</ul>
</li>
</ul>
</li>
<li>too many entries can clutter sudoers file. Use aliases instead:
<ul>
<li>User_Alias
<ul>
<li>you can define a User_Alias called PKGADM for user1, user100, and user200. These users may or may not belong to the same Linux group.</li>
</ul>
</li>
<li>Cmnd_Alias
<ul>
<li>you can define a Cmnd_Alias called PKGCMD containing yum and rpm package management commands</li>
</ul>
</li>
</ul>
</li>
</ul>

<h3 class="relative group">sudo command
    <div id="sudo-command" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#sudo-command" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>/etc/sudoers</li>
<li>/etc/sudoers.d/
<ul>
<li>drop-in directory
/var/log/secure</li>
<li>Sudo logs successful authentication and command data to here under the name of the user using the command.</li>
</ul>
</li>
</ul>

<h3 class="relative group">Owning User and Owning Group
    <div id="owning-user-and-owning-group" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#owning-user-and-owning-group" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>Every file and directory has an owner.</li>
<li>Creator assumes ownership by default.</li>
<li>Every user is a member of one or more groups.</li>
<li>Owners group is also assigned to file or directory by default.</li>
</ul>

<h3 class="relative group">chown command
    <div id="chown-command" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#chown-command" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>alter the ownership for files and directories</li>
<li>Must have root privileges.</li>
<li>Can also change owning group.</li>
</ul>

<h3 class="relative group">chgrp command
    <div id="chgrp-command" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#chgrp-command" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ul>
<li>alter the owning group for files and directories</li>
<li>Must have root privileges.</li>
</ul>

<h2 class="relative group">Advanced User Management Labs
    <div id="advanced-user-management-labs" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#advanced-user-management-labs" aria-label="Anchor">#</a>
    </span>
    
</h2>

<h3 class="relative group">Lab: Set and Confirm Password Aging with chage (root)
    <div id="lab-set-and-confirm-password-aging-with-chage-root" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#lab-set-and-confirm-password-aging-with-chage-root" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ol>
<li>Set password aging parameters for user100 to mindays (-m) 7, maxdays (-M) 28, and warndays (-W) 5:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">chage -m <span class="m">7</span> -M <span class="m">28</span> -W <span class="m">5</span> user100
</span></span></code></pre></div><ol start="2">
<li>Confirm</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">chage -l user100
</span></span></code></pre></div><ol start="3">
<li>Set the account expiry to January 31, 2020</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">chage -E 2020-01-31 user100
</span></span></code></pre></div><ol start="4">
<li>Verify the new account expiry setting</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">chage -l user100
</span></span></code></pre></div>
<h3 class="relative group">Lab: Set and Confirm Password Aging with passwd (root)
    <div id="lab-set-and-confirm-password-aging-with-passwd-root" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#lab-set-and-confirm-password-aging-with-passwd-root" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ol>
<li>Set password aging attributes for user200 to mindays 10, maxdays 90, and warndays 14:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">passwd -n <span class="m">10</span> -x <span class="m">90</span> -w <span class="m">14</span> user200
</span></span></code></pre></div><ol start="2">
<li>Confirm:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">passwd -S user200
</span></span></code></pre></div><ol start="3">
<li>Set the number of inactivity days to 5:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">passwd -i <span class="m">5</span> user200
</span></span></code></pre></div><ol start="4">
<li>Confirm:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">passwd -S user200
</span></span></code></pre></div><ol start="5">
<li>Ensure that the user is forced to change their password at next login:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">passwd -e user200
</span></span></code></pre></div><ol start="6">
<li>Confirm:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">passwd -S user200
</span></span></code></pre></div>
<h3 class="relative group">Lab: Lock and Unlock a User Account with usermod and passwd (root)
    <div id="lab-lock-and-unlock-a-user-account-with-usermod-and-passwd-root" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#lab-lock-and-unlock-a-user-account-with-usermod-and-passwd-root" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ol>
<li>Obtain the current password information for user200 from the shadow file:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">grep user200 /etc/shadow
</span></span></code></pre></div><ol start="2">
<li>Lock the account for user200:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">usermod -L user200 
</span></span></code></pre></div><ol start="3">
<li>Confirm:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">grep user200 /etc/shadow
</span></span></code></pre></div><ol start="4">
<li>Unlock the account with either of the following:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">usermod -U user200
</span></span><span class="line"><span class="cl">or
</span></span><span class="line"><span class="cl">passwd -u user200
</span></span></code></pre></div><ol start="5">
<li>confirm</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">grep user200 /etc/shadow
</span></span></code></pre></div>
<h3 class="relative group">Lab: Create a Group and Add Members (root)
    <div id="lab-create-a-group-and-add-members-root" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#lab-create-a-group-and-add-members-root" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ol>
<li>Create the group linuxadm with GID 5000:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">groupadd -g <span class="m">5000</span> linuxadm
</span></span></code></pre></div><ol start="2">
<li>Create a group called dba with the same GID as that of group linuxadm:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">groupadd -o -g <span class="m">5000</span> dba
</span></span></code></pre></div><ol start="3">
<li>Confirm:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">grep linuxadm /etc/group
</span></span><span class="line"><span class="cl">grep dba /etc/group
</span></span></code></pre></div><ol start="4">
<li>Add user1 as a secondary member of group dba using the <code>usermod </code>command. The existing membership for the user must remain intact.</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">usermod -aG dba user1
</span></span></code></pre></div><ol start="5">
<li>Verify the updated group membership information for user1 by extracting the relevant entry from the group file, and running the id and groups command for user1:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">grep dba /etc/group
</span></span><span class="line"><span class="cl">id user1
</span></span><span class="line"><span class="cl">groups user1
</span></span></code></pre></div>
<h3 class="relative group">Lab: Modify and Delete a Group Account (root)
    <div id="lab-modify-and-delete-a-group-account-root" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#lab-modify-and-delete-a-group-account-root" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ol>
<li>Alter the name of linuxadm to sysadm:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">groupmod -n sysadm linuxadm
</span></span></code></pre></div><ol start="2">
<li>Change the GID of sysadm to 6000:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">groupmod -g <span class="m">6000</span> sysadm
</span></span></code></pre></div><ol start="3">
<li>Confirm:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">grep sysadm /etc/group
</span></span><span class="line"><span class="cl">grep linuxadm /etc/group
</span></span></code></pre></div><ol start="4">
<li>Delete sysadm group and confirm:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">groupdel sysadm
</span></span><span class="line"><span class="cl">grep sysadm /etc/group
</span></span></code></pre></div>
<h3 class="relative group">Lab: To switch from user1 (assuming you are logged in as user1) into root without executing the startup scripts
    <div id="lab-to-switch-from-user1-assuming-you-are-logged-in-as-user1-into-root-without-executing-the-startup-scripts" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#lab-to-switch-from-user1-assuming-you-are-logged-in-as-user1-into-root-without-executing-the-startup-scripts" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ol>
<li></li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">su
</span></span></code></pre></div><ol start="2">
<li>switch to user100</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">su - user100
</span></span></code></pre></div><ol start="3">
<li>See what whoami and logname reports now:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">whoami
</span></span><span class="line"><span class="cl">logname
</span></span></code></pre></div><ol start="4">
<li>use su as follows and execute this privileged command to obtain desired results:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">su -c <span class="s1">&#39;firewall-cmd --list-services&#39;</span>
</span></span></code></pre></div>
<h3 class="relative group">Lab: Add user1 to sudo file but only for the cat command.
    <div id="lab-add-user1-to-sudo-file-but-only-for-the-cat-command" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#lab-add-user1-to-sudo-file-but-only-for-the-cat-command" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ol>
<li>Open up /etc/sudoers and add the following:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">user1 <span class="nv">ALL</span><span class="o">=</span>/usr/bin/cat
</span></span></code></pre></div><ol start="2">
<li>run cat as user1 with and without sudo:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">cat /etc/sudoers
</span></span><span class="line"><span class="cl">sudo cat /etc/sudoers
</span></span></code></pre></div>
<h3 class="relative group">Lab: Add user and command aliases to the sudoer file.
    <div id="lab-add-user-and-command-aliases-to-the-sudoer-file" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#lab-add-user-and-command-aliases-to-the-sudoer-file" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ol>
<li>Add the following to the bottom of the sudoers file:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">Cmnd_Alias <span class="nv">PKGCMD</span> <span class="o">=</span> /usr/bin/yum, /usr/bin/rpm
</span></span><span class="line"><span class="cl">User_Alias <span class="nv">PKGADM</span> <span class="o">=</span> user1, user100, user200 
</span></span><span class="line"><span class="cl">PKGADM <span class="nv">ALL</span><span class="o">=</span>PKGCMD
</span></span></code></pre></div><ol start="2">
<li>Run rpm or yum with sudo as one of the users.</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo yum 
</span></span></code></pre></div>
<h3 class="relative group">Lab: Take a look at examples in the sudoers file.
    <div id="lab-take-a-look-at-examples-in-the-sudoers-file" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#lab-take-a-look-at-examples-in-the-sudoers-file" aria-label="Anchor">#</a>
    </span>
    
</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">cat /etc/sudoers
</span></span></code></pre></div>
<h3 class="relative group">Lab: Viewing owner and group information
    <div id="lab-viewing-owner-and-group-information" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#lab-viewing-owner-and-group-information" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ol>
<li>Create a file file1 as user1 in their home directory and exhibit the file’s long listing:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">touch file1
</span></span><span class="line"><span class="cl">ls -l file1
</span></span></code></pre></div><ol start="2">
<li>View the corresponding UID and GID instead, you can specify the -n option with the command:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ls -ln file1
</span></span></code></pre></div>
<h3 class="relative group">Lab: Modify File Owner and Owning Group
    <div id="lab-modify-file-owner-and-owning-group" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#lab-modify-file-owner-and-owning-group" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ol>
<li>Change into the /tmp directory and create file10 and dir10:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">cd</span> /tmp
</span></span><span class="line"><span class="cl">touch file10
</span></span><span class="line"><span class="cl">mkdir dir10
</span></span></code></pre></div><ol start="2">
<li>Check and validate that both attributes are set to user1:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ls -l file10
</span></span><span class="line"><span class="cl">ls -ld dir10
</span></span></code></pre></div><ol start="3">
<li>Set the ownership of file10 to user100 and confirm:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo chown user100 file10
</span></span><span class="line"><span class="cl">ls -l file10
</span></span></code></pre></div><ol start="4">
<li>Alter the owning group to dba and verify:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo chgrp dba file10
</span></span><span class="line"><span class="cl">ls -l file10
</span></span></code></pre></div><ol start="5">
<li>Change the ownership to user200 and owning group to user100 and confirm:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo chown user200:user100 file10
</span></span></code></pre></div><ol start="6">
<li>Modify the ownership to user200 and owning group to dba recursively on dir10 and validate:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo  chown -R user200:dba dir10
</span></span><span class="line"><span class="cl">ls -ld dir10
</span></span></code></pre></div>
<h3 class="relative group">Lab: Create User and Configure Password Aging (root)
    <div id="lab-create-user-and-configure-password-aging-root" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#lab-create-user-and-configure-password-aging-root" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ol>
<li>Create group lnxgrp with GID 6000.</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">groupadd lnxgrp -g <span class="m">6000</span>
</span></span></code></pre></div><ol start="2">
<li>Create user user5000 with UID 5000 and GID 6000. Assign this user a password.</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">useradd -u <span class="m">5000</span> -g <span class="m">6000</span> user5000
</span></span></code></pre></div><ol start="3">
<li>Establish password aging attributes so that this user cannot change their password within 4 days after setting it and with a password validity of 30 days. This user should start getting warning messages for changing password 10 days prior to account lock down.</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">chage -m <span class="m">4</span> -M <span class="m">30</span> -W <span class="m">10</span> user5000
</span></span></code></pre></div><ol start="4">
<li>This user account needs to expire on the 20th of December, 2021.</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">chage -E 2021-12-20 user5000
</span></span></code></pre></div>
<h3 class="relative group">Lab 6-2: Lock and Unlock User (root)
    <div id="lab-6-2-lock-and-unlock-user-root" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#lab-6-2-lock-and-unlock-user-root" aria-label="Anchor">#</a>
    </span>
    
</h3>
<ol>
<li>Lock the user account for user5000 using the passwd command, and</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">passwd -l user5000
</span></span></code></pre></div><ol start="2">
<li>confirm by examining the change in the /etc/shadow file.</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">cat /etc/shadow
</span></span></code></pre></div><ol start="3">
<li>Try to log in with user5000 and observe what happens.</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">su - user1
</span></span><span class="line"><span class="cl">su - user5000
</span></span></code></pre></div><ol start="4">
<li>Use the usermod command and unlock</li>
</ol>

          
          
          
        </div>
        
        

        

        

      </div>

      
      
        
        
          
          
        
        
        
        <script
          type="text/javascript"
          src="/js/page.min.54b6f4371722649edbe871e431d8670d670878c22be8f36e229fe53cc9b786fe25a834def5e6de621f7a3e37b72bc8cd73839aa5ed907ed6cbd45cd3e1b0fa20.js"
          integrity="sha512-VLb0NxciZJ7b6HHkMdhnDWcIeMIr6PNuIp/lPMm3hv4lqDTe9ebeYh96Pje3K8jNc4Oape2QftbL1FzT4bD6IA=="
          data-oid="views_tech/linux/Advanced User Management.md"
          data-oid-likes="likes_tech/linux/Advanced User Management.md"></script>
      
    </section>

    
    <footer class="pt-8 max-w-prose print:hidden">
      

      
    </footer>
  </article>

        


  






<div
  id="scroll-to-top"
  class="fixed bottom-6 end-6 z-50 transform translate-y-4 opacity-0 duration-200">
  <a
    href="#the-top"
    class="pointer-events-auto flex h-12 w-12 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400"
    aria-label="Scroll to top"
    title="Scroll to top">
    &uarr;
  </a>
</div>

      </main><footer id="site-footer" class="py-10 print:hidden">
  
  
    
      
      
        
      
      
      
      
      <nav class="flex flex-row pb-4 text-base font-medium text-neutral-500 dark:text-neutral-400 overflow-x-auto py-2">
        <ul class="flex list-none flex-row">
          
            <li class=" flex mb-1 text-end sm:mb-0 sm:me-7 sm:last:me-0 me-4">
              <a
                class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center"
                href=""
                title="">
                
                
              </a>
            </li>
          
        </ul>
      </nav>
    
  
  <div class="flex items-center justify-between">
    
    
      <p class="text-sm text-neutral-500 dark:text-neutral-400">
          &copy;
          2025
          David Thomas
      </p>
    

    
    
  </div>
  
    <script>
      mediumZoom(document.querySelectorAll("img:not(.nozoom)"), {
        margin: 24,
        background: "rgba(0,0,0,0.5)",
        scrollOffset: 0,
      });
    </script>
  
  
  
  <script
    type="text/javascript"
    src="/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js"
    integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh&#43;sCQ0E53ghYrxgYqw&#43;0GCRyIEpA=="></script>
  
  
</footer>
<div
  id="search-wrapper"
  class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh] z-500"
  data-url="http://localhost:1313/">
  <div
    id="search-modal"
    class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800">
    <header class="relative z-10 flex items-center justify-between flex-none px-2">
      <form class="flex items-center flex-auto min-w-0">
        <div class="flex items-center justify-center w-8 h-8 text-neutral-400">
          <span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span>
        </div>
        <input
          type="search"
          id="search-query"
          class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent"
          placeholder="Search"
          tabindex="0">
      </form>
      <button
        id="close-search-button"
        class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
        title="Close (Esc)">
        <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>
</span>
      </button>
    </header>
    <section class="flex-auto px-2 overflow-auto">
      <ul id="search-results">
        
      </ul>
    </section>
  </div>
</div>

    </div>
  </body>
  
</html>
